<!doctype html>
<html ng-strict-di="true" lang="{{app.language}}" ng-controller="AppCtrl" ng-csp>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <base href="/">
    <meta name="fragment" content="!">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <!--[if lte IE 9]>
    <script>
        window.location.href = '/views/unknown_device.html';
    </script>
    <![endif]-->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.2.1/angular-material.min.css">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:300,400,700" rel="stylesheet">
    <link href="styles/citizenos-fe.bundle.css?v=cd6b152801bc07198e3d8b75bb15d476" rel="stylesheet">
    <link href="config/styles/local.css?v=d41d8cd98f00b204e9800998ecf8427e" rel="stylesheet">

    <script src="settings.js?v=39d97168bcb6ef4617eeb79bc99f4f96"></script>
    <script src= "js/libs/marked.min.js?v=7fef42e249905a4d04267694cf65e7e4"></script>
    <script src="page.js?v=f8396d0396f865d7b614bba08f08fd31" data-name="TokenSigning"></script>

    <meta name="theme-color" content="#1a1a1a">
    <link rel="alternate" ng-repeat="(lang, path) in app.metainfo.hreflang" hreflang="{{lang}}" href="{{path}}">
</head>

<body ng-class="app.topics_settings || app.showSearchFiltersMobile || app.showSearchResults ? 'body_fixed' : 'body_not_fixed'" cos-resize>
    <!-- INFO BAR - base.scss -->
    <div class="info_bar_wrap">
        <!-- ORANGE MESSAGE for TESTING ENV NOTIFICATION -->
        <div class="info_bar bar_orange" ng-class="{'info_bar_show': app.showTestingEnvNotification}">
            <div class="info_icon">
                <div class="sprite sprite-icon-notification-error2x"></div>
            </div>

            <div class="info_bar_text">
                PLEASE NOTE! This Citizen OS is a testing environment and is for TESTING ONLY, all data here MAY be deleted at any time! Please visit <a href="https://app.citizenos.com">https://app.citizenos.com</a> for LIVE application.
            </div>

            <div class="info_icon" ng-click="app.showTestingEnvNotification = false">
                <div class="sprite sprite-icon-closemenu2x"></div>
            </div>
        </div>

        <!-- RED MESSAGE -->
        <div class="info_bar bar_red" ng-class="{'info_bar_show': app.notifications.messages[app.notifications.levels.ERROR].length}" >
            <div class="info_icon">
                <div class="sprite sprite-icon-notification-error2x"></div>
            </div>

            <div class="info_bar_text">
                <div class="info_row" ng-repeat="key in app.notifications.messages[app.notifications.levels.ERROR] track by $index">
                    <span translate="{{key}}"></span>
                </div>
            </div>

            <div class="info_icon" ng-click="app.notifications.removeAll(app.notifications.levels.ERROR)">
                <div class="sprite sprite-icon-closemenu2x"></div>
            </div>
        </div>

        <!-- BLUE MESSAGE -->
        <div class="info_bar bar_blue"  ng-class="{'info_bar_show': app.notifications.messages[app.notifications.levels.INFO].length}">
            <div class="info_icon">
                <div class="sprite sprite-icon-notification-info2x"></div>
            </div>

            <div class="info_bar_text">
                <div class="info_row" ng-repeat="key in app.notifications.messages[app.notifications.levels.INFO] track by $index">
                    <span translate="{{key}}"></span>
                </div>
            </div>

            <div class="info_icon" ng-click="app.notifications.removeAll(app.notifications.levels.INFO)">
                <div class="sprite sprite-icon-closemenu2x"></div>
            </div>
        </div>

        <!-- GREEN MESSAGE -->
        <div class="info_bar bar_green" ng-class="{'info_bar_show': app.notifications.messages[app.notifications.levels.SUCCESS].length}">
            <div class="info_icon">
                <div class="sprite sprite-icon-notification-check2x"></div>
            </div>

            <div class="info_bar_text">
                <div class="info_row" ng-repeat="key in app.notifications.messages[app.notifications.levels.SUCCESS] track by $index">
                    <span translate="{{key}}"></span>
                </div>
            </div>

            <div class="info_icon" ng-click="app.notifications.removeAll(app.notifications.levels.SUCCESS)">
                <div class="sprite sprite-btn-popup-close-2x-green"></div>
            </div>
        </div>
    </div>

    <!-- CONTENT -->
    <!-- Cant have ui-view without a wrapper element. Search results depend on the outer element height, thus the style -->
    <div ui-view class="full_height"></div>
    <div ng-include="'views/widgets/help.html'"></div>
    <script src="js/home.js?v=cc26daed497d0cf8115283abb028363d"></script>
    <script type="text/javascript" src="https://apis.google.com/js/api.js?onload=onApiLoad"></script>
    <script src="js/bundle.js?v=e10879057613c5f64e5884d834b8cb95"></script>
</body>
</html>
