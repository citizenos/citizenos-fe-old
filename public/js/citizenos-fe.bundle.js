var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);r.prototype=t.prototype;e.prototype=new r};!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.OneDrive=e()}}(function(){var e;return function t(e,r,i){function n(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[a]={exports:{}};e[a][0].call(d.exports,function(t){var r=e[a][1][t];return n(r?r:t)},d,d.exports,t,e,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){!function(e,t){"use strict";var r=function(){function e(){}e.SDK_VERSION_NUMBER="7.2";e.SDK_VERSION="js-v"+e.SDK_VERSION_NUMBER;e.TYPE_BOOLEAN="boolean";e.TYPE_FUNCTION="function";e.TYPE_OBJECT="object";e.TYPE_STRING="string";e.TYPE_NUMBER="number";e.VROOM_URL="https://api.onedrive.com/v1.0/";e.VROOM_ENDPOINT_HINT="api.onedrive.com";e.GRAPH_URL="https://graph.microsoft.com/v1.0/";e.NONCE_LENGTH=5;e.CUSTOMER_TID="9188040d-6c67-4c5b-b112-36a304b66dad";e.DEFAULT_QUERY_ITEM_PARAMETER="select=id";return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],2:[function(e,t,r){t.exports=function(e,t,r,i){"use strict";var n=function(){function e(){}e.open=function(e){r["default"].open(e)};e.save=function(e){r["default"].save(e)};return e}();i.onAuth();return n}(e,r,e("./OneDriveApp"),e("./controllers/Oauth"))},{"./OneDriveApp":3,"./controllers/Oauth":7}],3:[function(e,t,r){!function(e,t,r,i,n,o,a,s){"use strict";var u=function(){function e(){}e.open=function(t){if(e.isReady()){t||r.throwError(new o["default"](i["default"].unknown,"missing picker options")).exposeToPublic();n["default"].logMessage("open started");var s=new a["default"](t);s.launchPicker().then(function(){e.reset()})}};e.save=function(t){if(e.isReady()){t||r.throwError(new o["default"](i["default"].unknown,"missing saver options"));n["default"].logMessage("save started");var a=new s["default"](t);a.launchSaver().then(function(){e.reset()})}};e.reset=function(){e.checked=!1};e.isReady=function(){if(e.checked)return!1;e.checked=!0;return!0};e.checked=!1;return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=u}(e,r,e("./utilities/ErrorHandler"),e("./models/ErrorType"),e("./utilities/Logging"),e("./models/OneDriveSdkError"),e("./controllers/Picker"),e("./controllers/Saver"))},{"./controllers/Picker":8,"./controllers/Saver":10,"./models/ErrorType":13,"./models/OneDriveSdkError":16,"./utilities/ErrorHandler":26,"./utilities/Logging":27}],4:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d){"use strict";function c(e,t,r){var o=b(e,t.apiEndpointUrl);r&&(o=u.appendToPath(o,"?"+r));var a=new l["default"]({url:o,clientId:t.clientId,method:l["default"].HTTP_GET,apiEndpoint:t.apiEndpoint,headers:{Authorization:"bearer "+t.accessToken}});n["default"].logMessage("performing GET on item with id: "+e.id);return new d.Promise(function(e,t){a.start(function(t,r){var i=JSON.parse(t.responseText);e(i)},function(e,r,n){t({errorCode:i["default"][i["default"].webRequestFailure],message:"HTTP error status: "+r})})})}function p(e,t,r){for(var i=[],o={webUrl:null,value:[]},a=0,s=e.value;a<s.length;a++){var u=s[a];i.push(c(u,t,r))}return d.Promise.all(i).then(function(e){o.value=e;return o},function(e){n["default"].logError("Received ajax error.",e);return e})}function f(e,t,r){var o=u.appendToPath(b(e,t.apiEndpointUrl),s.format("{0}.createLink",t.apiActionNamingSpace)),a=new l["default"]({url:o,clientId:t.clientId,method:l["default"].HTTP_POST,apiEndpoint:t.apiEndpoint,headers:{Authorization:"bearer "+t.accessToken},json:JSON.stringify(r)});return new d.Promise(function(t,r){a.start(function(r,i,a){n["default"].logMessage(s.format("POST createLink succeeded via path {0}",o));e.permissions=[JSON.parse(r.responseText)];t(e)},function(e,t,a){n["default"].logMessage(s.format("POST createLink failed via path {0}",o));r({errorCode:i["default"][i["default"].webRequestFailure],message:t})})})}function h(e,t,r){for(var i=[],o={webUrl:null,value:[]},a=0,s=e.value;a<s.length;a++){var u=s[a];i.push(f(u,t,r))}return d.Promise.all(i).then(function(e){o.value=e;return o},function(e){n["default"].logError("Received sharing error.",e);return e})}function v(e,t,r,o,c){var p=null;return new d.Promise(function(d,f){window.File&&r instanceof window.File?p=new FileReader:f(new a["default"](i["default"].unsupportedFeature,"FileReader is not supported in this browser"));p.onerror=function(e){n["default"].logError("failed to read or upload the file",e);f(new a["default"](i["default"].fileReaderFailure,"failed to read or upload the file, see console log for details"))};p.onload=function(r){var n=u.appendToPath(b(e,o.apiEndpointUrl),"children('"+t.name+"')/content"),p={};p["@name.conflictBehavior"]=t["@name.conflictBehavior"];var h={};h.Authorization="bearer "+o.accessToken;h["Content-Type"]="multipart/form-data";var v=new l["default"]({url:u.appendQueryStrings(n,p),clientId:o.clientId,headers:h,apiEndpoint:o.apiEndpoint}),m=r.target.result;v.upload(m,function(e,t){d({webUrl:null,value:[JSON.parse(e.responseText)]})},function(e,t,r){f(new a["default"](i["default"].webRequestFailure,s.format("file uploading failed by form uplaod with HTTP status: {0}",t)))},function(e,t){c(t.progressPercentage)})};p.readAsArrayBuffer(r)})}function m(e,t,n,o){if(o.apiEndpoint===r["default"].filesV2||o.apiEndpoint===r["default"].graph_odb)return new d.Promise(function(e,t){t(new a["default"](i["default"].unsupportedFeature,"URL upload not supported for OneDrive business"))});var s=u.appendToPath(b(e,o.apiEndpointUrl),"children"),p={};p.Prefer="respond-async";p.Authorization="bearer "+o.accessToken;t[_(o.apiEndpoint)]=n;t.file={};var f=new l["default"]({url:s,clientId:o.clientId,method:l["default"].HTTP_POST,headers:p,json:JSON.stringify(t),apiEndpoint:o.apiEndpoint});return u.isPathDataUrl(n)?y(f):u.isPathFullUrl(n)?E(f).then(function(e){return w(e).then(function(e){var t={id:e};return c(t,o).then(function(e){var t={webUrl:null,value:[e]};return d.Promise.resolve(t)})})}):void 0}function g(e){var t=u.appendQueryString(u.appendToPath(e.apiEndpointUrl,"me"),"$select","mySite"),r={};r.Authorization="bearer "+e.accessToken;r.Accept="application/json";var n=new l["default"]({url:t,clientId:e.clientId,method:l["default"].HTTP_GET,headers:r,apiEndpoint:e.apiEndpoint});return new d.Promise(function(e,t){n.start(function(r,n){var u=o.deserializeJSON(r.responseText);u.mySite?e(u.mySite):t(new a["default"](i["default"].badResponse,s.format("Cannot find the personal tenant url, response text: {0}",r.responseText)))},function(e,r,n){t(new a["default"](i["default"].webRequestFailure,s.format("graph/me request failed, status code: '{0}', response text: '{1}'",l["default"].statusCodeToString(r),e.responseText)))})})}function y(e){return new d.Promise(function(t,r){e.start(function(e,n){if(200===n||201===n){var u={webUrl:null,value:[o.deserializeJSON(e.responseText)]};t(u)}else r(new a["default"](i["default"].webRequestFailure,s.format("file uploading failed by data uri with HTTP status: {0}",n)))},function(e,t,n){r(new a["default"](i["default"].webRequestFailure,s.format("file uploading failed with HTTP status: {0}",t)))})})}function E(e){return new d.Promise(function(t,r){e.start(function(e,n){if(202===n){var o=e.getResponseHeader("Location");o||r({errorCode:i["default"].badResponse,message:"missing 'Location' header on response"});t(o)}else r(new a["default"](i["default"].webRequestFailure,s.format("create upload by url job failed with HTTP status: {0}",n)))},function(e,t,n){r(new a["default"](i["default"].webRequestFailure,s.format("create upload by url job failed with HTTP status: {0}",t)))})})}function _(e){return e===r["default"].graph_odb||e===r["default"].graph_odc?"@microsoft.graph.sourceUrl":"@content.sourceUrl"}function w(e){return new d.Promise(function(t,r){!function n(o,s){if(!o--){s*=2;o=P}T(e).then(function(e){e.resourceId?t(e.resourceId):s<=O?setTimeout(n(o,s),s):r(new a["default"](i["default"].webRequestFailure,"polling the uploading job takes too much time"))})}(P,k)})}function T(e){var t=new l["default"]({url:e,method:l["default"].HTTP_GET});return new d.Promise(function(e,r){t.start(function(t,n){switch(n){case 202:case 200:var u=o.deserializeJSON(t.responseText);e(u);break;default:r(new a["default"](i["default"].webRequestFailure,s.format("polling upload job failed with HTTP status: {0}",n)))}},function(e,t,n){r(new a["default"](i["default"].webRequestFailure,s.format("polling upload job failed with HTTP status: {0}",t)))})})}function b(e,t){var r;r=e.parentReference&&e.parentReference.driveId?u.appendToPath("drives",e.parentReference.driveId):"drive";r=u.appendToPath(r,e.id===U?"root":"items/"+e.id);return u.appendToPath(t,r)}var k=100,P=5,O=18e5,U="root";t.getItem=c;t.getItems=p;t.shareItem=f;t.shareItems=h;t.saveItemByFormUpload=v;t.saveItemByUriUpload=m;t.getUserTenantUrl=g}(e,r,e("../models/ApiEndpoint"),e("../models/ErrorType"),e("../utilities/Logging"),e("../utilities/ObjectUtilities"),e("../models/OneDriveSdkError"),e("../utilities/StringUtilities"),e("../utilities/UrlUtilities"),e("../utilities/XHR"),e("es6-promise"))},{"../models/ApiEndpoint":11,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"../utilities/Logging":27,"../utilities/ObjectUtilities":28,"../utilities/StringUtilities":30,"../utilities/UrlUtilities":32,"../utilities/XHR":33,"es6-promise":34}],5:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d,c,p,f,h,v,m){"use strict";var g=function(){function e(e){this.invokerOptions=e;this.popup=new f["default"]}e.prototype.launchInvoker=function(){var e=this,t=this.invokerOptions;return this.launch()["catch"](function(e){u["default"].logError("Failed due to unknown error: ",e);t.error(e)}).then(function(){e.cleanPopupAndIFrame()})};e.prototype.launch=function(e){var t=this;return this.buildOauthPromise(e).then(function(e){return e&&"cancel"===e.type?e:t.buildPickerUI(e)}).then(function(e){var r=t.invokerOptions,i=e.type;i||a.throwError(new c["default"](s["default"].badResponse,v.format("received bad response from picker UX: {0}",JSON.stringify(e)))).exposeToPublic();if("switch"===e.type)return t.launch(!0);if("success"===e.type){for(var u=[],l=!1,d=0,p=e.items;d<p.length;d++){var f=p[d];f.driveItem&&!l&&(l=!0);u.push(f)}var m={webUrl:null,value:u},g=void 0;if(!r.needAPICall()||l&&"rps"===r.accessToken.toLowerCase())g=h.Promise.resolve(m);else{t.apiRequestConfig=t.buildApiConfig();g=t.makeApiRequest(m)}return g.then(function(e){t.oauthResponse&&(e.accessToken=t.oauthResponse.accessToken);t.apiRequestConfig?e.apiEndpoint=t.apiRequestConfig.apiEndpointUrl:t.loginHint&&t.loginHint.endpointHint===o["default"].aad&&(e.apiEndpoint=n["default"].GRAPH_URL);r.success(e);return e})}if("cancel"===e.type){r.cancel();return h.Promise.resolve({webUrl:null,value:null})}})};e.prototype.buildOauthPromise=function(e){var t;t=e||this.invokerOptions.needOauth()?d.auth(d.buildOauthConfig(this.invokerOptions,e),this.popup):h.Promise.resolve(null);return t};e.prototype.buildPickerUI=function(e){var t,n=this;if(e){this.oauthResponse=e;t=l.updateLoginHint(this.invokerOptions.clientId,this.oauthResponse.idToken,this.invokerOptions)}else{this.invokerOptions.endpointHint!==o["default"].msa&&this.invokerOptions.endpointHint!==o["default"].tenant&&a.throwError(new c["default"](s["default"].optionsError,"must specify the endpointHint in advanced options as 'api.onedrive.com' for customer picker or the url for business picker/tenant")).exposeToPublic();var u=this.invokerOptions.endpointHint===o["default"].msa;t={loginHint:null,timeStamp:null,apiEndpoint:u?r["default"].msa:r["default"].filesV2,endpointHint:u?o["default"].msa:o["default"].tenant,isConsumerAccount:u}}this.loginHint=t;var d;d=t.apiEndpoint===r["default"].graph_odb?i.getUserTenantUrl(this.buildApiConfig()):h.Promise.resolve(void 0);return d.then(function(e){n.pickerUX=p.generatePickerUX(t.apiEndpoint,t.endpointHint===o["default"].tenant?n.invokerOptions.siteUrl:e);var r=n.buildPickerUXConfig(n.invokerOptions);n.invokerOptions.navEntryLocation&&(r.entryLocation=n.invokerOptions.navEntryLocation);n.invokerOptions.navSourceTypes&&(r.sourceTypes=n.invokerOptions.navSourceTypes);n.invokerOptions.linkType&&(r.linkType=n.invokerOptions.linkType);return n.pickerUX.invokePickerUX(r,n.popup)})};e.prototype.getApiRequestConfig=function(){return this.apiRequestConfig};e.prototype.buildApiConfig=function(){this.loginHint||a.throwError(new c["default"](s["default"].internalError,"missing loginHint when trying to build API request")).exposeToPublic();this.oauthResponse||this.invokerOptions.accessToken||a.throwError(new c["default"](s["default"].internalError,"missing access token when trying to build API request")).exposeToPublic();var e=null,t=null;switch(this.loginHint.apiEndpoint){case r["default"].graph_odb:case r["default"].graph_odc:e=n["default"].GRAPH_URL;t="microsoft.graph";break;case r["default"].msa:e=n["default"].VROOM_URL;t="action";break;case r["default"].filesV2:e=m.appendToPath(this.invokerOptions.siteUrl,"_api/v2.0/");t="action";break;default:a.throwError(new c["default"](s["default"].internalError,"apiEndpoint in loginHint is not correct"))}var i={accessToken:this.oauthResponse?this.oauthResponse.accessToken:this.invokerOptions.accessToken,apiEndpoint:this.loginHint.apiEndpoint,apiEndpointUrl:e,apiActionNamingSpace:t,clientId:this.invokerOptions.clientId};return i};e.prototype.cleanPopupAndIFrame=function(){this.popup&&this.popup.close();this.pickerUX&&this.pickerUX.removeIFrame()};return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=g}(e,r,e("../models/ApiEndpoint"),e("./ApiRequest"),e("../Constants"),e("../models/DomainHint"),e("../utilities/ErrorHandler"),e("../models/ErrorType"),e("../utilities/Logging"),e("./LoginCache"),e("./Oauth"),e("../models/OneDriveSdkError"),e("./PickerUX"),e("../utilities/Popup"),e("es6-promise"),e("../utilities/StringUtilities"),e("../utilities/UrlUtilities"))},{"../Constants":1,"../models/ApiEndpoint":11,"../models/DomainHint":12,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"../utilities/ErrorHandler":26,"../utilities/Logging":27,"../utilities/Popup":29,"../utilities/StringUtilities":30,"../utilities/UrlUtilities":32,"./ApiRequest":4,"./LoginCache":6,"./Oauth":7,"./PickerUX":9,"es6-promise":34}],6:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l){"use strict";function d(e){e||a.throwError(new u["default"](s["default"].optionsError,"invoker option is not defined!"));var t=i.getCacheItem(g)||{},r=t[y+e.clientId];return r?e.endpointHint!==r.endpointHint?null:e.loginHint&&e.loginHint!==r.loginHint?null:r:null}function c(){var e=i.getCacheItem(g);return(new Date).getTime()-e.timeStamp>h}function p(e,t,a){var s,u,l,d;switch(a.endpointHint){case o["default"].aad:var c=this.parseIdToken(t);s=c.preferredUserName;if(c.tid===n["default"].CUSTOMER_TID){l=r["default"].graph_odc;d=!0}else{l=r["default"].graph_odb;d=!1}u=o["default"].aad;break;case o["default"].msa:l=r["default"].msa;u=o["default"].msa;s=a.loginHint;d=!0;break;case o["default"].tenant:l=r["default"].filesV2;u=o["default"].tenant;s=a.loginHint;d=!1}var p={apiEndpoint:l,loginHint:s,endpointHint:u,timeStamp:(new Date).getTime(),isConsumerAccount:d},f=i.getCacheItem(g)||{};f[y+e]=p;i.setCacheItem(g,f);return p}function f(e){e||a.throwError(new u["default"](s["default"].badResponse,"id_token is missing in oauth response"));var t=e.split(".")[1],r=t.replace("-","+").replace("_","/"),i=l.deserializeJSON(atob(r));i[v]||a.throwError(new u["default"](s["default"].badResponse,"tid is missing in id_token response"));i[m]||a.throwError(new u["default"](s["default"].badResponse,"preferred_username is missing in id_token response"));return{tid:i[v],preferredUserName:i[m]}}var h=36e5,v="tid",m="preferred_username",g="odsdkLoginHint",y="od7-";t.getLoginHint=d;t.loginHintExpired=c;t.updateLoginHint=p;t.parseIdToken=f}(e,r,e("../models/ApiEndpoint"),e("../utilities/Cache"),e("../Constants"),e("../models/DomainHint"),e("../utilities/ErrorHandler"),e("../models/ErrorType"),e("../models/OneDriveSdkError"),e("../utilities/ObjectUtilities"))},{"../Constants":1,"../models/ApiEndpoint":11,"../models/DomainHint":12,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"../utilities/Cache":22,"../utilities/ErrorHandler":26,"../utilities/ObjectUtilities":28}],7:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d,c){"use strict";function p(){n.onDocumentReady(function(){var e=c.readCurrentUrlParameters(),t=e[U]||e[k]||e[b];t&&window.opener&&f(e,new r["default"](window.opener))})}function f(e,t){n.displayOverlay();e[U]?g(JSON.parse(e[U])):e[k]?m(h(e),t):e[b]&&m(v(e),t)}function h(e){var t=new l["default"](a["default"].badResponse,e[P]);return{type:"error",error:t,state:e[C]}}function v(e){return{type:"success",accessToken:e[b],idToken:e[O],state:e[C]}}function m(e,t){if(e.state){var r=e.state.split("_");2!==r.length&&o.throwError(new l["default"](a["default"].badResponse,"received bad state parameter from Oauth endpoint, state received: "+e.state)).exposeToPublic();var i=r[0];t?t.send(R+JSON.stringify(e),i):o.throwError(new l["default"](a["default"].popupOpen,"opener is not defined")).exposeToPublic()}else o.throwError(new l["default"](a["default"].badResponse,"missing state parameter from Oauth redirect")).exposeToPublic()}function g(e){var t;switch(e.endpoint){case u["default"].AAD:t=y(e);break;case u["default"].AADv2:t=E(e);break;case u["default"].MSA:t=_(e);break;default:o.throwError(new l["default"](a["default"].badResponse,"received bad oauth endpoint, endpoint value is: "+e.endpoint))}if(e.switchAccount)t=c.appendQueryString(t,"prompt","select_account");else if(e.loginHint){t=c.appendQueryString(t,"login_hint",e.loginHint);t=c.appendQueryString(t,"domain_hint",e.isConsumerAccount?"consumers":"organizations")}c.redirect(t)}function y(e){return c.appendQueryStrings(S,{redirect_uri:e.redirectUri,client_id:e.clientId,response_type:"token",state:e.state,resource:e.origin})}function E(e){var t="profile openid https://graph.microsoft.com/User.Read "+e.scopes.map(function(e){return"https://graph.microsoft.com/"+e}).join(" "),r=c.appendQueryStrings(I,{redirect_uri:e.redirectUri,client_id:e.clientId,scope:t,response_mode:"fragment",state:e.state,nonce:c.generateNonce()});r+="&response_type=id_token+token";return r}function _(e){for(var t=!1,r=0,i=e.scopes;r<i.length;r++){var n=i[r];t=t||n.toLowerCase().indexOf("readwrite")>1}return c.appendQueryStrings(A,{redirect_uri:e.redirectUri,client_id:e.clientId,response_type:"token",state:e.state,scope:"onedrive."+(t?"readwrite":"readonly")})}function w(e,t){var r=document.location.origin+"_"+c.generateNonce();e.state=r;return new d.Promise(function(i,o){var s=n.onMessage(function(e){if(e.data&&0===e.data.indexOf(R)){var u=JSON.parse(e.data.substring(R.length));if(u.state===r&&e.source===t.getPopupWindow()){n.removeMessageListener(s);if("error"===u.type||u.error){var d=a["default"][u.error.errorCode];o(new l["default"](d,u.error.message))}else i(u)}else o(new l["default"](a["default"].popupOpen,"Another popup is already opened."))}});return t.openPopup(e.redirectUri+"?"+U+"="+JSON.stringify(e)).then(function(){i({type:"cancel",state:r})})})}function T(e,t){var r;switch(e.endpointHint){case i["default"].aad:r=u["default"].AADv2;break;case i["default"].msa:r=u["default"].MSA;break;case i["default"].tenant:r=u["default"].AAD}var n=e.scopes.map(function(t){return t+(t.indexOf("Files.")>-1&&e.needSharePointPermission?".All":"")}),o={clientId:e.clientId,endpoint:r,scopes:n,origin:window.location.origin,redirectUri:e.redirectUri,switchAccount:t},a=s.getLoginHint(e);if(e.loginHint){o.loginHint=e.loginHint;o.isConsumerAccount=e.isConsumerAccount}else if(a){o.loginHint=a.loginHint;o.isConsumerAccount=a.isConsumerAccount}return o}var b="access_token",k="error",P="error_description",O="id_token",U="oauth",C="state",S="https://login.microsoftonline.com/common/oauth2/authorize",I="https://login.microsoftonline.com/common/oauth2/v2.0/authorize",A="https://login.live.com/oauth20_authorize.srf",R="[OneDriveSDK-OauthResponse]";t.onAuth=p;t.handleOauth=f;t.auth=w;t.buildOauthConfig=T}(e,r,e("../utilities/Channel"),e("../models/DomainHint"),e("../utilities/DomUtilities"),e("../utilities/ErrorHandler"),e("../models/ErrorType"),e("./LoginCache"),e("../models/OauthEndpoint"),e("../models/OneDriveSdkError"),e("es6-promise"),e("../utilities/UrlUtilities"))},{"../models/DomainHint":12,"../models/ErrorType":13,"../models/OauthEndpoint":15,"../models/OneDriveSdkError":16,"../utilities/Channel":24,"../utilities/DomUtilities":25,"../utilities/ErrorHandler":26,"../utilities/UrlUtilities":32,"./LoginCache":6,"es6-promise":34}],8:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d){"use strict";var c=function(e){function t(t){var r=a.shallowClone(t),i=new s["default"](r);e.call(this,i)}__extends(t,e);t.prototype.launchPicker=function(){return e.prototype.launchInvoker.call(this)};t.prototype.buildPickerUXConfig=function(e){var r={applicationId:e.clientId,accessLevel:t.ACCESS_LEVEL,filter:e.filter,id:d.generateNonce(),navEnabled:e.navEnabled,origin:window.location.origin,parentDiv:e.parentDiv,redirectUri:e.redirectUri,selectionMode:e.multiSelect?"multiple":"single",viewType:t.VIEW_TYPE};return r};t.prototype.makeApiRequest=function(e){if(this.invokerOptions.action===u["default"].share)return this.shareItems(e);var t=this.invokerOptions.action===u["default"].download;return this.queryItems(e,t)};t.prototype.queryItems=function(e,t){var r=this.invokerOptions.queryParameters||n["default"].DEFAULT_QUERY_ITEM_PARAMETER;t&&(r=l.format("{0}{1}{2}",r,r.indexOf("select")===-1?"&select=":",","name,size,@content.downloadUrl"));return i.getItems(e,this.getApiRequestConfig(),r)};t.prototype.shareItems=function(e){var t=this,r=this.invokerOptions,n=r.createLinkParameters||this.getDefaultSharingConfig();return i.getItems(e,this.getApiRequestConfig()).then(function(e){return i.shareItems(e,t.getApiRequestConfig(),n)})};t.prototype.getDefaultSharingConfig=function(){var e={type:"view"};if(this.getApiRequestConfig().apiEndpoint===r["default"].graph_odc||this.getApiRequestConfig().apiEndpoint===r["default"].msa)return e;e.scope="organization";return e};t.ACCESS_LEVEL="read";t.VIEW_TYPE="files";return t}(o["default"]);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=c}(e,r,e("../models/ApiEndpoint"),e("./ApiRequest"),e("../Constants"),e("./Invoker"),e("../utilities/ObjectUtilities"),e("../models/PickerOptions"),e("../models/PickerActionType"),e("../utilities/StringUtilities"),e("../utilities/UrlUtilities"))},{"../Constants":1,"../models/ApiEndpoint":11,"../models/PickerActionType":17,"../models/PickerOptions":18,"../utilities/ObjectUtilities":28,"../utilities/StringUtilities":30,"../utilities/UrlUtilities":32,"./ApiRequest":4,"./Invoker":5}],9:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d,c){"use strict";function p(e,t){return new g(e,t)}var f="https://onedrive.live.com/",h="[OneDrive-FromPicker]",v="[OneDrive-ToPicker]",m="initialize";t.generatePickerUX=p;var g=function(){function e(e,t){if(e===r["default"].graph_odc||e===r["default"].msa)this.url=l.appendQueryStrings(f,{v:"2"});else if(e===r["default"].graph_odb||e===r["default"].filesV2){t||o.throwError(new u["default"](a["default"].optionsError,"the site url must be specified")).exposeToPublic();l.validateUrlProtocol(t,["HTTPS"]);e===r["default"].graph_odb&&(t=l.appendToPath(t,"_layouts/onedrive.aspx"));this.url=l.appendQueryString(t,"p","2")}}e.prototype.invokePickerUX=function(e,t){var r=this,o=!1,p=new d.Promise(function(d,p){var f=n.onMessage(function(s){var l=r.url.split("/"),c=new i["default"](r.iframe?r.iframe.contentWindow:t.getPopupWindow());if(s.origin===l[0]+"//"+l[2]){var g=""+(s.data||"");if(0===g.indexOf(h)&&s.source===c.getReceiver()){var y=JSON.parse(g.substring(h.length)),E=y.pickerId,_=y.conversationId,w=y.type;if(E===e.id)if(w===m)c.send(v+JSON.stringify({pickerId:E,conversationId:_,type:"activate"}),s.origin);else{o=!0;d(y);n.removeMessageListener(f)}}else p(new u["default"](a["default"].badResponse,"received invalid response from picker UI"))}}),g={aid:e.applicationId,a:e.accessLevel,id:e.id,l:e.linkType,ln:e.navEnabled,s:e.selectionMode,f:e.filter,v:e.viewType,ru:e.redirectUri,o:e.origin,sdk:c["default"].SDK_VERSION_NUMBER,e:e.entryLocation,st:e.sourceTypes,sn:!e.parentDiv,ss:!e.parentDiv},y=l.appendQueryString(r.url,"picker",JSON.stringify(g));s["default"].logMessage("invoke picker with url: "+y);if(!e.parentDiv)return t.openPopup(y).then(function(){d({type:"cancel"})});t.close();var E=document.createElement("iframe");E.id="odpicker"+(new Date).getTime();E.style.position="relative";E.style.width="100%";E.style.height="100%";E.src=y;e.parentDiv.appendChild(E);r.iframe=E});return p};e.prototype.removeIFrame=function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);this.iframe=null}};return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=g}(e,r,e("../models/ApiEndpoint"),e("../utilities/Channel"),e("../utilities/DomUtilities"),e("../utilities/ErrorHandler"),e("../models/ErrorType"),e("../utilities/Logging"),e("../models/OneDriveSdkError"),e("../utilities/UrlUtilities"),e("es6-promise"),e("../Constants"))},{"../Constants":1,"../models/ApiEndpoint":11,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"../utilities/Channel":24,"../utilities/DomUtilities":25,"../utilities/ErrorHandler":26,"../utilities/Logging":27,"../utilities/UrlUtilities":32,"es6-promise":34}],10:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l){"use strict";var d="readwrite",c="folders",p="single",f=function(e){function t(t){var r=o.shallowClone(t),i=new s["default"](r);e.call(this,i)}__extends(t,e);t.prototype.launchSaver=function(){return e.prototype.launchInvoker.call(this)};t.prototype.buildPickerUXConfig=function(e){return{applicationId:e.clientId,accessLevel:d,id:l.generateNonce(),navEnabled:e.navEnabled,filter:e.filter,origin:window.location.origin,parentDiv:e.parentDiv,redirectUri:e.redirectUri,selectionMode:p,viewType:c}};t.prototype.makeApiRequest=function(e){var t=this.invokerOptions;if(this.invokerOptions.action===a["default"].query){var n=this.invokerOptions.queryParameters||i["default"].DEFAULT_QUERY_ITEM_PARAMETER;return r.getItems(e,this.apiRequestConfig,n)}if(t.uploadType===u["default"].dataUrl||t.uploadType===u["default"].url){var o={name:t.fileName};return r.saveItemByUriUpload(e.value[0],o,t.sourceUri,this.apiRequestConfig)}if(t.uploadType===u["default"].form){var o={name:t.fileName,"@name.conflictBehavior":t.nameConflictBehavior};return r.saveItemByFormUpload(e.value[0],o,t.fileInput,this.apiRequestConfig,t.progress)}};return t}(n["default"]);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=f}(e,r,e("./ApiRequest"),e("../Constants"),e("./Invoker"),e("../utilities/ObjectUtilities"),e("../models/SaverActionType"),e("../models/SaverOptions"),e("../models/UploadType"),e("../utilities/UrlUtilities"))},{"../Constants":1,"../models/SaverActionType":19,"../models/SaverOptions":20,"../models/UploadType":21,"../utilities/ObjectUtilities":28,"../utilities/UrlUtilities":32,"./ApiRequest":4,"./Invoker":5}],11:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.filesV2=0]="filesV2";e[e.graph_odc=1]="graph_odc";e[e.graph_odb=2]="graph_odb";e[e.msa=3]="msa"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],12:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.aad=0]="aad";e[e.msa=1]="msa";e[e.tenant=2]="tenant"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],13:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.badResponse=0]="badResponse";e[e.fileReaderFailure=1]="fileReaderFailure";e[e.popupOpen=2]="popupOpen";e[e.unknown=3]="unknown";e[e.unsupportedFeature=4]="unsupportedFeature";e[e.webRequestFailure=5]="webRequestFailure";e[e.internalError=6]="internalError";e[e.optionsError=7]="optionsError";e[e.typeError=8]="typeError";e[e.popupClosed=9]="popupClosed"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],14:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d,c){"use strict";var p=new RegExp("^[a-fA-F\\d]{8}-([a-fA-F\\d]{4}-){3}[a-fA-F\\d]{12}$"),f=function(){function e(t){this.navEnabled=!0;this.needSharePointPermission=!0;this.clientId=d.validateType(t.clientId,i["default"].TYPE_STRING);var o=d.validateCallback(t.cancel,!0);this.cancel=function(){s["default"].logMessage("user cancelled operation");o&&r.invokeAppCallback(o,!0)};var a=d.validateCallback(t.error,!0);this.error=function(e){if(!a)throw e;r.invokeAppCallback(a,!0,e)};this.parseAdvancedOptions(t);this.redirectUri=this.redirectUri||c.trimUrlQuery(window.location.href);this.endpointHint=this.endpointHint||n["default"].aad;e.checkClientId(this.clientId)}e.checkClientId=function(e){e?p.test(e)?s["default"].logMessage("parsed client id: "+e):o.throwError(new u["default"](a["default"].unknown,l.format("invalid format for client id '{0}' - AAD: 32 characters (HEX) GUID",e))):o.throwError(new u["default"](a["default"].unknown,"client id is missing in options"))};e.prototype.needOauth=function(){return this.needAPICall()&&!this.accessToken||this.endpointHint===n["default"].aad};e.prototype.parseAdvancedOptions=function(e){if(e.advanced){if(e.advanced.redirectUri){c.validateRedirectUrlHost(e.advanced.redirectUri);this.redirectUri=e.advanced.redirectUri}if(e.advanced.queryParameters){var t=c.readUrlParameters("?"+e.advanced.queryParameters);for(var r in t)"select"!==r.toLowerCase()&&"expand"!==r.toLowerCase()&&o.throwError(new u["default"](a["default"].optionsError,l.format("unexpected query key: {0} is found in advanced.queryParameters",r)));var s=t.select,p=t.expand;s&&p?this.queryParameters=l.format("expand={0}&select={1}",p,s):p?this.queryParameters=l.format("expand={0}",p):s&&"select="+s.split(",").sort().join(",")!==i["default"].DEFAULT_QUERY_ITEM_PARAMETER&&(this.queryParameters=l.format("select={0}",s))}if(e.advanced.endpointHint){if(e.advanced.endpointHint.toLowerCase()===i["default"].VROOM_ENDPOINT_HINT){this.endpointHint=n["default"].msa;"undefined"==typeof e.advanced.isConsumerAccount&&(this.isConsumerAccount=!0)}else{var f=d.validateType(e.advanced.endpointHint,"string",!1);c.validateUrlProtocol(f);this.endpointHint=n["default"].tenant;"undefined"==typeof e.advanced.isConsumerAccount&&(this.isConsumerAccount=!1);this.siteUrl=f}e.advanced.accessToken&&(this.accessToken=e.advanced.accessToken)}if(e.advanced.iframeParentDiv){e.advanced.iframeParentDiv.nodeName&&"div"===e.advanced.iframeParentDiv.nodeName.toLowerCase()||o.throwError(new u["default"](a["default"].optionsError,"the iframe's parent div element is not a DOM object")).exposeToPublic();this.parentDiv=e.advanced.iframeParentDiv}e.advanced.scopes&&("string"==typeof e.advanced.scopes?this.scopes=[e.advanced.scopes]:e.advanced.scopes instanceof Array&&(this.scopes=e.advanced.scopes));this.linkType=e.advanced.linkType;this.parseNavigationOptions(e.advanced.navigation);this.loginHint=e.advanced.loginHint;"boolean"==typeof e.advanced.isConsumerAccount&&(this.isConsumerAccount=e.advanced.isConsumerAccount);this.filter=e.advanced.filter}};e.prototype.parseNavigationOptions=function(e){if(e){var t=e.entryLocation;if(t){var r=t.sharePoint,i=r.sitePath,n=r.listPath;i&&c.validateUrlProtocol(i,["HTTPS"]);n&&c.validateUrlProtocol(n,["HTTPS"]);this.navEntryLocation=t}var o=e.sourceTypes instanceof Array?e.sourceTypes:e.sourceTypes?[e.sourceTypes]:null;
if(o){this.needSharePointPermission=!(1===o.length&&"onedrive"===o[0].toLowerCase());this.navSourceTypes=o}this.navEnabled=!e.disable}};return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=f}(e,r,e("../utilities/CallbackInvoker"),e("../Constants"),e("./DomainHint"),e("../utilities/ErrorHandler"),e("./ErrorType"),e("../utilities/Logging"),e("./OneDriveSdkError"),e("../utilities/StringUtilities"),e("../utilities/TypeValidators"),e("../utilities/UrlUtilities"))},{"../Constants":1,"../utilities/CallbackInvoker":23,"../utilities/ErrorHandler":26,"../utilities/Logging":27,"../utilities/StringUtilities":30,"../utilities/TypeValidators":31,"../utilities/UrlUtilities":32,"./DomainHint":12,"./ErrorType":13,"./OneDriveSdkError":16}],15:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.AAD=0]="AAD";e[e.AADv2=1]="AADv2";e[e.MSA=2]="MSA"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],16:[function(e,t,r){!function(e,t,r,i){"use strict";var n=function(e){function t(t,i){e.call(this,i);this.errorCode=r["default"][t];this.message=i}__extends(t,e);t.prototype.toString=function(){return i.format("[OneDriveSDK Error] errorType: {0}, message: {1}",this.errorCode,this.message)};return t}(Error);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=n}(e,r,e("../models/ErrorType"),e("../utilities/StringUtilities"))},{"../models/ErrorType":13,"../utilities/StringUtilities":30}],17:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.download=0]="download";e[e.query=1]="query";e[e.share=2]="share"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],18:[function(e,t,r){!function(e,t,r,i,n,o,a,s){"use strict";var u=function(e){function t(t){e.call(this,t);var n=s.validateCallback(t.success,!1);this.success=function(e){o["default"].logMessage("picker operation succeeded");r.invokeAppCallback(n,!0,e)};this.multiSelect=s.validateType(t.multiSelect,i["default"].TYPE_BOOLEAN,!0,!1);var u=s.validateType(t.action,i["default"].TYPE_STRING,!0,a["default"][a["default"].query]);this.action=a["default"][u];t.advanced&&(this.createLinkParameters=t.advanced.createLinkParameters);this.scopes||(this.scopes=[this.action===a["default"].share?"Files.ReadWrite":"Files.Read"])}__extends(t,e);t.prototype.needAPICall=function(){return!!this.queryParameters||this.action!==a["default"].query};return t}(n["default"]);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=u}(e,r,e("../utilities/CallbackInvoker"),e("../Constants"),e("./InvokerOptions"),e("../utilities/Logging"),e("./PickerActionType"),e("../utilities/TypeValidators"))},{"../Constants":1,"../utilities/CallbackInvoker":23,"../utilities/Logging":27,"../utilities/TypeValidators":31,"./InvokerOptions":14,"./PickerActionType":17}],19:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.save=0]="save";e[e.query=1]="query"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],20:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u,l,d,c,p,f,h){"use strict";var v=function(e){function t(t){e.call(this,t);var n=p.validateCallback(t.success,!1);this.success=function(e){u["default"].logMessage("saver operation succeeded");r.invokeAppCallback(n,!0,e)};var o=p.validateCallback(t.progress,!0);this.progress=function(e){u["default"].logMessage(c.format("upload progress: {0}%",e));o&&r.invokeAppCallback(o,!1,e)};var a=p.validateType(t.action,i["default"].TYPE_STRING,!0,d["default"][d["default"].query]);this.action=d["default"][a];this.action===d["default"].save&&this._setFileInfo(t);this.nameConflictBehavior=p.validateType(t.nameConflictBehavior,i["default"].TYPE_STRING,!0,"rename");this.scopes||(this.scopes=["Files.ReadWrite"])}__extends(t,e);t.prototype.needAPICall=function(){return!!this.queryParameters||this.action===d["default"].save};t.prototype._setFileInfo=function(e){e.sourceInputElementId&&e.sourceUri&&o.throwError(new l["default"](a["default"].optionsError,"sourceUri and sourceInputElementId are provided, only one is required."));this.sourceInputElementId=e.sourceInputElementId;this.sourceUri=e.sourceUri;var t=p.validateType(e.fileName,i["default"].TYPE_STRING,!0,null);if(this.sourceUri){if(h.isPathFullUrl(this.sourceUri)){this.uploadType=f["default"].url;this.fileName=t||h.getFileNameFromUrl(this.sourceUri);this.fileName||o.throwError(new l["default"](a["default"].optionsError,"must supply a file name or a URL that ends with a file name"))}else if(h.isPathDataUrl(this.sourceUri)){this.uploadType=f["default"].dataUrl;this.fileName=t;this.fileName||o.throwError(new l["default"](a["default"].optionsError,"must supply a file name for data URL uploads"))}}else if(this.sourceInputElementId){this.uploadType=f["default"].form;this.fileInput=n.getFileInput(this.sourceInputElementId);this.fileName=t||this.fileInput.name}else o.throwError(new l["default"](a["default"].optionsError,"please specified one type of resource to save"))};return t}(s["default"]);Object.defineProperty(t,"__esModule",{value:!0});t["default"]=v}(e,r,e("../utilities/CallbackInvoker"),e("../Constants"),e("../utilities/DomUtilities"),e("../utilities/ErrorHandler"),e("./ErrorType"),e("./InvokerOptions"),e("../utilities/Logging"),e("./OneDriveSdkError"),e("./SaverActionType"),e("../utilities/StringUtilities"),e("../utilities/TypeValidators"),e("./UploadType"),e("../utilities/UrlUtilities"))},{"../Constants":1,"../utilities/CallbackInvoker":23,"../utilities/DomUtilities":25,"../utilities/ErrorHandler":26,"../utilities/Logging":27,"../utilities/StringUtilities":30,"../utilities/TypeValidators":31,"../utilities/UrlUtilities":32,"./ErrorType":13,"./InvokerOptions":14,"./OneDriveSdkError":16,"./SaverActionType":19,"./UploadType":21}],21:[function(e,t,r){!function(e,t){"use strict";var r;!function(e){e[e.dataUrl=0]="dataUrl";e[e.form=1]="form";e[e.url=2]="url"}(r||(r={}));Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],22:[function(e,t,r){!function(e,t,r,i,n){"use strict";function o(e){var t=u();return t[e]}function a(e,t){var r=u();r[e]=t;l(r)}function s(e){var t=u(),r=t[e];delete t[e];l(t);return r}function u(){if(Storage){var e=localStorage.getItem(d),t=JSON.parse(e||"{}");return t}i.throwError(new n["default"](r["default"].unsupportedFeature,"cache based on Storage is not supported in this browser"))}function l(e){Storage?localStorage.setItem(d,JSON.stringify(e)):i.throwError(new n["default"](r["default"].unsupportedFeature,"cache based on Storage is not supported in this browser"))}var d="odpickerv7cache";t.getCacheItem=o;t.setCacheItem=a;t.removeCacheItem=s}(e,r,e("../models/ErrorType"),e("./ErrorHandler"),e("../models/OneDriveSdkError"))},{"../models/ErrorType":13,"../models/OneDriveSdkError":16,"./ErrorHandler":26}],23:[function(e,t,r){!function(e,t,r){"use strict";function i(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];typeof e===r["default"].TYPE_FUNCTION&&e.apply(null,i)}function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];window.setTimeout(function(){e.apply(null,t)},0)}t.invokeAppCallback=i;t.invokeCallbackAsynchronous=n}(e,r,e("../Constants"))},{"../Constants":1}],24:[function(e,t,r){!function(e,t){"use strict";var r=function(){function e(e){this.receiver=e}e.prototype.send=function(e,t){this.receiver&&this.receiver.postMessage(e,t)};e.prototype.getReceiver=function(){return this.receiver};return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=r}(e,r)},{}],25:[function(e,t,r){!function(e,t,r,i,n,o){"use strict";function a(e){return document.getElementById(e)}function s(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1)}function u(e){var t=o.generateNonce()+"_"+(new Date).getMilliseconds();window.addEventListener("message",e);h[t]=e;return t}function l(e){var t=h[e];t&&window.removeEventListener("message",t)}function d(e){var t=a(e);if(t instanceof HTMLInputElement){"file"!==t.type&&r.throwError(new n["default"](i["default"].optionsError,"input elemenet must be of type 'file'"));if(!t.value){r.throwError(new n["default"](i["default"].optionsError,"please a file to upload"));return null}var o=t.files;o&&window.FileReader||r.throwError(new n["default"](i["default"].unsupportedFeature,"browser does not support Files API"));1!==o.length&&r.throwError(new n["default"](i["default"].unsupportedFeature,"can not upload more than one file at a time"));var s=o[0];s||r.throwError(new n["default"](i["default"].optionsError,"missing file input"));if(s.size>p){r.throwError(new n["default"](i["default"].optionsError,"the user has selected a file larger than "+f));return null}return s}r.throwError(new n["default"](i["default"].unknown,"element was not an instance of an HTMLInputElement"))}function c(){var e=document.createElement("div"),t=["position: fixed","width: 100%","height: 100%","top: 0px","left: 0px","background-color: white","opacity: 1","z-index: 10000","min-width: 40px","min-height: 40px"];e.id="od-overlay";e.style.cssText=t.join(";");var r=document.createElement("img"),i=["position: absolute","margin: auto","top: 0","left: 0","right: 0","bottom: 0"];r.id="od-spinner";r.src="https://p.sfx.ms/common/spinner_grey_40_transparent.gif";r.style.cssText=i.join(";");e.appendChild(r);var n=document.createElement("style");n.type="text/css";n.innerHTML="body { visibility: hidden !important; }";document.head.appendChild(n);s(function(){var t=document.body;null!==t?t.insertBefore(e,t.firstChild):document.createElement("body").appendChild(e);document.head.removeChild(n)})}var p=104857600,f="100 MB",h={};t.getElementById=a;t.onDocumentReady=s;t.onMessage=u;t.removeMessageListener=l;t.getFileInput=d;t.displayOverlay=c}(e,r,e("./ErrorHandler"),e("../models/ErrorType"),e("../models/OneDriveSdkError"),e("./UrlUtilities"))},{"../models/ErrorType":13,"../models/OneDriveSdkError":16,"./ErrorHandler":26,"./UrlUtilities":32}],26:[function(e,t,r){!function(e,t,r){"use strict";function i(e){o.push(e)}function n(e){if(e.errorCode!==r["default"][r["default"].unknown]){for(var t=0,i=o;t<i.length;t++){var n=i[t];n(e)}return{exposeToPublic:function(){throw e}}}throw e}var o=[];t.registerErrorObserver=i;t.throwError=n}(e,r,e("../models/ErrorType"))},{"../models/ErrorType":13}],27:[function(e,t,r){!function(e,t){"use strict";var r="onedrive_enable_logging",i="[OneDriveSDK] ",n=function(){function e(){}e.logError=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e._log(t,!0,r)};e.logMessage=function(t){e._log(t,!1)};e._log=function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];(n||e.loggingEnabled||window[r])&&console.log(i+t,o)};e.loggingEnabled=!1;return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=n}(e,r)},{}],28:[function(e,t,r){!function(e,t,r,i){"use strict";function n(e){if(typeof e!==r["default"].TYPE_OBJECT||!e)return null;var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function o(e){var t=null;try{t=JSON.parse(e)}catch(n){i["default"].logError("deserialization error"+n)}typeof t===r["default"].TYPE_OBJECT&&null!==t||(t={});return t}function a(e){return JSON.stringify(e)}t.shallowClone=n;t.deserializeJSON=o;t.serializeJSON=a}(e,r,e("../Constants"),e("./Logging"))},{"../Constants":1,"./Logging":27}],29:[function(e,t,r){!function(e,t,r,i,n,o,a){"use strict";var s=1024,u=650;t.POPUP_PINGER_INTERVAL=500;var l=function(){function e(){}e.getCurrentPopup=function(){return e._currentPopup||new e};e.setCurrentPopup=function(t){e._currentPopup=t};e.createPopupFeatures=function(){var e=window.screenX+Math.max(window.outerWidth-s,0)/2,t=window.screenY+Math.max(window.outerHeight-u,0)/2,r=["width="+s,"height="+u,"top="+t,"left="+e,"status=no","resizable=yes","toolbar=no","menubar=no","scrollbars=yes"];return r.join(",")};e.prototype.close=function(){if(e.getCurrentPopup().isPopupOpen()){e.getCurrentPopup()._popup.close();e.setCurrentPopup(null)}};e.prototype.openPopup=function(s){var u=this;a.validateUrlProtocol(s);if(e.getCurrentPopup().isPopupOpen()){n["default"].logMessage("leaving current url: "+this._url);this._url=s;e.getCurrentPopup().getPopupWindow().location.href=s}else{this._url=s;this._popup=window.open(s,"_blank",e.createPopupFeatures());this._popup?this._popup.focus():r.throwError(new o["default"](i["default"].popupOpen,"popup window is disconnected")).exposeToPublic();e.setCurrentPopup(this)}return new Promise(function(e,r){var i=setInterval(function(){if(!u.isPopupOpen()){window.clearInterval(i);e()}},t.POPUP_PINGER_INTERVAL)})};e.prototype.getPopupWindow=function(){return this._popup};e.prototype.getCurrentUrl=function(){return this._url};e.prototype.isPopupOpen=function(){return!!this._popup&&!this._popup.closed};return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=l}(e,r,e("./ErrorHandler"),e("../models/ErrorType"),e("./Logging"),e("../models/OneDriveSdkError"),e("../utilities/UrlUtilities"))},{"../models/ErrorType":13,"../models/OneDriveSdkError":16,"../utilities/UrlUtilities":32,"./ErrorHandler":26,"./Logging":27}],30:[function(e,t,r){!function(e,t){"use strict";function r(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=function(e){var r=t[e.replace(i,"")];null===r&&(r="");return r};return e.replace(n,o)}var i=/[\{\}]/g,n=/\{\d+\}/g;t.format=r}(e,r)},{}],31:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u){"use strict";function l(e,t,r,l,d){void 0===r&&(r=!1);if(void 0===e){if(r){if(void 0!==l){o["default"].logMessage("applying default value: "+l);return l}}else i.throwError(new s["default"](n["default"].typeError,"object was missing and not optional"));return null}var p=typeof e;if(p!==t){i.throwError(new s["default"](n["default"].typeError,u.format("expected object type: '{0}', actual object type: '{1}'",t,p)));return null}if(!c(e,d)){i.throwError(new s["default"](n["default"].typeError,u.format("object does not match any valid values {0}",a.serializeJSON(d))));return null}return e}function d(e,t){void 0===t&&(t=!1);if(void 0===e){t||i.throwError(new s["default"](n["default"].typeError,"function was missing and not optional"));return null}var o=typeof e;o!==r["default"].TYPE_FUNCTION&&i.throwError(new s["default"](n["default"].typeError,u.format("expected function type: function | string, actual type: {0}",o)));return e}function c(e,t){if(!Array.isArray(t))return!0;for(var r in t)if(e===t[r])return!0;return!1}t.validateType=l;t.validateCallback=d}(e,r,e("../Constants"),e("./ErrorHandler"),e("../models/ErrorType"),e("./Logging"),e("./ObjectUtilities"),e("../models/OneDriveSdkError"),e("./StringUtilities"))},{"../Constants":1,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"./ErrorHandler":26,"./Logging":27,"./ObjectUtilities":28,"./StringUtilities":30}],32:[function(e,t,r){!function(e,t,r,i,n,o,a){"use strict";function s(e,t){return e+("/"!==e.charAt(e.length-1)?"/":"")+t}function u(e,t,r){return l(e,(i={},i[t]=r,i));var i}function l(e,t,r){if(!t||0===Object.keys(t).length)return e;r?e+="#":e.indexOf("?")===-1?e+="?":"&"!==e.charAt(e.length-1)&&(e+="&");var i="";for(var n in t)i+=(i.length?"&":"")+a.format("{0}={1}",encodeURIComponent(n),encodeURIComponent(t[n]));return e+i}function d(){return c(window.location.href)}function c(e){var t={},r=e.indexOf("?")+1,i=e.indexOf("#")+1;if(r>0){var n=i>r?i-1:e.length;w(e.substring(r,n),t)}i>0&&w(e.substring(i),t);return t}function p(e){E(e);window.location.replace(e)}function f(e){var t=["?","#"];for(var r in t){var i=e.indexOf(t[r]);i>0&&(e=e.substring(0,i))}return e}function h(e){var t=f(e);return t.substr(t.lastIndexOf("/")+1)}function v(e){return s(e.replace(/^((\w+:)?\/\/[^\/]+\/?).*$/,"$1"),"")}function m(e){return 0===e.indexOf("https://")||0===e.indexOf("http://")}function g(e){return 0===e.indexOf("data:")}function y(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",i=0;i<r["default"].NONCE_LENGTH;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function E(e,t){t=t?t:[T,b];for(var r=0,s=t;r<s.length;r++){var u=s[r];if(0===e.toUpperCase().indexOf(u))return}i.throwError(new o["default"](n["default"].optionsError,a.format("uri {0} does not match protocol(s): "+t,e))).exposeToPublic()}function _(e){E(e);if(e.indexOf("://")>-1){var t=e.split("/")[2];t!==window.location.host&&i.throwError(new o["default"](n["default"].optionsError,"redirect uri is not in the same domain as picker sdk")).exposeToPublic()}else i.throwError(new o["default"](n["default"].optionsError,"redirect uri is not an absolute url")).exposeToPublic()}function w(e,t){for(var r=e.split("&"),i=0;i<r.length;i++){var n=r[i].split("=");2===n.length&&(t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}}var T="HTTP",b="HTTPS";t.appendToPath=s;t.appendQueryString=u;t.appendQueryStrings=l;t.readCurrentUrlParameters=d;t.readUrlParameters=c;t.redirect=p;t.trimUrlQuery=f;t.getFileNameFromUrl=h;t.getOrigin=v;t.isPathFullUrl=m;t.isPathDataUrl=g;t.generateNonce=y;t.validateUrlProtocol=E;t.validateRedirectUrlHost=_}(e,r,e("../Constants"),e("./ErrorHandler"),e("../models/ErrorType"),e("../models/OneDriveSdkError"),e("./StringUtilities"))},{"../Constants":1,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"./ErrorHandler":26,"./StringUtilities":30}],33:[function(e,t,r){!function(e,t,r,i,n,o,a,s,u){"use strict";var l=3e4,d=-1,c=-2,p=-3,f=new RegExp("^([a-fA-F0-9]){16}$"),h=function(){function e(e){this._url=e.url;this._json=e.json;this._headers=e.headers||{};this._method=e.method;this._clientId=e.clientId;this._apiEndpoint=e.apiEndpoint||r["default"].msa;n.registerErrorObserver(this._abortRequest)}e.statusCodeToString=function(e){switch(e){case-1:return"EXCEPTION";case-2:return"TIMEOUT";case-3:return"REQUEST ABORTED";default:return e.toString()}};e.prototype.start=function(t,r){var i=this;try{this._successCallback=t;this._failureCallback=r;this._request=new XMLHttpRequest;this._request.ontimeout=this._onTimeout;this._request.onload=function(){var e=i._request.status;e<400&&e>0?i._callSuccessCallback(e):i._callFailureCallback(e)};this._method||(this._method=this._json?e.HTTP_POST:e.HTTP_GET);this._request.open(this._method,this._url,!0);this._request.timeout=l;this._setHeaders();a["default"].logMessage("starting request to: "+this._url);this._request.send(this._json)}catch(n){this._callFailureCallback(d,n)}};e.prototype.upload=function(t,r,i,n){var o=this;try{this._successCallback=r;this._progressCallback=n;this._failureCallback=i;this._request=new XMLHttpRequest;this._request.ontimeout=this._onTimeout;this._method=e.HTTP_PUT;this._request.open(this._method,this._url,!0);this._setHeaders();this._request.onload=function(e){o._completed=!0;var t=o._request.status;200===t||201===t||202===t?o._callSuccessCallback(t):o._callFailureCallback(t,e)};this._request.onerror=function(e){o._completed=!0;o._callFailureCallback(o._request.status,e)};this._request.upload.onprogress=function(e){if(e.lengthComputable){var t={bytesTransferred:e.loaded,totalBytes:e.total,progressPercentage:0===e.total?0:e.loaded/e.total*100};o._callProgressCallback(t)}};a["default"].logMessage("starting upload to: "+this._url);this._request.send(t)}catch(s){this._callFailureCallback(d,s)}};e.prototype._callSuccessCallback=function(t){a["default"].logMessage("calling xhr success callback, status: "+e.statusCodeToString(t));this._successCallback(this._request,t,this._url)};e.prototype._callFailureCallback=function(t,r){a["default"].logError("calling xhr failure callback, status: "+e.statusCodeToString(t),this._request,r);this._failureCallback(this._request,t,t===c)};e.prototype._callProgressCallback=function(e){a["default"].logMessage("calling xhr upload progress callback");this._progressCallback(this._request,e)};e.prototype._abortRequest=function(){if(this&&!this._completed){this._completed=!0;if(this._request)try{this._request.abort()}catch(e){}this._callFailureCallback(p)}};e.prototype._onTimeout=function(){if(!this._completed){this._completed=!0;this._callFailureCallback(c)}};e.prototype._setHeaders=function(){for(var t in this._headers)this._request.setRequestHeader(t,this._headers[t]);if(this._clientId){var a=this._clientId;f.test(this._clientId)&&(a="0x"+this._clientId);this._request.setRequestHeader("Application","0x"+a)}var l=u.format("{0}={1}","SDK-Version",i["default"].SDK_VERSION);switch(this._apiEndpoint){case r["default"].graph_odb:case r["default"].filesV2:this._request.setRequestHeader("X-ClientService-ClientTag",l);break;case r["default"].graph_odc:case r["default"].msa:this._request.setRequestHeader("X-RequestStats",l);break;default:n.throwError(new s["default"](o["default"].internalError,"invalid API endpoint: "+this._apiEndpoint))}this._method===e.HTTP_POST&&this._request.setRequestHeader("Content-Type",this._json?"application/json":"text/plain")};e.HTTP_GET="GET";e.HTTP_POST="POST";e.HTTP_PUT="PUT";return e}();Object.defineProperty(t,"__esModule",{value:!0});t["default"]=h}(e,r,e("../models/ApiEndpoint"),e("../Constants"),e("./ErrorHandler"),e("../models/ErrorType"),e("./Logging"),e("../models/OneDriveSdkError"),e("./StringUtilities"))},{"../Constants":1,"../models/ApiEndpoint":11,"../models/ErrorType":13,"../models/OneDriveSdkError":16,"./ErrorHandler":26,"./Logging":27,"./StringUtilities":30}],34:[function(t,r,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof r?r.exports=n():"function"==typeof e&&e.amd?e(n):t.ES6Promise=n()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function i(e){X=e}function n(e){G=e}function o(){return function(){return process.nextTick(d)}}function a(){return function(){z(d)}}function s(){var e=0,t=new K(d),r=document.createTextNode("");t.observe(r,{characterData:!0});return function(){r.data=e=++e%2}}function u(){var e=new MessageChannel;e.port1.onmessage=d;return function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<Y;e+=2){var t=ee[e],r=ee[e+1];t(r);ee[e]=void 0;ee[e+1]=void 0}Y=0}function c(){try{var e=t,r=e("vertx");z=r.runOnLoop||r.runOnContext;return a()}catch(i){return l()}}function p(e,t){var r=arguments,i=this,n=new this.constructor(h);void 0===n[re]&&H(n);var o=i._state;o?!function(){var e=r[o-1];G(function(){return I(o,n,e,i._result)})}():O(i,n,e,t);return n}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(h);T(r,e);return r}function h(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){ae.error=t;return ae}}function y(e,t,r,i){try{e.call(t,r,i)}catch(n){return n}}function E(e,t,r){G(function(e){var i=!1,n=y(r,t,function(r){if(!i){i=!0;t!==r?T(e,r):k(e,r)}},function(t){if(!i){i=!0;P(e,t)}},"Settle: "+(e._label||" unknown promise"));if(!i&&n){i=!0;P(e,n)}},e)}function _(e,t){t._state===ne?k(e,t._result):t._state===oe?P(e,t._result):O(t,void 0,function(t){return T(e,t)},function(t){return P(e,t)})}function w(e,t,i){t.constructor===e.constructor&&i===p&&t.constructor.resolve===f?_(e,t):i===ae?P(e,ae.error):void 0===i?k(e,t):r(i)?E(e,t,i):k(e,t)}function T(t,r){t===r?P(t,v()):e(r)?w(t,r,g(r)):k(t,r)}function b(e){e._onerror&&e._onerror(e._result);U(e)}function k(e,t){if(e._state===ie){e._result=t;e._state=ne;0!==e._subscribers.length&&G(U,e)}}function P(e,t){if(e._state===ie){e._state=oe;e._result=t;G(b,e)}}function O(e,t,r,i){var n=e._subscribers,o=n.length;e._onerror=null;n[o]=t;n[o+ne]=r;n[o+oe]=i;0===o&&e._state&&G(U,e)}function U(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i=void 0,n=void 0,o=e._result,a=0;a<t.length;a+=3){i=t[a];n=t[a+r];i?I(r,i,n,o):n(o)}e._subscribers.length=0}}function C(){this.error=null}function S(e,t){try{return e(t)}catch(r){se.error=r;return se}}function I(e,t,i,n){var o=r(i),a=void 0,s=void 0,u=void 0,l=void 0;if(o){a=S(i,n);if(a===se){l=!0;s=a.error;a=null}else u=!0;if(t===a){P(t,m());return}}else{a=n;u=!0}t._state!==ie||(o&&u?T(t,a):l?P(t,s):e===ne?k(t,a):e===oe&&P(t,a))}function A(e,t){try{t(function(t){T(e,t)},function(t){P(e,t)})}catch(r){P(e,r)}}function R(){return ue++}function H(e){e[re]=ue++;e._state=void 0;e._result=void 0;e._subscribers=[]}function D(e,t){this._instanceConstructor=e;this.promise=new e(h);this.promise[re]||H(this.promise);if(B(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(0===this.length)k(this.promise,this._result);else{this.length=this.length||0;this._enumerate();0===this._remaining&&k(this.promise,this._result)}}else P(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function M(e){return new D(this,e).promise}function N(e){var t=this;return new t(B(e)?function(r,i){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(r,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function L(e){var t=this,r=new t(h);P(r,e);return r}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this[re]=R();this._result=this._state=void 0;this._subscribers=[];if(h!==e){"function"!=typeof e&&x();this instanceof j?A(this,e):F()}}function V(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;if(r){var i=null;try{i=Object.prototype.toString.call(r.resolve())}catch(t){}if("[object Promise]"===i&&!r.cast)return}e.Promise=j}var J=void 0;J=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var B=J,Y=0,z=void 0,X=void 0,G=function(e,t){ee[Y]=e;ee[Y+1]=t;Y+=2;2===Y&&(X?X(d):te())},Q="undefined"!=typeof window?window:void 0,W=Q||{},K=W.MutationObserver||W.WebKitMutationObserver,$="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3),te=void 0;te=$?o():K?s():Z?u():void 0===Q&&"function"==typeof t?c():l();var re=Math.random().toString(36).substring(16),ie=void 0,ne=1,oe=2,ae=new C,se=new C,ue=0;D.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===ie&&r<e;r++)this._eachEntry(t[r],r)};D.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,i=r.resolve;if(i===f){var n=g(e);if(n===p&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof n){this._remaining--;this._result[t]=e}else if(r===j){var o=new r(h);w(o,e,n);this._willSettleAt(o,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)};D.prototype._settledAt=function(e,t,r){var i=this.promise;if(i._state===ie){this._remaining--;e===oe?P(i,r):this._result[t]=r}0===this._remaining&&k(i,this._result)};D.prototype._willSettleAt=function(e,t){var r=this;O(e,void 0,function(e){return r._settledAt(ne,t,e)},function(e){return r._settledAt(oe,t,e)})};j.all=M;j.race=N;j.resolve=f;j.reject=L;j._setScheduler=i;j._setAsap=n;j._asap=G;j.prototype={constructor:j,then:p,catch:function(e){return this.then(null,e)}};V();j.polyfill=V;j.Promise=j;return j})},{}]},{},[2])(2)});
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.moment=factory()})(this,function(){"use strict";var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||Object.prototype.toString.call(input)==="[object Array]"}function isObject(input){return input!=null&&Object.prototype.toString.call(input)==="[object Object]"}function isObjectEmpty(obj){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(obj).length===0}else{var k;for(k in obj){if(obj.hasOwnProperty(k)){return false}}return true}}function isUndefined(input){return input===void 0}function isNumber(input){return typeof input==="number"||Object.prototype.toString.call(input)==="[object Number]"}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}var some;if(Array.prototype.some){some=Array.prototype.some}else{some=function(fun){var t=Object(this);var len=t.length>>>0;for(var i=0;i<len;i++){if(i in t&&fun.call(this,t[i],i,t)){return true}}return false}}function isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);var parsedParts=some.call(flags.parsedDateParts,function(i){return i!=null});var isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict){isNowValid=isNowValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(m)){m._isValid=isNowValid}else{return isNowValid}}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentProperties.length>0){for(i=0;i<momentProperties.length;i++){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(updateInProgress===false){updateInProgress=true;hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function absFloor(number){if(number<0){return Math.ceil(number)||0}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function warn(msg){if(hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,msg)}if(firstTime){var args=[];var arg;for(var i=0;i<arguments.length;i++){arg="";if(typeof arguments[i]==="object"){arg+="\n["+i+"] ";for(var key in arguments[0]){arg+=key+": "+arguments[0][key]+", "}arg=arg.slice(0,-2)}else{arg=arguments[i]}args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(name,msg)}if(!deprecations[name]){warn(msg);deprecations[name]=true}}hooks.suppressDeprecationWarnings=false;hooks.deprecationHandler=null;function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}this._config=config;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var res=extend({},parentConfig),prop;for(prop in childConfig){if(hasOwnProp(childConfig,prop)){if(isObject(parentConfig[prop])&&isObject(childConfig[prop])){res[prop]={};extend(res[prop],parentConfig[prop]);extend(res[prop],childConfig[prop])}else if(childConfig[prop]!=null){res[prop]=childConfig[prop]}else{delete res[prop]}}}for(prop in parentConfig){if(hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])){res[prop]=extend({},res[prop])}}return res}function Locale(config){if(config!=null){this.set(config)}}var keys;if(Object.keys){keys=Object.keys}else{keys=function(obj){var i,res=[];for(i in obj){if(hasOwnProp(obj,i)){res.push(i)}}return res}}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(key,mom,now){var output=this._calendar[key]||this._calendar["sameElse"];return isFunction(output)?output.call(mom,now):output}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d";var defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj){units.push({unit:u,priority:priorities[u]})}units.sort(function(a,b){return a.priority-b.priority});return units}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="",i;for(i=0;i<length;i++){output+=isFunction(array[i])?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==="string"){token=[token]}if(isNumber(callback)){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,true],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?hooks.parseTwoDigitYear(input):toInt(input)});addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)});addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)});function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",true);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(unit,keepTime){return function(value){if(value!=null){set$1(this,unit,value);hooks.updateOffset(this,keepTime);return this}else{return get(this,unit)}}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){if(mom.isValid()&&!isNaN(value)){if(unit==="FullYear"&&isLeapYear(mom.year())&&mom.month()===1&&mom.date()===29){mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month()))}else{mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}}function stringGet(units){units=normalizeUnits(units);if(isFunction(this[units])){return this[units]()}return this}function stringSet(units,value){if(typeof units==="object"){units=normalizeObjectUnits(units);var prioritized=getPrioritizedUnits(units);for(var i=0;i<prioritized.length;i++){this[prioritized[i].unit](units[prioritized[i].unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}function mod(n,x){return(n%x+x)%x}var indexOf;if(Array.prototype.indexOf){indexOf=Array.prototype.indexOf}else{indexOf=function(o){var i;for(i=0;i<this.length;++i){if(this[i]===o){return i}}return-1}}function daysInMonth(year,month){if(isNaN(year)||isNaN(month)){return NaN}var modMonth=mod(month,12);year+=(month-modMonth)/12;return modMonth===1?isLeapYear(year)?29:28:31-modMonth%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)});addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)});addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(m,format){if(!m){return isArray(this._months)?this._months:this._months["standalone"]}return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(m,format){if(!m){return isArray(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){mom=createUTC([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase()}}if(strict){if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}}else{if(format==="MMM"){ii=indexOf.call(this._shortMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._longMonthsParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._longMonthsParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortMonthsParse,llc);return ii!==-1?ii:null}}}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact){return handleStrictParse.call(this,monthName,format,strict)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){if(/^\d+$/.test(value)){value=toInt(value)}else{value=mom.localeData().monthsParse(value);if(!isNumber(value)){return mom}}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);hooks.updateOffset(this,true);return this}else{return get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!hasOwnProp(this,"_monthsShortRegex")){this._monthsShortRegex=defaultMonthsShortRegex}return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}}var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!hasOwnProp(this,"_monthsRegex")){this._monthsRegex=defaultMonthsRegex}return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i])}for(i=0;i<24;i++){mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y)}return date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}return date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)});addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)});addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)});addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}function parseIsoWeekday(input,locale){if(typeof input==="string"){return locale.weekdaysParse(input)%7||7}return isNaN(input)?null:input}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(m,format){if(!m){return isArray(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){mom=createUTC([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase()}}if(strict){if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}}else{if(format==="dddd"){ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else if(format==="ddd"){ii=indexOf.call(this._shortWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._minWeekdaysParse,llc);return ii!==-1?ii:null}else{ii=indexOf.call(this._minWeekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._weekdaysParse,llc);if(ii!==-1){return ii}ii=indexOf.call(this._shortWeekdaysParse,llc);return ii!==-1?ii:null}}}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,weekdayName,format,strict)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}if(input!=null){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}else{return this.day()||7}}var defaultWeekdaysRegex=matchWord;function weekdaysRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!hasOwnProp(this,"_weekdaysRegex")){this._weekdaysRegex=defaultWeekdaysRegex}return this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex}}var defaultWeekdaysShortRegex=matchWord;function weekdaysShortRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!hasOwnProp(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=defaultWeekdaysShortRegex}return this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var defaultWeekdaysMinRegex=matchWord;function weekdaysMinRegex(isStrict){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(isStrict){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!hasOwnProp(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=defaultWeekdaysMinRegex}return this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[],i,mom,minp,shortp,longp;for(i=0;i<7;i++){mom=createUTC([2e3,1]).day(i);minp=this.weekdaysMin(mom,"");shortp=this.weekdaysShort(mom,"");longp=this.weekdays(mom,"");minPieces.push(minp);shortPieces.push(shortp);longPieces.push(longp);mixedPieces.push(minp);mixedPieces.push(shortp);mixedPieces.push(longp)}minPieces.sort(cmpLenRev);shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<7;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i])}this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase);
})}meridiem("a",true);meridiem("A",false);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=kInput===24?0:kInput});addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true});addParseToken("hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true});addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))});addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var getSetHour=makeGetSet("Hours",true);var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse};var locales={};var localeFamilies={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return globalLocale}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=="undefined"&&module&&module.exports){try{oldLocale=globalLocale._abbr;var aliasedRequire=require;aliasedRequire("./locale/"+name);getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+key+" not found. Did you forget to load it?")}}}return globalLocale._abbr}function defineLocale(name,config){if(config!==null){var locale,parentConfig=baseConfig;config.abbr=name;if(locales[name]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");parentConfig=locales[name]._config}else if(config.parentLocale!=null){if(locales[config.parentLocale]!=null){parentConfig=locales[config.parentLocale]._config}else{locale=loadLocale(config.parentLocale);if(locale!=null){parentConfig=locale._config}else{if(!localeFamilies[config.parentLocale]){localeFamilies[config.parentLocale]=[]}localeFamilies[config.parentLocale].push({name:name,config:config});return null}}}locales[name]=new Locale(mergeConfigs(parentConfig,config));if(localeFamilies[name]){localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)})}getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function updateLocale(name,config){if(config!=null){var locale,tmpLocale,parentConfig=baseConfig;tmpLocale=loadLocale(name);if(tmpLocale!=null){parentConfig=tmpLocale._config}config=mergeConfigs(parentConfig,config);locale=new Locale(config);locale.parentLocale=locales[name];locales[name]=locale;getSetGlobalLocale(name)}else{if(locales[name]!=null){if(locales[name].parentLocale!=null){locales[name]=locales[name].parentLocale}else if(locales[name]!=null){delete locales[name]}}}return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}function listLocales(){return keys(locales)}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,expectedWeekday,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear!=null){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)||config._dayOfYear===0){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay();if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}if(config._w&&typeof config._w.d!=="undefined"&&config._w.d!==expectedWeekday){getParsingFlags(config).weekdayMismatch=true}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year);week=defaults(w.w,curWeek.week);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];if(secondStr){result.push(parseInt(secondStr,10))}return result}function untruncateYear(yearStr){var year=parseInt(yearStr,10);if(year<=49){return 2e3+year}else if(year<=999){return 1900+year}return year}function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(weekdayStr,parsedInput,config){if(weekdayStr){var weekdayProvided=defaultLocaleWeekdaysShort.indexOf(weekdayStr),weekdayActual=new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay();if(weekdayProvided!==weekdayActual){getParsingFlags(config).weekdayMismatch=true;config._isValid=false;return false}}return true}var obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function calculateOffset(obsOffset,militaryOffset,numOffset){if(obsOffset){return obsOffsets[obsOffset]}else if(militaryOffset){return 0}else{var hm=parseInt(numOffset,10);var m=hm%100,h=(hm-m)/100;return h*60+m}}function configFromRFC2822(config){var match=rfc2822.exec(preprocessRFC2822(config._i));if(match){var parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!checkWeekday(match[1],parsedArray,config)){return}config._a=parsedArray;config._tzm=calculateOffset(match[8],match[9],match[10]);config._d=createUTCDate.apply(null,config._a);config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm);getParsingFlags(config).rfc2822=true}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date((+matched[1]));return}configFromISO(config);if(config._isValid===false){delete config._isValid}else{return}configFromRFC2822(config);if(config._isValid===false){delete config._isValid}else{return}hooks.createFromInputFallback(config)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601){configFromISO(config);return}if(config._f===hooks.RFC_2822){configFromRFC2822(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(config._a[HOUR]<=12&&getParsingFlags(config).bigHour===true&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}getParsingFlags(config).parsedDateParts=config._a.slice(0);getParsingFlags(config).meridiem=config._meridiem;config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||getLocale(config._l);if(input===null||format===undefined&&input===""){return createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isDate(input)){config._d=input}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else{configFromInput(config)}if(!isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(isUndefined(input)){config._d=new Date(hooks.now())}else if(isDate(input)){config._d=new Date(input.valueOf())}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(isObject(input)){configFromObject(config)}else if(isNumber(input)){config._d=new Date(input)}else{hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(locale===true||locale===false){strict=locale;locale=undefined}if(isObject(input)&&isObjectEmpty(input)||isArray(input)&&input.length===0){input=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return createInvalid()}});var prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}var now=function(){return Date.now?Date.now():+new Date};var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(m){for(var key in m){if(!(indexOf.call(ordering,key)!==-1&&(m[key]==null||!isNaN(m[key])))){return false}}var unitHasDecimal=false;for(var i=0;i<ordering.length;++i){if(m[ordering[i]]){if(unitHasDecimal){return false}if(parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])){unitHasDecimal=true}}}return true}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput);this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*1e3*60*60;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){if(number<0){return Math.round(-1*number)*-1}else{return Math.round(number)}}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(matches===null){return null}var chunk=matches[matches.length-1]||[];var parts=(chunk+"").match(chunkOffset)||["-",0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return minutes===0?0:parts[0]==="+"?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf();res._d.setTime(res._d.valueOf()+diff);hooks.updateOffset(res,false);return res}else{return createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime,keepMinutes){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input);if(input===null){return this}}else if(Math.abs(input)<16&&!keepMinutes){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){addSubtract(this,createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var tZone=offsetFromString(matchOffset,this._i);if(tZone!=null){this.utcOffset(tZone)}else{this.utcOffset(0,true)}}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(isNumber(input)){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(match[MILLISECOND]*1e3))*sign}}else if(!!(match=isoRegex.exec(input))){sign=match[1]==="-"?-1:match[1]==="+"?1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=createDuration(val,period);addSubtract(this,dur,direction);return this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(months){setMonth(mom,get(mom,"Month")+months*isAdding)}if(days){set$1(mom,"Date",get(mom,"Date")+days*isAdding)}if(milliseconds){mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding)}if(updateOffset){hooks.updateOffset(mom,days||months)}}var add=createAdder(1,"add");var subtract=createAdder(-1,"subtract");function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",true);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse";var output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return this.valueOf()>localInput.valueOf()}else{return localInput.valueOf()<this.clone().startOf(units).valueOf()}}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return this.valueOf()<localInput.valueOf()}else{return this.clone().endOf(units).valueOf()<localInput.valueOf()}}function isBetween(from,to,units,inclusivity){inclusivity=inclusivity||"()";return(inclusivity[0]==="("?this.isAfter(from,units):!this.isBefore(from,units))&&(inclusivity[1]===")"?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var localInput=isMoment(input)?input:createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units||"millisecond");if(units==="millisecond"){return this.valueOf()===localInput.valueOf()}else{inputMs=localInput.valueOf();return this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);switch(units){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(keepOffset){if(!this.isValid()){return null}var utc=keepOffset!==true;var m=utc?this.clone().utc():this;if(m.year()<0||m.year()>9999){return formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(isFunction(Date.prototype.toISOString)){if(utc){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(m,"Z"))}}return formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var func="moment";var zone="";if(!this.isLocal()){func=this.utcOffset()===0?"moment.utc":"moment.parseZone";zone="Z"}var prefix="["+func+'("]';var year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var datetime="-MM-DD[T]HH:mm:ss.SSS";var suffix=zone+'[")]';return this.format(prefix+year+datetime+suffix)}function format(inputString){if(!inputString){inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat}var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())){return createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr;
}else{newLocaleData=getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}function startOf(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function endOf(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}if(units==="date"){units="day"}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",true);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}var getSetMillisecond=makeGetSet("Milliseconds",false);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add;proto.calendar=calendar$1;proto.clone=clone;proto.diff=diff;proto.endOf=endOf;proto.format=format;proto.from=from;proto.fromNow=fromNow;proto.to=to;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract;proto.toArray=toArray;proto.toObject=toObject;proto.toDate=toDate;proto.toISOString=toISOString;proto.inspect=inspect;proto.toJSON=toJSON;proto.toString=toString;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(input){return createLocal(input*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}var proto$1=Locale.prototype;proto$1.calendar=calendar;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1(format,index,field,setter){var locale=getLocale();var utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)){index=format;format=undefined}format=format||"";if(index!=null){return get$1(format,index,field,"month")}var i;var out=[];for(i=0;i<12;i++){out[i]=get$1(format,i,field,"month")}return out}function listWeekdaysImpl(localeSorted,format,index,field){if(typeof localeSorted==="boolean"){if(isNumber(format)){index=format;format=undefined}format=format||""}else{format=localeSorted;index=format;localeSorted=false;if(isNumber(format)){index=format;format=undefined}format=format||""}var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(index!=null){return get$1(format,(index+shift)%7,field,"day")}var i;var out=[];for(i=0;i<7;i++){out[i]=get$1(format,(i+shift)%7,field,"day")}return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!(milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0)){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0}data.milliseconds=milliseconds%1e3;seconds=absFloor(milliseconds/1e3);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){if(!this.isValid()){return NaN}var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==="month"?months:months/12}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return days*24+milliseconds/36e5;case"minute":return days*1440+milliseconds/6e4;case"second":return days*86400+milliseconds/1e3;case"millisecond":return Math.floor(days*864e5)+milliseconds;default:throw new Error("Unknown unit "+units)}}}function valueOf$1(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms");var asSeconds=makeAs("s");var asMinutes=makeAs("m");var asHours=makeAs("h");var asDays=makeAs("d");var asWeeks=makeAs("w");var asMonths=makeAs("M");var asYears=makeAs("y");function clone$1(){return createDuration(this)}function get$2(units){units=normalizeUnits(units);return this.isValid()?this[units+"s"]():NaN}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds");var seconds=makeGetter("seconds");var minutes=makeGetter("minutes");var hours=makeGetter("hours");var days=makeGetter("days");var months=makeGetter("months");var years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round;var thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs();var seconds=round(duration.as("s"));var minutes=round(duration.as("m"));var hours=round(duration.as("h"));var days=round(duration.as("d"));var months=round(duration.as("M"));var years=round(duration.as("y"));var a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){if(roundingFunction===undefined){return round}if(typeof roundingFunction==="function"){round=roundingFunction;return true}return false}function getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;if(threshold==="s"){thresholds.ss=limit-1}return true}function humanize(withSuffix){if(!this.isValid()){return this.localeData().invalidDate()}var locale=this.localeData();var output=relativeTime$1(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var abs$1=Math.abs;function sign(x){return(x>0)-(x<0)||+x}function toISOString$1(){if(!this.isValid()){return this.localeData().invalidDate()}var seconds=abs$1(this._milliseconds)/1e3;var days=abs$1(this._days);var months=abs$1(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"";var total=this.asSeconds();if(!total){return"P0D"}var totalSign=total<0?"-":"";var ymSign=sign(this._months)!==sign(total)?"-":"";var daysSign=sign(this._days)!==sign(total)?"-":"";var hmsSign=sign(this._milliseconds)!==sign(total)?"-":"";return totalSign+"P"+(Y?ymSign+Y+"Y":"")+(M?ymSign+M+"M":"")+(D?daysSign+D+"D":"")+(h||m||s?"T":"")+(h?hmsSign+h+"H":"")+(m?hmsSign+m+"M":"")+(s?hmsSign+s+"S":"")}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs;proto$2.add=add$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1;proto$2.get=get$2;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(input,array,config){config._d=new Date(parseFloat(input,10)*1e3)});addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))});hooks.version="2.22.2";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min;hooks.max=max;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};hooks.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(input){return/^nm$/i.test(input)},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower?"vm":"VM"}else{return isLower?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}});hooks.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});hooks.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});var symbolMap={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},pluralForm=function(n){return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm(number),str=plurals[u][pluralForm(number)];if(f===2){str=str[withoutSuffix?0:1]}return str.replace(/%d/i,number)}},months$1=["","","","","","","","","","","",""];hooks.defineLocale("ar-ly",{months:months$1,monthsShort:months$1,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize("s"),ss:pluralize("s"),m:pluralize("m"),mm:pluralize("m"),h:pluralize("h"),hh:pluralize("h"),d:pluralize("d"),dd:pluralize("d"),M:pluralize("M"),MM:pluralize("M"),y:pluralize("y"),yy:pluralize("y")},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:6,doy:12}});hooks.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var symbolMap$1={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$1[match]}).replace(/,/g,"")},week:{dow:0,doy:6}});hooks.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var symbolMap$2={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$1={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},pluralForm$1=function(n){return n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals$1={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize$1=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm$1(number),str=plurals$1[u][pluralForm$1(number)];if(f===2){str=str[withoutSuffix?0:1]}return str.replace(/%d/i,number)}},months$2=["","","","","","","","","","","",""];hooks.defineLocale("ar",{months:months$2,monthsShort:months$2,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize$1("s"),ss:pluralize$1("s"),m:pluralize$1("m"),mm:pluralize$1("m"),h:pluralize$1("h"),hh:pluralize$1("h"),d:pluralize$1("d"),dd:pluralize$1("d"),M:pluralize$1("M"),MM:pluralize$1("M"),y:pluralize$1("y"),yy:pluralize$1("y")},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$1[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$2[match]}).replace(/,/g,"")},week:{dow:6,doy:12}});var suffixes={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};hooks.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),
weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(input){return/^(gndz|axam)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return"gec"}else if(hour<12){return"shr"}else if(hour<17){return"gndz"}else{return"axam"}},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(number){if(number===0){return number+"-nc"}var a=number%10,b=number%100-a,c=number>=100?100:null;return number+(suffixes[a]||suffixes[b]||suffixes[c])},week:{dow:1,doy:7}});function plural(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else if(key==="h"){return withoutSuffix?"":""}else{return number+" "+plural(format[key],+number)}}hooks.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return(number%10===2||number%10===3)&&(number%100!==12&&number%100!==13)?number+"-":number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}});hooks.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;if(number===0){return number+"-"}else if(last2Digits===0){return number+"-"}else if(last2Digits>10&&last2Digits<20){return number+"-"}else if(lastDigit===1){return number+"-"}else if(lastDigit===2){return number+"-"}else if(lastDigit===7||lastDigit===8){return number+"-"}else{return number+"-"}},week:{dow:1,doy:7}});hooks.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var symbolMap$3={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$2={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$2[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$3[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===""&&hour<5||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});var symbolMap$4={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$3={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$3[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$4[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===""&&hour<5||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});function relativeTimeWithMutation(number,withoutSuffix,key){var format={mm:"munutenn",MM:"miz",dd:"devezh"};return number+" "+mutation(format[key],number)}function specialMutationForYears(number){switch(lastNumber(number)){case 1:case 3:case 4:case 5:case 9:return number+" bloaz";default:return number+" vloaz"}}function lastNumber(number){if(number>9){return lastNumber(number%10)}return number}function mutation(text,number){if(number===2){return softMutation(text)}return text}function softMutation(text){var mutationTable={m:"v",b:"v",d:"z"};if(mutationTable[text.charAt(0)]===undefined){return text}return mutationTable[text.charAt(0)]+text.substring(1)}hooks.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(number){var output=number===1?"a":"vet";return number+output},week:{dow:1,doy:4}});function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":if(number===1){result+="sekunda"}else if(number===2||number===3||number===4){result+="sekunde"}else{result+="sekundi"}return result;case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":if(number===1){result+="minuta"}else if(number===2||number===3||number===4){result+="minute"}else{result+="minuta"}return result;case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":if(number===1){result+="sat"}else if(number===2||number===3||number===4){result+="sata"}else{result+="sati"}return result;case"dd":if(number===1){result+="dan"}else{result+="dana"}return result;case"MM":if(number===1){result+="mjesec"}else if(number===2||number===3||number===4){result+="mjeseca"}else{result+="mjeseci"}return result;case"yy":if(number===1){result+="godina"}else if(number===2||number===3||number===4){result+="godine"}else{result+="godina"}return result}}hooks.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});hooks.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(number,period){var output=number===1?"r":number===2?"n":number===3?"r":number===4?"t":"";if(period==="w"||period==="W"){output="a"}return number+output},week:{dow:1,doy:4}});var months$3="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),monthsShort="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function plural$1(n){return n>1&&n<5&&~~(n/10)!==1}function translate$1(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr sekund":"pr sekundami";case"ss":if(withoutSuffix||isFuture){return result+(plural$1(number)?"sekundy":"sekund")}else{return result+"sekundami"}break;case"m":return withoutSuffix?"minuta":isFuture?"minutu":"minutou";case"mm":if(withoutSuffix||isFuture){return result+(plural$1(number)?"minuty":"minut")}else{return result+"minutami"}break;case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":if(withoutSuffix||isFuture){return result+(plural$1(number)?"hodiny":"hodin")}else{return result+"hodinami"}break;case"d":return withoutSuffix||isFuture?"den":"dnem";case"dd":if(withoutSuffix||isFuture){return result+(plural$1(number)?"dny":"dn")}else{return result+"dny"}break;case"M":return withoutSuffix||isFuture?"msc":"mscem";case"MM":if(withoutSuffix||isFuture){return result+(plural$1(number)?"msce":"msc")}else{return result+"msci"}break;case"y":return withoutSuffix||isFuture?"rok":"rokem";case"yy":if(withoutSuffix||isFuture){return result+(plural$1(number)?"roky":"let")}else{return result+"lety"}break}}hooks.defineLocale("cs",{months:months$3,monthsShort:monthsShort,monthsParse:function(months,monthsShort){var i,_monthsParse=[];for(i=0;i<12;i++){_monthsParse[i]=new RegExp("^"+months[i]+"$|^"+monthsShort[i]+"$","i")}return _monthsParse}(months$3,monthsShort),shortMonthsParse:function(monthsShort){var i,_shortMonthsParse=[];for(i=0;i<12;i++){_shortMonthsParse[i]=new RegExp("^"+monthsShort[i]+"$","i")}return _shortMonthsParse}(monthsShort),longMonthsParse:function(months){var i,_longMonthsParse=[];for(i=0;i<12;i++){_longMonthsParse[i]=new RegExp("^"+months[i]+"$","i")}return _longMonthsParse}(months$3),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:translate$1,ss:translate$1,m:translate$1,mm:translate$1,h:translate$1,hh:translate$1,d:translate$1,dd:translate$1,M:translate$1,MM:translate$1,y:translate$1,yy:translate$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(output){var affix=/$/i.exec(output)?"":/$/i.exec(output)?"":"";return output+affix},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});hooks.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(number){var b=number,output="",lookup=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(b>20){if(b===40||b===50||b===60||b===80||b===100){output="fed"}else{output="ain"}}else if(b>0){output=lookup[b]}return number+output},week:{dow:1,doy:4}});hooks.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function processRelativeTime$1(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime$1,mm:"%d Minuten",h:processRelativeTime$1,hh:"%d Stunden",d:processRelativeTime$1,dd:processRelativeTime$1,M:processRelativeTime$1,MM:processRelativeTime$1,y:processRelativeTime$1,yy:processRelativeTime$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function processRelativeTime$2(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime$2,mm:"%d Minuten",h:processRelativeTime$2,hh:"%d Stunden",d:processRelativeTime$2,dd:processRelativeTime$2,M:processRelativeTime$2,MM:processRelativeTime$2,y:processRelativeTime$2,yy:processRelativeTime$2},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var months$4=["","","","","","","","","","","",""],weekdays=["","","","","","",""];hooks.defineLocale("dv",{months:months$4,monthsShort:months$4,weekdays:weekdays,weekdaysShort:weekdays,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:7,doy:12}});hooks.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(momentToFormat,format){if(!momentToFormat){return this._monthsNominativeEl}else if(typeof format==="string"&&/D/.test(format.substring(0,format.indexOf("MMMM")))){return this._monthsGenitiveEl[momentToFormat.month()]}else{return this._monthsNominativeEl[momentToFormat.month()]}},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"":""}else{return isLower?"":""}},isPM:function(input){return(input+"").toLowerCase()[0]===""},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(key,mom){var output=this._calendarEl[key],hours=mom&&mom.hours();if(isFunction(output)){output=output.apply(mom)}return output.replace("{}",hours%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});hooks.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});hooks.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});hooks.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(input){return input.charAt(0).toLowerCase()==="p"},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"p.t.m.":"P.T.M."}else{return isLower?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$1="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var monthsParse=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var monthsRegex$1=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;hooks.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot}else if(/-MMM-/.test(format)){return monthsShort$1[m.month()]}else{return monthsShortDot[m.month()]}},monthsRegex:monthsRegex$1,monthsShortRegex:monthsRegex$1,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var monthsShortDot$1="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$2="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");hooks.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot$1}else if(/-MMM-/.test(format)){return monthsShort$2[m.month()]}else{return monthsShortDot$1[m.month()]}},monthsParseExact:true,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});var monthsShortDot$2="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$3="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var monthsParse$1=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var monthsRegex$2=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;hooks.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){if(!m){return monthsShortDot$2}else if(/-MMM-/.test(format)){return monthsShort$3[m.month()]}else{return monthsShortDot$2[m.month()]}},monthsRegex:monthsRegex$2,monthsShortRegex:monthsRegex$2,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:monthsParse$1,longMonthsParse:monthsParse$1,shortMonthsParse:monthsParse$1,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});function processRelativeTime$3(number,withoutSuffix,key,isFuture){var format={s:["mne sekundi","mni sekund","paar sekundit"],ss:[number+"sekundi",number+"sekundit"],m:["he minuti","ks minut"],mm:[number+" minuti",number+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[number+" tunni",number+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[number+" kuu",number+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[number+" aasta",number+" aastat"]};if(withoutSuffix){return format[key][2]?format[key][2]:format[key][1]}return isFuture?format[key][0]:format[key][1]}hooks.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:processRelativeTime$3,ss:processRelativeTime$3,m:processRelativeTime$3,mm:processRelativeTime$3,h:processRelativeTime$3,hh:processRelativeTime$3,d:processRelativeTime$3,dd:"%d peva",M:processRelativeTime$3,MM:processRelativeTime$3,y:processRelativeTime$3,yy:processRelativeTime$3},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var symbolMap$5={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$4={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(input){return/  /.test(input)},meridiem:function(hour,minute,isLower){if(hour<12){return"  "}else{return"  "}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[-]/g,function(match){return numberMap$4[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$5[match]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var numbersPast="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),numbersFuture=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",numbersPast[7],numbersPast[8],numbersPast[9]];function translate$2(number,withoutSuffix,key,isFuture){var result="";switch(key){case"s":return isFuture?"muutaman sekunnin":"muutama sekunti";case"ss":return isFuture?"sekunnin":"sekuntia";case"m":return isFuture?"minuutin":"minuutti";case"mm":result=isFuture?"minuutin":"minuuttia";break;case"h":return isFuture?"tunnin":"tunti";case"hh":result=isFuture?"tunnin":"tuntia";break;case"d":return isFuture?"pivn":"piv";case"dd":result=isFuture?"pivn":"piv";break;case"M":return isFuture?"kuukauden":"kuukausi";case"MM":result=isFuture?"kuukauden":"kuukautta";break;case"y":return isFuture?"vuoden":"vuosi";case"yy":result=isFuture?"vuoden":"vuotta";break}result=verbalNumber(number,isFuture)+" "+result;return result}function verbalNumber(number,isFuture){return number<10?isFuture?numbersFuture[number]:numbersPast[number]:number}hooks.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:translate$2,ss:translate$2,m:translate$2,mm:translate$2,h:translate$2,hh:translate$2,d:translate$2,dd:translate$2,M:translate$2,MM:translate$2,y:translate$2,yy:translate$2},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}}});hooks.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}},week:{dow:1,doy:4}});hooks.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(number,period){switch(period){case"D":return number+(number===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return number+(number===1?"er":"e");case"w":case"W":return number+(number===1?"re":"e")}},week:{dow:1,doy:4}});var monthsShortWithDots="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");hooks.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots}else if(/-MMM-/.test(format)){return monthsShortWithoutDots[m.month()]}else{return monthsShortWithDots[m.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}});var months$5=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"];var monthsShort$4=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"];var weekdays$1=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"];var weekdaysShort=["Did","Dil","Dim","Dic","Dia","Dih","Dis"];var weekdaysMin=["D","Lu","M","Ci","Ar","Ha","Sa"];hooks.defineLocale("gd",{months:months$5,monthsShort:monthsShort$4,monthsParseExact:true,weekdays:weekdays$1,weekdaysShort:weekdaysShort,weekdaysMin:weekdaysMin,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(number){var output=number===1?"d":number%10===2?"na":"mh";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:true,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(str){if(str.indexOf("un")===0){return"n"+str}return"en "+str},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});function processRelativeTime$4(number,withoutSuffix,key,isFuture){var format={s:["thodde secondanim","thodde second"],ss:[number+" secondanim",number+" second"],m:["eka mintan","ek minute"],mm:[number+" mintanim",number+" mintam"],h:["eka horan","ek hor"],hh:[number+" horanim",number+" horam"],d:["eka disan","ek dis"],dd:[number+" disanim",number+" dis"],M:["eka mhoinean","ek mhoino"],MM:[number+" mhoineanim",number+" mhoine"],y:["eka vorsan","ek voros"],yy:[number+" vorsanim",number+" vorsam"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:processRelativeTime$4,ss:processRelativeTime$4,m:processRelativeTime$4,mm:processRelativeTime$4,h:processRelativeTime$4,hh:processRelativeTime$4,d:processRelativeTime$4,dd:processRelativeTime$4,M:processRelativeTime$4,MM:processRelativeTime$4,y:processRelativeTime$4,yy:processRelativeTime$4},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(number,period){switch(period){case"D":return number+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return number}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="rati"){return hour<4?hour:hour+12}else if(meridiem==="sokalli"){return hour}else if(meridiem==="donparam"){return hour>12?hour:hour+12}else if(meridiem==="sanje"){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return"rati"}else if(hour<12){return"sokalli"}else if(hour<16){return"donparam"}else if(hour<20){return"sanje"}else{return"rati"}}});var symbolMap$6={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$5={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$5[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$6[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});hooks.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(number){if(number===2){return""}return number+" "},d:"",dd:function(number){if(number===2){return""}return number+" "},M:"",MM:function(number){if(number===2){return""}return number+" "},y:"",yy:function(number){if(number===2){return""}else if(number%10===0&&number!==10){return number+" "}return number+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(input){
return/^("| |)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<5){return" "}else if(hour<10){return""}else if(hour<12){return isLower?'"':" "}else if(hour<18){return isLower?'"':" "}else{return""}}});var symbolMap$7={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$6={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$6[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$7[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});function translate$3(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":if(number===1){result+="sekunda"}else if(number===2||number===3||number===4){result+="sekunde"}else{result+="sekundi"}return result;case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":if(number===1){result+="minuta"}else if(number===2||number===3||number===4){result+="minute"}else{result+="minuta"}return result;case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":if(number===1){result+="sat"}else if(number===2||number===3||number===4){result+="sata"}else{result+="sati"}return result;case"dd":if(number===1){result+="dan"}else{result+="dana"}return result;case"MM":if(number===1){result+="mjesec"}else if(number===2||number===3||number===4){result+="mjeseca"}else{result+="mjeseci"}return result;case"yy":if(number===1){result+="godina"}else if(number===2||number===3||number===4){result+="godine"}else{result+="godina"}return result}}hooks.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate$3,m:translate$3,mm:translate$3,h:translate$3,hh:translate$3,d:"dan",dd:translate$3,M:"mjesec",MM:translate$3,y:"godinu",yy:translate$3},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var weekEndings="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function translate$4(number,withoutSuffix,key,isFuture){var num=number;switch(key){case"s":return isFuture||withoutSuffix?"nhny msodperc":"nhny msodperce";case"ss":return num+(isFuture||withoutSuffix)?" msodperc":" msodperce";case"m":return"egy"+(isFuture||withoutSuffix?" perc":" perce");case"mm":return num+(isFuture||withoutSuffix?" perc":" perce");case"h":return"egy"+(isFuture||withoutSuffix?" ra":" rja");case"hh":return num+(isFuture||withoutSuffix?" ra":" rja");case"d":return"egy"+(isFuture||withoutSuffix?" nap":" napja");case"dd":return num+(isFuture||withoutSuffix?" nap":" napja");case"M":return"egy"+(isFuture||withoutSuffix?" hnap":" hnapja");case"MM":return num+(isFuture||withoutSuffix?" hnap":" hnapja");case"y":return"egy"+(isFuture||withoutSuffix?" v":" ve");case"yy":return num+(isFuture||withoutSuffix?" v":" ve")}return""}function week(isFuture){return(isFuture?"":"[mlt] ")+"["+weekEndings[this.day()]+"] LT[-kor]"}hooks.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(input){return input.charAt(1).toLowerCase()==="u"},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower===true?"de":"DE"}else{return isLower===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:translate$4,ss:translate$4,m:translate$4,mm:translate$4,h:translate$4,hh:translate$4,d:translate$4,dd:translate$4,M:translate$4,MM:translate$4,y:translate$4,yy:translate$4},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"DDD":case"w":case"W":case"DDDo":if(number===1){return number+"-"}return number+"-";default:return number}},week:{dow:1,doy:7}});hooks.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="siang"){return hour>=11?hour:hour+12}else if(meridiem==="sore"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"siang"}else if(hours<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});function plural$2(n){if(n%100===11){return true}else if(n%10===1){return false}return true}function translate$5(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nokkrar sekndur":"nokkrum sekndum";case"ss":if(plural$2(number)){return result+(withoutSuffix||isFuture?"sekndur":"sekndum")}return result+"seknda";case"m":return withoutSuffix?"mnta":"mntu";case"mm":if(plural$2(number)){return result+(withoutSuffix||isFuture?"mntur":"mntum")}else if(withoutSuffix){return result+"mnta"}return result+"mntu";case"hh":if(plural$2(number)){return result+(withoutSuffix||isFuture?"klukkustundir":"klukkustundum")}return result+"klukkustund";case"d":if(withoutSuffix){return"dagur"}return isFuture?"dag":"degi";case"dd":if(plural$2(number)){if(withoutSuffix){return result+"dagar"}return result+(isFuture?"daga":"dgum")}else if(withoutSuffix){return result+"dagur"}return result+(isFuture?"dag":"degi");case"M":if(withoutSuffix){return"mnuur"}return isFuture?"mnu":"mnui";case"MM":if(plural$2(number)){if(withoutSuffix){return result+"mnuir"}return result+(isFuture?"mnui":"mnuum")}else if(withoutSuffix){return result+"mnuur"}return result+(isFuture?"mnu":"mnui");case"y":return withoutSuffix||isFuture?"r":"ri";case"yy":if(plural$2(number)){return result+(withoutSuffix||isFuture?"r":"rum")}return result+(withoutSuffix||isFuture?"r":"ri")}}hooks.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:translate$5,ss:translate$5,m:translate$5,mm:translate$5,h:"klukkustund",hh:translate$5,d:translate$5,dd:translate$5,M:translate$5,MM:translate$5,y:translate$5,yy:translate$5},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});hooks.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(now){if(now.week()<this.week()){return"[]dddd LT"}else{return"dddd LT"}},lastDay:"[] LT",lastWeek:function(now){if(this.week()<now.week()){return"[]dddd LT"}else{return"dddd LT"}},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});hooks.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="enjing"){return hour}else if(meridiem==="siyang"){return hour>=11?hour:hour+12}else if(meridiem==="sonten"||meridiem==="ndalu"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"enjing"}else if(hours<15){return"siyang"}else if(hours<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});hooks.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(s){return/(|||)/.test(s)?s.replace(/$/,""):s+""},past:function(s){if(/(||||)/.test(s)){return s.replace(/(|)$/," ")}if(//.test(s)){return s.replace(/$/," ")}},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(number){if(number===0){return number}if(number===1){return number+"-"}if(number<20||number<=100&&number%20===0||number%100===0){return"-"+number}return number+"-"},week:{dow:1,doy:7}});var suffixes$1={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};hooks.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes$1[number]||suffixes$1[a]||suffixes$1[b])},week:{dow:1,doy:7}});var symbolMap$8={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$7={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$7[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$8[match]})},week:{dow:1,doy:4}});var symbolMap$9={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$8={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$8[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$9[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(number){return number+""},week:{dow:0,doy:6}});hooks.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},meridiemParse:/|/,isPM:function(token){return token===""},meridiem:function(hour,minute,isUpper){return hour<12?"":""}});var suffixes$2={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};hooks.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes$2[number]||suffixes$2[a]||suffixes$2[b])},week:{dow:1,doy:7}});function processRelativeTime$5(number,withoutSuffix,key,isFuture){var format={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return withoutSuffix?format[key][0]:format[key][1]}function processFutureTime(string){var number=string.substr(0,string.indexOf(" "));if(eifelerRegelAppliesToNumber(number)){return"a "+string}return"an "+string}function processPastTime(string){var number=string.substr(0,string.indexOf(" "));if(eifelerRegelAppliesToNumber(number)){return"viru "+string}return"virun "+string}function eifelerRegelAppliesToNumber(number){number=parseInt(number,10);if(isNaN(number)){return false}if(number<0){return true}else if(number<10){if(4<=number&&number<=7){return true}return false}else if(number<100){var lastDigit=number%10,firstDigit=number/10;if(lastDigit===0){return eifelerRegelAppliesToNumber(firstDigit)}return eifelerRegelAppliesToNumber(lastDigit)}else if(number<1e4){while(number>=10){number=number/10}return eifelerRegelAppliesToNumber(number)}else{number=number/1e3;return eifelerRegelAppliesToNumber(number)}}hooks.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",ss:"%d Sekonnen",m:processRelativeTime$5,mm:"%d Minutten",h:processRelativeTime$5,hh:"%d Stonnen",d:processRelativeTime$5,dd:"%d Deeg",M:processRelativeTime$5,MM:"%d Mint",y:processRelativeTime$5,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(number){return""+number}});var units={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function translateSeconds(number,withoutSuffix,key,isFuture){if(withoutSuffix){return"kelios sekunds"}else{return isFuture?"keli sekundi":"kelias sekundes"}}function translateSingular(number,withoutSuffix,key,isFuture){return withoutSuffix?forms(key)[0]:isFuture?forms(key)[1]:forms(key)[2]}function special(number){return number%10===0||number>10&&number<20}function forms(key){return units[key].split("_")}function translate$6(number,withoutSuffix,key,isFuture){var result=number+" ";if(number===1){return result+translateSingular(number,withoutSuffix,key[0],isFuture)}else if(withoutSuffix){return result+(special(number)?forms(key)[1]:forms(key)[0])}else{if(isFuture){return result+forms(key)[1]}else{return result+(special(number)?forms(key)[1]:forms(key)[2])}}}hooks.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:translateSeconds,ss:translate$6,m:translateSingular,mm:translate$6,h:translateSingular,hh:translate$6,d:translateSingular,dd:translate$6,M:translateSingular,MM:translate$6,y:translateSingular,yy:translate$6},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(number){return number+"-oji"},week:{dow:1,doy:4}});var units$1={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function format$1(forms,number,withoutSuffix){if(withoutSuffix){return number%10===1&&number%100!==11?forms[2]:forms[3]}else{return number%10===1&&number%100!==11?forms[0]:forms[1]}}function relativeTimeWithPlural$1(number,withoutSuffix,key){return number+" "+format$1(units$1[key],number,withoutSuffix)}function relativeTimeWithSingular(number,withoutSuffix,key){return format$1(units$1[key],number,withoutSuffix)}function relativeSeconds(number,withoutSuffix){return withoutSuffix?"daas sekundes":"dam sekundm"}hooks.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),
weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:relativeSeconds,ss:relativeTimeWithPlural$1,m:relativeTimeWithSingular,mm:relativeTimeWithPlural$1,h:relativeTimeWithSingular,hh:relativeTimeWithPlural$1,d:relativeTimeWithSingular,dd:relativeTimeWithPlural$1,M:relativeTimeWithSingular,MM:relativeTimeWithPlural$1,y:relativeTimeWithSingular,yy:relativeTimeWithPlural$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var translator={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator.correctGrammaticalCase(number,wordKey)}}};hooks.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var lastWeekDays=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:translator.translate,m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"dan",dd:translator.translate,M:"mjesec",MM:translator.translate,y:"godinu",yy:translator.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});hooks.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});hooks.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;if(number===0){return number+"-"}else if(last2Digits===0){return number+"-"}else if(last2Digits>10&&last2Digits<20){return number+"-"}else if(lastDigit===1){return number+"-"}else if(lastDigit===2){return number+"-"}else if(lastDigit===7||lastDigit===8){return number+"-"}else{return number+"-"}},week:{dow:1,doy:7}});hooks.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""&&hour>=4||meridiem===" "||meridiem===""){return hour+12}else{return hour}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return" "}else if(hour<20){return""}else{return""}}});function translate$7(number,withoutSuffix,key,isFuture){switch(key){case"s":return withoutSuffix?" ":" ";case"ss":return number+(withoutSuffix?" ":" ");case"m":case"mm":return number+(withoutSuffix?" ":" ");case"h":case"hh":return number+(withoutSuffix?" ":" ");case"d":case"dd":return number+(withoutSuffix?" ":" ");case"M":case"MM":return number+(withoutSuffix?" ":" ");case"y":case"yy":return number+(withoutSuffix?" ":" ");default:return number}}hooks.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:translate$7,ss:translate$7,m:translate$7,mm:translate$7,h:translate$7,hh:translate$7,d:translate$7,dd:translate$7,M:translate$7,MM:translate$7,y:translate$7,yy:translate$7},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+" ";default:return number}}});var symbolMap$a={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$9={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function relativeTimeMr(number,withoutSuffix,string,isFuture){var output="";if(withoutSuffix){switch(string){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d ";break}}else{switch(string){case"s":output=" ";break;case"ss":output="%d ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d ";break}}return output.replace(/%d/i,number)}hooks.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:relativeTimeMr,ss:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$9[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$a[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});hooks.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="tengahari"){return hour>=11?hour:hour+12}else if(meridiem==="petang"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"tengahari"}else if(hours<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});hooks.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="pagi"){return hour}else if(meridiem==="tengahari"){return hour>=11?hour:hour+12}else if(meridiem==="petang"||meridiem==="malam"){return hour+12}},meridiem:function(hours,minutes,isLower){if(hours<11){return"pagi"}else if(hours<15){return"tengahari"}else if(hours<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});hooks.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var symbolMap$b={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$a={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$a[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$b[match]})},week:{dow:1,doy:4}});hooks.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var symbolMap$c={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$b={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$b[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$c[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<3){return""}else if(hour<12){return""}else if(hour<16){return""}else if(hour<20){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var monthsShortWithDots$1="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots$1="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var monthsParse$2=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var monthsRegex$3=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;hooks.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots$1}else if(/-MMM-/.test(format)){return monthsShortWithoutDots$1[m.month()]}else{return monthsShortWithDots$1[m.month()]}},monthsRegex:monthsRegex$3,monthsShortRegex:monthsRegex$3,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse$2,longMonthsParse:monthsParse$2,shortMonthsParse:monthsParse$2,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}});var monthsShortWithDots$2="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots$2="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var monthsParse$3=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var monthsRegex$4=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;hooks.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){if(!m){return monthsShortWithDots$2}else if(/-MMM-/.test(format)){return monthsShortWithoutDots$2[m.month()]}else{return monthsShortWithDots$2[m.month()]}},monthsRegex:monthsRegex$4,monthsShortRegex:monthsRegex$4,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse$3,longMonthsParse:monthsParse$3,shortMonthsParse:monthsParse$3,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(number===1||number===8||number>=20?"ste":"de")},week:{dow:1,doy:4}});hooks.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var symbolMap$d={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$c[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$d[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});var monthsNominative="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),monthsSubjective="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function plural$3(n){return n%10<5&&n%10>1&&~~(n/10)%10!==1}function translate$8(number,withoutSuffix,key){var result=number+" ";switch(key){case"ss":return result+(plural$3(number)?"sekundy":"sekund");case"m":return withoutSuffix?"minuta":"minut";case"mm":return result+(plural$3(number)?"minuty":"minut");case"h":return withoutSuffix?"godzina":"godzin";case"hh":return result+(plural$3(number)?"godziny":"godzin");case"MM":return result+(plural$3(number)?"miesice":"miesicy");case"yy":return result+(plural$3(number)?"lata":"lat")}}hooks.defineLocale("pl",{months:function(momentToFormat,format){if(!momentToFormat){return monthsNominative}else if(format===""){return"("+monthsSubjective[momentToFormat.month()]+"|"+monthsNominative[momentToFormat.month()]+")"}else if(/D MMMM/.test(format)){return monthsSubjective[momentToFormat.month()]}else{return monthsNominative[momentToFormat.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:translate$8,m:translate$8,mm:translate$8,h:translate$8,hh:translate$8,d:"1 dzie",dd:"%d dni",M:"miesic",MM:translate$8,y:"rok",yy:translate$8},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"});hooks.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});function relativeTimeWithPlural$2(number,withoutSuffix,key){var format={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},separator=" ";if(number%100>=20||number>=100&&number%100===0){separator=" de "}return number+separator+format[key]}hooks.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:relativeTimeWithPlural$2,m:"un minut",mm:relativeTimeWithPlural$2,h:"o or",
hh:relativeTimeWithPlural$2,d:"o zi",dd:relativeTimeWithPlural$2,M:"o lun",MM:relativeTimeWithPlural$2,y:"un an",yy:relativeTimeWithPlural$2},week:{dow:1,doy:7}});function plural$4(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural$3(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else{return number+" "+plural$4(format[key],+number)}}var monthsParse$4=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];hooks.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:monthsParse$4,longMonthsParse:monthsParse$4,shortMonthsParse:monthsParse$4,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(now){if(now.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},lastWeek:function(now){if(now.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural$3,m:relativeTimeWithPlural$3,mm:relativeTimeWithPlural$3,h:"",hh:relativeTimeWithPlural$3,d:"",dd:relativeTimeWithPlural$3,M:"",MM:relativeTimeWithPlural$3,y:"",yy:relativeTimeWithPlural$3},meridiemParse:/|||/i,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":return number+"-";case"D":return number+"-";case"w":case"W":return number+"-";default:return number}},week:{dow:1,doy:4}});var months$6=["","","","","","","","","","","",""];var days$1=["","","","","","",""];hooks.defineLocale("sd",{months:months$6,monthsShort:months$6,weekdays:days$1,weekdaysShort:days$1,weekdaysMin:days$1,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}return""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}});hooks.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});hooks.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(number){return number+" "},meridiemParse:/ | |.|../,isPM:function(input){return input===".."||input===" "},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"..":" "}else{return isLower?"..":" "}}});var months$7="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),monthsShort$5="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function plural$5(n){return n>1&&n<5}function translate$9(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr seknd":"pr sekundami";case"ss":if(withoutSuffix||isFuture){return result+(plural$5(number)?"sekundy":"seknd")}else{return result+"sekundami"}break;case"m":return withoutSuffix?"minta":isFuture?"mintu":"mintou";case"mm":if(withoutSuffix||isFuture){return result+(plural$5(number)?"minty":"mint")}else{return result+"mintami"}break;case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":if(withoutSuffix||isFuture){return result+(plural$5(number)?"hodiny":"hodn")}else{return result+"hodinami"}break;case"d":return withoutSuffix||isFuture?"de":"dom";case"dd":if(withoutSuffix||isFuture){return result+(plural$5(number)?"dni":"dn")}else{return result+"dami"}break;case"M":return withoutSuffix||isFuture?"mesiac":"mesiacom";case"MM":if(withoutSuffix||isFuture){return result+(plural$5(number)?"mesiace":"mesiacov")}else{return result+"mesiacmi"}break;case"y":return withoutSuffix||isFuture?"rok":"rokom";case"yy":if(withoutSuffix||isFuture){return result+(plural$5(number)?"roky":"rokov")}else{return result+"rokmi"}break}}hooks.defineLocale("sk",{months:months$7,monthsShort:monthsShort$5,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate$9,ss:translate$9,m:translate$9,mm:translate$9,h:translate$9,hh:translate$9,d:translate$9,dd:translate$9,M:translate$9,MM:translate$9,y:translate$9,yy:translate$9},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function processRelativeTime$6(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nekaj sekund":"nekaj sekundami";case"ss":if(number===1){result+=withoutSuffix?"sekundo":"sekundi"}else if(number===2){result+=withoutSuffix||isFuture?"sekundi":"sekundah"}else if(number<5){result+=withoutSuffix||isFuture?"sekunde":"sekundah"}else{result+=withoutSuffix||isFuture?"sekund":"sekund"}return result;case"m":return withoutSuffix?"ena minuta":"eno minuto";case"mm":if(number===1){result+=withoutSuffix?"minuta":"minuto"}else if(number===2){result+=withoutSuffix||isFuture?"minuti":"minutama"}else if(number<5){result+=withoutSuffix||isFuture?"minute":"minutami"}else{result+=withoutSuffix||isFuture?"minut":"minutami"}return result;case"h":return withoutSuffix?"ena ura":"eno uro";case"hh":if(number===1){result+=withoutSuffix?"ura":"uro"}else if(number===2){result+=withoutSuffix||isFuture?"uri":"urama"}else if(number<5){result+=withoutSuffix||isFuture?"ure":"urami"}else{result+=withoutSuffix||isFuture?"ur":"urami"}return result;case"d":return withoutSuffix||isFuture?"en dan":"enim dnem";case"dd":if(number===1){result+=withoutSuffix||isFuture?"dan":"dnem"}else if(number===2){result+=withoutSuffix||isFuture?"dni":"dnevoma"}else{result+=withoutSuffix||isFuture?"dni":"dnevi"}return result;case"M":return withoutSuffix||isFuture?"en mesec":"enim mesecem";case"MM":if(number===1){result+=withoutSuffix||isFuture?"mesec":"mesecem"}else if(number===2){result+=withoutSuffix||isFuture?"meseca":"mesecema"}else if(number<5){result+=withoutSuffix||isFuture?"mesece":"meseci"}else{result+=withoutSuffix||isFuture?"mesecev":"meseci"}return result;case"y":return withoutSuffix||isFuture?"eno leto":"enim letom";case"yy":if(number===1){result+=withoutSuffix||isFuture?"leto":"letom"}else if(number===2){result+=withoutSuffix||isFuture?"leti":"letoma"}else if(number<5){result+=withoutSuffix||isFuture?"leta":"leti"}else{result+=withoutSuffix||isFuture?"let":"leti"}return result}}hooks.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:processRelativeTime$6,ss:processRelativeTime$6,m:processRelativeTime$6,mm:processRelativeTime$6,h:processRelativeTime$6,hh:processRelativeTime$6,d:processRelativeTime$6,dd:processRelativeTime$6,M:processRelativeTime$6,MM:processRelativeTime$6,y:processRelativeTime$6,yy:processRelativeTime$6},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});hooks.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function(input){return input.charAt(0)==="M"},meridiem:function(hours,minutes,isLower){return hours<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var translator$1={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator$1.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator$1.correctGrammaticalCase(number,wordKey)}}};hooks.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var lastWeekDays=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:translator$1.translate,m:translator$1.translate,mm:translator$1.translate,h:translator$1.translate,hh:translator$1.translate,d:"",dd:translator$1.translate,M:"",MM:translator$1.translate,y:"",yy:translator$1.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var translator$2={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return number===1?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator$2.words[key];if(key.length===1){return withoutSuffix?wordKey[0]:wordKey[1]}else{return number+" "+translator$2.correctGrammaticalCase(number,wordKey)}}};hooks.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var lastWeekDays=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return lastWeekDays[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:translator$2.translate,m:translator$2.translate,mm:translator$2.translate,h:translator$2.translate,hh:translator$2.translate,d:"dan",dd:translator$2.translate,M:"mesec",MM:translator$2.translate,y:"godinu",yy:translator$2.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});hooks.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(hours,minutes,isLower){if(hours<11){return"ekuseni"}else if(hours<15){return"emini"}else if(hours<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem==="ekuseni"){return hour}else if(meridiem==="emini"){return hour>=11?hour:hour+12}else if(meridiem==="entsambama"||meridiem==="ebusuku"){if(hour===0){return 0}return hour+12}},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});hooks.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"e":b===1?"a":b===2?"a":b===3?"e":"e";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var symbolMap$e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$d={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number+""},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$d[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$e[match]})},meridiemParse:/|||||/,meridiem:function(hour,minute,isLower){if(hour<2){return" "}else if(hour<6){return" "}else if(hour<10){return" "}else if(hour<14){return" "}else if(hour<18){return" "}else if(hour<22){return" "}else{return" "}},meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<2?hour:hour+12}else if(meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else{return hour+12}},week:{dow:0,doy:6}});hooks.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=10?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<10){return""}else if(hour<17){return""}else if(hour<20){return""}else{return""}},week:{dow:0,doy:6}});hooks.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});var suffixes$3={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};hooks.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""){return hour<4?hour:hour+12}else if(meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<11){return""}else if(hour<16){return""}else if(hour<19){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number){var a=number%10,b=number>=100?100:null;return number+(suffixes$3[number]||suffixes$3[a]||suffixes$3[b])},week:{dow:1,doy:7}});hooks.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(input){return input===""},meridiem:function(hour,minute,isLower){if(hour<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});hooks.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}});var numbersNouns="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function translateFuture(output){var time=output;time=output.indexOf("jaj")!==-1?time.slice(0,-3)+"leS":output.indexOf("jar")!==-1?time.slice(0,-3)+"waQ":output.indexOf("DIS")!==-1?time.slice(0,-3)+"nem":time+" pIq";return time}function translatePast(output){var time=output;time=output.indexOf("jaj")!==-1?time.slice(0,-3)+"Hu":output.indexOf("jar")!==-1?time.slice(0,-3)+"wen":output.indexOf("DIS")!==-1?time.slice(0,-3)+"ben":time+" ret";return time}function translate$a(number,withoutSuffix,string,isFuture){var numberNoun=numberAsNoun(number);switch(string){case"ss":return numberNoun+" lup";case"mm":return numberNoun+" tup";case"hh":return numberNoun+" rep";case"dd":return numberNoun+" jaj";case"MM":return numberNoun+" jar";case"yy":return numberNoun+" DIS"}}function numberAsNoun(number){var hundred=Math.floor(number%1e3/100),ten=Math.floor(number%100/10),one=number%10,word="";if(hundred>0){word+=numbersNouns[hundred]+"vatlh"}if(ten>0){
word+=(word!==""?" ":"")+numbersNouns[ten]+"maH"}if(one>0){word+=(word!==""?" ":"")+numbersNouns[one]}return word===""?"pagh":word}hooks.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:translateFuture,past:translatePast,s:"puS lup",ss:translate$a,m:"wa tup",mm:translate$a,h:"wa rep",hh:translate$a,d:"wa jaj",dd:translate$a,M:"wa jar",MM:translate$a,y:"wa DIS",yy:translate$a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var suffixes$4={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};hooks.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(number,period){switch(period){case"d":case"D":case"Do":case"DD":return number;default:if(number===0){return number+"'nc"}var a=number%10,b=number%100-a,c=number>=100?100:null;return number+(suffixes$4[a]||suffixes$4[b]||suffixes$4[c])}},week:{dow:1,doy:7}});hooks.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(input){return"d'o"===input.toLowerCase()},meridiem:function(hours,minutes,isLower){if(hours>11){return isLower?"d'o":"D'O"}else{return isLower?"d'a":"D'A"}},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime$7,ss:processRelativeTime$7,m:processRelativeTime$7,mm:processRelativeTime$7,h:processRelativeTime$7,hh:processRelativeTime$7,d:processRelativeTime$7,dd:processRelativeTime$7,M:processRelativeTime$7,MM:processRelativeTime$7,y:processRelativeTime$7,yy:processRelativeTime$7},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function processRelativeTime$7(number,withoutSuffix,key,isFuture){var format={s:["viensas secunds","'iensas secunds"],ss:[number+" secunds",""+number+" secunds"],m:["'n mut","'iens mut"],mm:[number+" muts",""+number+" muts"],h:["'n ora","'iensa ora"],hh:[number+" oras",""+number+" oras"],d:["'n ziua","'iensa ziua"],dd:[number+" ziuas",""+number+" ziuas"],M:["'n mes","'iens mes"],MM:[number+" mesen",""+number+" mesen"],y:["'n ar","'iens ar"],yy:[number+" ars",""+number+" ars"]};return isFuture?format[key][0]:withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});hooks.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});hooks.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===" "||meridiem===""||meridiem===" "){return hour}else if(meridiem===" "||meridiem===""){return hour+12}else{return hour>=11?hour:hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return" "}else if(hm<900){return""}else if(hm<1130){return" "}else if(hm<1230){return""}else if(hm<1800){return" "}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"-";case"w":case"W":return number+"-";default:return number}},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:7}});function plural$6(word,num){var forms=word.split("_");return num%10===1&&num%100!==11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2]}function relativeTimeWithPlural$4(number,withoutSuffix,key){var format={ss:withoutSuffix?"__":"__",mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"};if(key==="m"){return withoutSuffix?"":""}else if(key==="h"){return withoutSuffix?"":""}else{return number+" "+plural$6(format[key],+number)}}function weekdaysCaseReplace(m,format){var weekdays={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(!m){return weekdays["nominative"]}var nounCase=/(\[[]\]) ?dddd/.test(format)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(format)?"genitive":"nominative";return weekdays[nounCase][m.day()]}function processHoursFunction(str){return function(){return str+""+(this.hours()===11?"":"")+"] LT"}}hooks.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:processHoursFunction("[ "),nextDay:processHoursFunction("[ "),lastDay:processHoursFunction("[ "),nextWeek:processHoursFunction("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural$4,m:relativeTimeWithPlural$4,mm:relativeTimeWithPlural$4,h:"",hh:relativeTimeWithPlural$4,d:"",dd:relativeTimeWithPlural$4,M:"",MM:relativeTimeWithPlural$4,y:"",yy:relativeTimeWithPlural$4},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){if(hour<4){return""}else if(hour<12){return""}else if(hour<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}});var months$8=["","","","","","","","","","","",""];var days$2=["","","","","","",""];hooks.defineLocale("ur",{months:months$8,monthsShort:months$8,weekdays:days$2,weekdaysShort:days$2,weekdaysMin:days$2,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){if(hour<12){return""}return""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}});hooks.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});hooks.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});hooks.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function(input){return/^ch$/i.test(input)},meridiem:function(hours,minutes,isLower){if(hours<12){return isLower?"sa":"SA"}else{return isLower?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}});hooks.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:true,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=~~(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output},week:{dow:1,doy:4}});hooks.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});hooks.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""||meridiem===""){return hour+12}else{return hour>=11?hour:hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});hooks.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""||meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});hooks.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){if(hour===12){hour=0}if(meridiem===""||meridiem===""||meridiem===""){return hour}else if(meridiem===""){return hour>=11?hour:hour+12}else if(meridiem===""||meridiem===""){return hour+12}},meridiem:function(hour,minute,isLower){var hm=hour*100+minute;if(hm<600){return""}else if(hm<900){return""}else if(hm<1130){return""}else if(hm<1230){return""}else if(hm<1800){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});hooks.locale("en");return hooks});
!function(a){"use strict";function b(a){switch(typeof a){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===a?"null":"object"}}function c(a){return Object.prototype.toString.call(a).replace(/^\[object *|\]$/g,"")}function d(a){return"function"==typeof a}function e(a){if(null===a||a===D)throw TypeError();return Object(a)}function f(a){return a>>0}function g(a){return a>>>0}function h(a){function b(b){Object.defineProperty(a,b,{get:function(){return a._getter(b)},set:function(c){a._setter(b,c)},enumerable:!0,configurable:!1})}if(a.length>E)throw RangeError("Array too large for polyfill");var c;for(c=0;c<a.length;c+=1)b(c)}function i(a,b){var c=32-b;return a<<c>>c}function j(a,b){var c=32-b;return a<<c>>>c}function k(a){return[255&a]}function l(a){return i(a[0],8)}function m(a){return[255&a]}function n(a){return j(a[0],8)}function o(a){return a=M(Number(a)),[0>a?0:a>255?255:255&a]}function p(a){return[a>>8&255,255&a]}function q(a){return i(a[0]<<8|a[1],16)}function r(a){return[a>>8&255,255&a]}function s(a){return j(a[0]<<8|a[1],16)}function t(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]}function u(a){return i(a[0]<<24|a[1]<<16|a[2]<<8|a[3],32)}function v(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]}function w(a){return j(a[0]<<24|a[1]<<16|a[2]<<8|a[3],32)}function x(a,b,c){function d(a){var b=H(a),c=a-b;return.5>c?b:c>.5?b+1:b%2?b+1:b}var e,f,g,h,i,j,k,l=(1<<b-1)-1;for(a!==a?(f=(1<<b)-1,g=L(2,c-1),e=0):a===1/0||a===-(1/0)?(f=(1<<b)-1,g=0,e=0>a?1:0):0===a?(f=0,g=0,e=1/a===-(1/0)?1:0):(e=0>a,a=G(a),a>=L(2,1-l)?(f=K(H(I(a)/F),1023),g=d(a/L(2,f)*L(2,c)),g/L(2,c)>=2&&(f+=1,g=1),f>l?(f=(1<<b)-1,g=0):(f+=l,g-=L(2,c))):(f=0,g=d(a/L(2,1-l-c)))),i=[],h=c;h;h-=1)i.push(g%2?1:0),g=H(g/2);for(h=b;h;h-=1)i.push(f%2?1:0),f=H(f/2);for(i.push(e?1:0),i.reverse(),j=i.join(""),k=[];j.length;)k.push(parseInt(j.substring(0,8),2)),j=j.substring(8);return k}function y(a,b,c){var d,e,f,g,h,i,j,k,l=[];for(d=a.length;d;d-=1)for(f=a[d-1],e=8;e;e-=1)l.push(f%2?1:0),f>>=1;return l.reverse(),g=l.join(""),h=(1<<b-1)-1,i=parseInt(g.substring(0,1),2)?-1:1,j=parseInt(g.substring(1,1+b),2),k=parseInt(g.substring(1+b),2),j===(1<<b)-1?0!==k?0/0:i*(1/0):j>0?i*L(2,j-h)*(1+k/L(2,c)):0!==k?i*L(2,-(h-1))*(k/L(2,c)):0>i?-0:0}function z(a){return y(a,11,52)}function A(a){return x(a,11,52)}function B(a){return y(a,8,23)}function C(a){return x(a,8,23)}var D=void 0,E=1e5,F=Math.LN2,G=Math.abs,H=Math.floor,I=Math.log,J=Math.max,K=Math.min,L=Math.pow,M=Math.round;!function(){var a=Object.defineProperty,b=!function(){try{return Object.defineProperty({},"x",{})}catch(a){return!1}}();(!a||b)&&(Object.defineProperty=function(b,c,d){if(a)try{return a(b,c,d)}catch(e){}if(b!==Object(b))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in d&&Object.prototype.__defineGetter__.call(b,c,d.get),Object.prototype.__defineSetter__&&"set"in d&&Object.prototype.__defineSetter__.call(b,c,d.set),"value"in d&&(b[c]=d.value),b})}(),function(){function i(a){if(a=f(a),0>a)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:a}),Object.defineProperty(this,"_bytes",{value:Array(a)});for(var b=0;a>b;b+=1)this._bytes[b]=0}function j(){if(!arguments.length||"object"!=typeof arguments[0])return function(a){if(a=f(a),0>a)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:a}),Object.defineProperty(this,"byteLength",{value:a*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new i(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&arguments[0]instanceof j)return function(a){if(this.constructor!==a.constructor)throw TypeError();var b=a.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(b)}),Object.defineProperty(this,"byteLength",{value:b}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:a.length});for(var c=0;c<this.length;c+=1)this._setter(c,a._getter(c))}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&!(arguments[0]instanceof j)&&!(arguments[0]instanceof i||"ArrayBuffer"===c(arguments[0])))return function(a){var b=a.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new i(b)}),Object.defineProperty(this,"byteLength",{value:b}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:a.length});for(var c=0;c<this.length;c+=1){var d=a[c];this._setter(c,Number(d))}}.apply(this,arguments);if(arguments.length>=1&&"object"===b(arguments[0])&&(arguments[0]instanceof i||"ArrayBuffer"===c(arguments[0])))return function(a,b,c){if(b=g(b),b>a.byteLength)throw RangeError("byteOffset out of range");if(b%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(c===D){var d=a.byteLength-b;if(d%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");c=d/this.BYTES_PER_ELEMENT}else c=g(c),d=c*this.BYTES_PER_ELEMENT;if(b+d>a.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:a}),Object.defineProperty(this,"byteLength",{value:d}),Object.defineProperty(this,"byteOffset",{value:b}),Object.defineProperty(this,"length",{value:c})}.apply(this,arguments);throw TypeError()}function x(a,b,c){var d=function(){Object.defineProperty(this,"constructor",{value:d}),j.apply(this,arguments),h(this)};"__proto__"in d?d.__proto__=j:(d.from=j.from,d.of=j.of),d.BYTES_PER_ELEMENT=a;var e=function(){};return e.prototype=y,d.prototype=new e,Object.defineProperty(d.prototype,"BYTES_PER_ELEMENT",{value:a}),Object.defineProperty(d.prototype,"_pack",{value:b}),Object.defineProperty(d.prototype,"_unpack",{value:c}),d}a.ArrayBuffer=a.ArrayBuffer||i,Object.defineProperty(j,"from",{value:function(a){return new this(a)}}),Object.defineProperty(j,"of",{value:function(){return new this(arguments)}});var y={};j.prototype=y,Object.defineProperty(j.prototype,"_getter",{value:function(a){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(a=g(a),a>=this.length)return D;var b,c,d=[];for(b=0,c=this.byteOffset+a*this.BYTES_PER_ELEMENT;b<this.BYTES_PER_ELEMENT;b+=1,c+=1)d.push(this.buffer._bytes[c]);return this._unpack(d)}}),Object.defineProperty(j.prototype,"get",{value:j.prototype._getter}),Object.defineProperty(j.prototype,"_setter",{value:function(a,b){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(a=g(a),!(a>=this.length)){var c,d,e=this._pack(b);for(c=0,d=this.byteOffset+a*this.BYTES_PER_ELEMENT;c<this.BYTES_PER_ELEMENT;c+=1,d+=1)this.buffer._bytes[d]=e[c]}}}),Object.defineProperty(j.prototype,"constructor",{value:j}),Object.defineProperty(j.prototype,"copyWithin",{value:function(a,b){var c=arguments[2],d=e(this),h=d.length,i=g(h);i=J(i,0);var j,k=f(a);j=0>k?J(i+k,0):K(k,i);var l,m=f(b);l=0>m?J(i+m,0):K(m,i);var n;n=c===D?i:f(c);var o;o=0>n?J(i+n,0):K(n,i);var p,q=K(o-l,i-j);for(j>l&&l+q>j?(p=-1,l=l+q-1,j=j+q-1):p=1;q>0;)d._setter(j,d._getter(l)),l+=p,j+=p,q-=1;return d}}),Object.defineProperty(j.prototype,"every",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;c>f;f++)if(!a.call(e,b._getter(f),f,b))return!1;return!0}}),Object.defineProperty(j.prototype,"fill",{value:function(a){var b=arguments[1],c=arguments[2],d=e(this),h=d.length,i=g(h);i=J(i,0);var j,k=f(b);j=0>k?J(i+k,0):K(k,i);var l;l=c===D?i:f(c);var m;for(m=0>l?J(i+l,0):K(l,i);m>j;)d._setter(j,a),j+=1;return d}}),Object.defineProperty(j.prototype,"filter",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=[],f=arguments[1],h=0;c>h;h++){var i=b._getter(h);a.call(f,i,h,b)&&e.push(i)}return new this.constructor(e)}}),Object.defineProperty(j.prototype,"find",{value:function(a){var b=e(this),c=b.length,f=g(c);if(!d(a))throw TypeError();for(var h=arguments.length>1?arguments[1]:D,i=0;f>i;){var j=b._getter(i),k=a.call(h,j,i,b);if(Boolean(k))return j;++i}return D}}),Object.defineProperty(j.prototype,"findIndex",{value:function(a){var b=e(this),c=b.length,f=g(c);if(!d(a))throw TypeError();for(var h=arguments.length>1?arguments[1]:D,i=0;f>i;){var j=b._getter(i),k=a.call(h,j,i,b);if(Boolean(k))return i;++i}return-1}}),Object.defineProperty(j.prototype,"forEach",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;c>f;f++)a.call(e,b._getter(f),f,b)}}),Object.defineProperty(j.prototype,"indexOf",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*H(G(d)))),d>=c)return-1;for(var e=d>=0?d:J(c-G(d),0);c>e;e++)if(b._getter(e)===a)return e;return-1}}),Object.defineProperty(j.prototype,"join",{value:function(a){if(this===D||null===this)throw TypeError();for(var b=Object(this),c=g(b.length),d=Array(c),e=0;c>e;++e)d[e]=b._getter(e);return d.join(a===D?",":a)}}),Object.defineProperty(j.prototype,"lastIndexOf",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-(1/0)&&(d=(d>0||-1)*H(G(d))));for(var e=d>=0?K(d,c-1):c-G(d);e>=0;e--)if(b._getter(e)===a)return e;return-1}}),Object.defineProperty(j.prototype,"map",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();var e=[];e.length=c;for(var f=arguments[1],h=0;c>h;h++)e[h]=a.call(f,b._getter(h),h,b);return new this.constructor(e)}}),Object.defineProperty(j.prototype,"reduce",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var e,f=0;for(e=arguments.length>=2?arguments[1]:b._getter(f++);c>f;)e=a.call(D,e,b._getter(f),f,b),f++;return e}}),Object.defineProperty(j.prototype,"reduceRight",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();if(0===c&&1===arguments.length)throw TypeError();var e,f=c-1;for(e=arguments.length>=2?arguments[1]:b._getter(f--);f>=0;)e=a.call(D,e,b._getter(f),f,b),f--;return e}}),Object.defineProperty(j.prototype,"reverse",{value:function(){if(this===D||null===this)throw TypeError();for(var a=Object(this),b=g(a.length),c=H(b/2),d=0,e=b-1;c>d;++d,--e){var f=a._getter(d);a._setter(d,a._getter(e)),a._setter(e,f)}return a}}),Object.defineProperty(j.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var a,b,c,d,e,f,h,i,j,k;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(a=arguments[0],c=g(arguments[1]),c+a.length>this.length)throw RangeError("Offset plus length of array is out of range");if(i=this.byteOffset+c*this.BYTES_PER_ELEMENT,j=a.length*this.BYTES_PER_ELEMENT,a.buffer===this.buffer){for(k=[],e=0,f=a.byteOffset;j>e;e+=1,f+=1)k[e]=a.buffer._bytes[f];for(e=0,h=i;j>e;e+=1,h+=1)this.buffer._bytes[h]=k[e]}else for(e=0,f=a.byteOffset,h=i;j>e;e+=1,f+=1,h+=1)this.buffer._bytes[h]=a.buffer._bytes[f]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(b=arguments[0],d=g(b.length),c=g(arguments[1]),c+d>this.length)throw RangeError("Offset plus length of array is out of range");for(e=0;d>e;e+=1)f=b[e],this._setter(c+e,Number(f))}}}),Object.defineProperty(j.prototype,"slice",{value:function(a,b){for(var c=e(this),d=c.length,h=g(d),i=f(a),j=0>i?J(h+i,0):K(i,h),k=b===D?h:f(b),l=0>k?J(h+k,0):K(k,h),m=l-j,n=c.constructor,o=new n(m),p=0;l>j;){var q=c._getter(j);o._setter(p,q),++j,++p}return o}}),Object.defineProperty(j.prototype,"some",{value:function(a){if(this===D||null===this)throw TypeError();var b=Object(this),c=g(b.length);if(!d(a))throw TypeError();for(var e=arguments[1],f=0;c>f;f++)if(a.call(e,b._getter(f),f,b))return!0;return!1}}),Object.defineProperty(j.prototype,"sort",{value:function(a){if(this===D||null===this)throw TypeError();for(var b=Object(this),c=g(b.length),d=Array(c),e=0;c>e;++e)d[e]=b._getter(e);for(a?d.sort(a):d.sort(),e=0;c>e;++e)b._setter(e,d[e]);return b}}),Object.defineProperty(j.prototype,"subarray",{value:function(a,b){function c(a,b,c){return b>a?b:a>c?c:a}a=f(a),b=f(b),arguments.length<1&&(a=0),arguments.length<2&&(b=this.length),0>a&&(a=this.length+a),0>b&&(b=this.length+b),a=c(a,0,this.length),b=c(b,0,this.length);var d=b-a;return 0>d&&(d=0),new this.constructor(this.buffer,this.byteOffset+a*this.BYTES_PER_ELEMENT,d)}});var E=x(1,k,l),F=x(1,m,n),I=x(1,o,n),L=x(2,p,q),M=x(2,r,s),N=x(4,t,u),O=x(4,v,w),P=x(4,C,B),Q=x(8,A,z);a.Int8Array=a.Int8Array||E,a.Uint8Array=a.Uint8Array||F,a.Uint8ClampedArray=a.Uint8ClampedArray||I,a.Int16Array=a.Int16Array||L,a.Uint16Array=a.Uint16Array||M,a.Int32Array=a.Int32Array||N,a.Uint32Array=a.Uint32Array||O,a.Float32Array=a.Float32Array||P,a.Float64Array=a.Float64Array||Q}(),function(){function b(a,b){return d(a.get)?a.get(b):a[b]}function e(a,b,d){if(!(a instanceof ArrayBuffer||"ArrayBuffer"===c(a)))throw TypeError();if(b=g(b),b>a.byteLength)throw RangeError("byteOffset out of range");if(d=d===D?a.byteLength-b:g(d),b+d>a.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:a}),Object.defineProperty(this,"byteLength",{value:d}),Object.defineProperty(this,"byteOffset",{value:b})}function f(a){return function(c,d){if(c=g(c),c+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");c+=this.byteOffset;for(var e=new Uint8Array(this.buffer,c,a.BYTES_PER_ELEMENT),f=[],h=0;h<a.BYTES_PER_ELEMENT;h+=1)f.push(b(e,h));return Boolean(d)===Boolean(i)&&f.reverse(),b(new a(new Uint8Array(f).buffer),0)}}function h(a){return function(c,d,e){if(c=g(c),c+a.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var f,h,j=new a([d]),k=new Uint8Array(j.buffer),l=[];for(f=0;f<a.BYTES_PER_ELEMENT;f+=1)l.push(b(k,f));Boolean(e)===Boolean(i)&&l.reverse(),h=new Uint8Array(this.buffer,c,a.BYTES_PER_ELEMENT),h.set(l)}}var i=function(){var a=new Uint16Array([4660]),c=new Uint8Array(a.buffer);return 18===b(c,0)}();Object.defineProperty(e.prototype,"getUint8",{value:f(Uint8Array)}),Object.defineProperty(e.prototype,"getInt8",{value:f(Int8Array)}),Object.defineProperty(e.prototype,"getUint16",{value:f(Uint16Array)}),Object.defineProperty(e.prototype,"getInt16",{value:f(Int16Array)}),Object.defineProperty(e.prototype,"getUint32",{value:f(Uint32Array)}),Object.defineProperty(e.prototype,"getInt32",{value:f(Int32Array)}),Object.defineProperty(e.prototype,"getFloat32",{value:f(Float32Array)}),Object.defineProperty(e.prototype,"getFloat64",{value:f(Float64Array)}),Object.defineProperty(e.prototype,"setUint8",{value:h(Uint8Array)}),Object.defineProperty(e.prototype,"setInt8",{value:h(Int8Array)}),Object.defineProperty(e.prototype,"setUint16",{value:h(Uint16Array)}),Object.defineProperty(e.prototype,"setInt16",{value:h(Int16Array)}),Object.defineProperty(e.prototype,"setUint32",{value:h(Uint32Array)}),Object.defineProperty(e.prototype,"setInt32",{value:h(Int32Array)}),Object.defineProperty(e.prototype,"setFloat32",{value:h(Float32Array)}),Object.defineProperty(e.prototype,"setFloat64",{value:h(Float64Array)}),a.DataView=a.DataView||e}()}(this),function(a,b,c){b[a]=b[a]||c(),"undefined"!=typeof module&&module.exports?module.exports=b[a]:"function"==typeof define&&define.amd&&define(function(){return b[a]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function a(a,b){m.add(a,b),l||(l=o(m.drain))}function b(a){var b,c=typeof a;return null==a||"object"!=c&&"function"!=c||(b=a.then),"function"==typeof b?b:!1}function c(){for(var a=0;a<this.chain.length;a++)d(this,1===this.state?this.chain[a].success:this.chain[a].failure,this.chain[a]);this.chain.length=0}function d(a,c,d){var e,f;try{c===!1?d.reject(a.msg):(e=c===!0?a.msg:c.call(void 0,a.msg),e===d.promise?d.reject(TypeError("Promise-chain cycle")):(f=b(e))?f.call(e,d.resolve,d.reject):d.resolve(e))}catch(g){d.reject(g)}}function e(d){var g,i,j=this;if(!j.triggered){j.triggered=!0,j.def&&(j=j.def);try{(g=b(d))?(i=new h(j),g.call(d,function(){e.apply(i,arguments)},function(){f.apply(i,arguments)})):(j.msg=d,j.state=1,j.chain.length>0&&a(c,j))}catch(k){f.call(i||new h(j),k)}}}function f(b){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=b,d.state=2,d.chain.length>0&&a(c,d))}function g(a,b,c,d){for(var e=0;e<b.length;e++)!function(e){a.resolve(b[e]).then(function(a){c(e,a)},d)}(e)}function h(a){this.def=a,this.triggered=!1}function i(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function j(b){if("function"!=typeof b)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var d=new i(this);this.then=function(b,e){var f={success:"function"==typeof b?b:!0,failure:"function"==typeof e?e:!1};return f.promise=new this.constructor(function(a,b){if("function"!=typeof a||"function"!=typeof b)throw TypeError("Not a function");f.resolve=a,f.reject=b}),d.chain.push(f),0!==d.state&&a(c,d),f.promise},this["catch"]=function(a){return this.then(void 0,a)};try{b.call(void 0,function(a){e.call(d,a)},function(a){f.call(d,a)})}catch(g){f.call(d,g)}}var k,l,m,n=Object.prototype.toString,o="undefined"!=typeof setImmediate?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),k=function(a,b,c,d){return Object.defineProperty(a,b,{value:c,writable:!0,configurable:d!==!1})}}catch(p){k=function(a,b,c){return a[b]=c,a}}m=function(){function a(a,b){this.fn=a,this.self=b,this.next=void 0}var b,c,d;return{add:function(e,f){d=new a(e,f),c?c.next=d:b=d,c=d,d=void 0},drain:function(){var a=b;for(b=c=l=void 0;a;)a.fn.call(a.self),a=a.next}}}();var q=k({},"constructor",j,!1);return k(j,"prototype",q,!1),k(q,"__NPO__",0,!1),k(j,"resolve",function(a){var b=this;return a&&"object"==typeof a&&1===a.__NPO__?a:new b(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");b(a)})}),k(j,"reject",function(a){return new this(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");c(a)})}),k(j,"all",function(a){var b=this;return"[object Array]"!=n.call(a)?b.reject(TypeError("Not an array")):0===a.length?b.resolve([]):new b(function(c,d){if("function"!=typeof c||"function"!=typeof d)throw TypeError("Not a function");var e=a.length,f=Array(e),h=0;g(b,a,function(a,b){f[a]=b,++h===e&&c(f)},d)})}),k(j,"race",function(a){var b=this;return"[object Array]"!=n.call(a)?b.reject(TypeError("Not an array")):new b(function(c,d){if("function"!=typeof c||"function"!=typeof d)throw TypeError("Not a function");g(b,a,function(a,b){c(b)},d)})}),j});
var hwcrypto=function hwcrypto(){"use strict";var _debug=function(x){};_debug("hwcrypto.js activated");window.addEventListener=window.addEventListener||window.attachEvent;function hasPluginFor(mime){return navigator.mimeTypes&&mime in navigator.mimeTypes}function hasExtensionFor(cls){return typeof window[cls]==="function"}function _hex2array(str){if(typeof str=="string"){var len=Math.floor(str.length/2);var ret=new Uint8Array(len);for(var i=0;i<len;i++){ret[i]=parseInt(str.substr(i*2,2),16)}return ret}}function _array2hex(args){var ret="";for(var i=0;i<args.length;i++)ret+=(args[i]<16?"0":"")+args[i].toString(16);return ret.toLowerCase()}function _mimeid(mime){return"hwc"+mime.replace("/","").replace("-","")}function loadPluginFor(mime){var element=_mimeid(mime);if(document.getElementById(element)){_debug("Plugin element already loaded");return document.getElementById(element)}_debug("Loading plugin for "+mime+" into "+element);var objectTag='<object id="'+element+'" type="'+mime+'" style="width: 1px; height: 1px; position: absolute; visibility: hidden;"></object>';var div=document.createElement("div");div.setAttribute("id","pluginLocation"+element);document.body.appendChild(div);document.getElementById("pluginLocation"+element).innerHTML=objectTag;return document.getElementById(element)}var digidoc_mime="application/x-digidoc";var digidoc_chrome="TokenSigning";var USER_CANCEL="user_cancel";var NO_CERTIFICATES="no_certificates";var INVALID_ARGUMENT="invalid_argument";var DRIVER_ERROR="driver_error";var TECHNICAL_ERROR="technical_error";var NO_IMPLEMENTATION="no_implementation";var NOT_ALLOWED="not_allowed";function probe(){var msg="probe() detected ";if(hasExtensionFor(digidoc_chrome)){_debug(msg+digidoc_chrome)}if(hasPluginFor(digidoc_mime)){_debug(msg+digidoc_mime)}}window.addEventListener("load",function(event){probe()});function DigiDocPlugin(){this._name="NPAPI/BHO for application/x-digidoc";var p=loadPluginFor(digidoc_mime);var certificate_ids={};function code2str(err){_debug("Error: "+err+" with: "+p.errorMessage);switch(parseInt(err)){case 1:return USER_CANCEL;case 2:return NO_CERTIFICATES;case 15:return DRIVER_ERROR;case 17:return INVALID_ARGUMENT;case 19:return NOT_ALLOWED;default:_debug("Unknown error: "+err+" with: "+p.errorMessage);return TECHNICAL_ERROR}}function code2err(err){return new Error(code2str(err))}this.check=function(){return new Promise(function(resolve,reject){setTimeout(function(){resolve(typeof p.version!=="undefined")},0)})};this.getVersion=function(){return new Promise(function(resolve,reject){var v=p.version;resolve(v)})};this.getCertificate=function(options){if(options&&options.lang){p.pluginLanguage=options.lang}return new Promise(function(resolve,reject){try{var ver=p.version.split(".");var v=ver[0]>=3&&ver[1]>=13?p.getCertificate(options.filter):p.getCertificate();if(parseInt(p.errorCode)!==0){reject(code2err(p.errorCode))}else{certificate_ids[v.cert]=v.id;resolve({hex:v.cert})}}catch(ex){_debug(ex);reject(code2err(p.errorCode))}})};this.sign=function(cert,hash,options){return new Promise(function(resolve,reject){var cid=certificate_ids[cert.hex];if(cid){try{var language=options.lang||"en";var info=options.info||"";var ver=p.version.split(".");var v=ver[0]>=3&&ver[1]>=13?p.sign(cid,hash.hex,language,info):p.sign(cid,hash.hex,language);resolve({hex:v})}catch(ex){_debug(JSON.stringify(ex));reject(code2err(p.errorCode))}}else{_debug("invalid certificate: "+cert);reject(new Error(INVALID_ARGUMENT))}})}}function DigiDocExtension(){this._name="Chrome native messaging extension";var p=null;this.check=function(){return new Promise(function(resolve,reject){if(!hasExtensionFor(digidoc_chrome)){return resolve(false)}p=new window[digidoc_chrome];if(p){resolve(true)}else{resolve(false)}})};this.getVersion=function(){return p.getVersion()};this.getCertificate=function(options){return p.getCertificate(options)};this.sign=function(cert,hash,options){return p.sign(cert,hash,options)}}function NoBackend(){this._name="No implementation";this.check=function(){return new Promise(function(resolve,reject){resolve(true)})};this.getVersion=function(){return Promise.reject(new Error(NO_IMPLEMENTATION))};this.getCertificate=function(){return Promise.reject(new Error(NO_IMPLEMENTATION))};this.sign=function(){return Promise.reject(new Error(NO_IMPLEMENTATION))}}var _backend=null;var fields={};function _testAndUse(Backend){return new Promise(function(resolve,reject){var b=new Backend;b.check().then(function(isLoaded){if(isLoaded){_debug("Using backend: "+b._name);_backend=b;resolve(true)}else{_debug(b._name+" check() failed");resolve(false)}})})}function _autodetect(force){return new Promise(function(resolve,reject){_debug("Autodetecting best backend");if(typeof force==="undefined"){force=false}if(_backend!==null&&!force){return resolve(true)}function tryDigiDocPlugin(){_testAndUse(DigiDocPlugin).then(function(result){if(result){resolve(true)}else{resolve(_testAndUse(NoBackend))}})}if(navigator.userAgent.indexOf("MSIE")!=-1||navigator.userAgent.indexOf("Trident")!=-1){_debug("Assuming IE BHO, testing");return tryDigiDocPlugin()}if(hasExtensionFor(digidoc_chrome)){_testAndUse(DigiDocExtension).then(function(result){if(result){resolve(true)}else{tryDigiDocPlugin()}});return}if(hasPluginFor(digidoc_mime)){return tryDigiDocPlugin()}resolve(_testAndUse(NoBackend))})}fields.use=function(backend){return new Promise(function(resolve,reject){if(typeof backend==="undefined"||backend==="auto"){_autodetect().then(function(result){resolve(result)})}else{if(backend==="chrome"){resolve(_testAndUse(DigiDocExtension))}else if(backend==="npapi"){resolve(_testAndUse(DigiDocPlugin))}else{resolve(false)}}})};fields.debug=function(){return new Promise(function(resolve,reject){var hwversion="hwcrypto.js 0.0.13";_autodetect().then(function(result){_backend.getVersion().then(function(version){resolve(hwversion+" with "+_backend._name+" "+version)},function(error){resolve(hwversion+" with failing backend "+_backend._name)})})})};fields.getCertificate=function(options){if(typeof options!=="object"){_debug("getCertificate options parameter must be an object");return Promise.reject(new Error(INVALID_ARGUMENT))}if(options&&!options.lang){options.lang="en"}return _autodetect().then(function(result){if(location.protocol!=="https:"&&location.protocol!=="file:"){return Promise.reject(new Error(NOT_ALLOWED))}return _backend.getCertificate(options).then(function(certificate){if(certificate.hex&&!certificate.encoded)certificate.encoded=_hex2array(certificate.hex);return certificate})})};fields.sign=function(cert,hash,options){if(arguments.length<2)return Promise.reject(new Error(INVALID_ARGUMENT));if(options&&!options.lang){options.lang="en"}if(!hash.type||!hash.value&&!hash.hex)return Promise.reject(new Error(INVALID_ARGUMENT));if(hash.hex&&!hash.value){_debug("DEPRECATED: hash.hex as argument to sign() is deprecated, use hash.value instead");hash.value=_hex2array(hash.hex)}if(hash.value&&!hash.hex)hash.hex=_array2hex(hash.value);return _autodetect().then(function(result){if(location.protocol!=="https:"&&location.protocol!=="file:"){return Promise.reject(new Error(NOT_ALLOWED))}return _backend.sign(cert,hash,options).then(function(signature){if(signature.hex&&!signature.value)signature.value=_hex2array(signature.hex);return signature})})};fields.NO_IMPLEMENTATION=NO_IMPLEMENTATION;fields.USER_CANCEL=USER_CANCEL;fields.NOT_ALLOWED=NOT_ALLOWED;fields.NO_CERTIFICATES=NO_CERTIFICATES;fields.TECHNICAL_ERROR=TECHNICAL_ERROR;fields.INVALID_ARGUMENT=INVALID_ARGUMENT;return fields}();
(function(window){"use strict";function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;return function(){var SKIP_INDEXES=2;var templateArgs=arguments,code=templateArgs[0],message="["+(module?module+":":"")+code+"] ",template=templateArgs[1],paramPrefix,i;message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;if(shiftedIndex<templateArgs.length){return toDebugString(templateArgs[shiftedIndex])}return match});message+="\nhttp://errors.angularjs.org/1.5.8/"+(module?module+"/":"")+code;for(i=SKIP_INDEXES,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&"){message+=paramPrefix+"p"+(i-SKIP_INDEXES)+"="+encodeURIComponent(toDebugString(templateArgs[i]))}return new ErrorConstructor(message)}}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY="validity";var hasOwnProperty=Object.prototype.hasOwnProperty;var lowercase=function(string){return isString(string)?string.toLowerCase():string};var uppercase=function(string){return isString(string)?string.toUpperCase():string};var manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32)}):s};var manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&~32)}):s};if("i"!=="I".toLowerCase()){lowercase=manualLowercase;uppercase=manualUppercase}var msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=window.document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj))return false;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return true;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&(length-1 in obj||obj instanceof Array)||typeof obj.item=="function")}function forEach(obj,iterator,context){var key,length;if(obj){if(isFunction(obj)){for(key in obj){if(key!="prototype"&&key!="length"&&key!="name"&&(!obj.hasOwnProperty||obj.hasOwnProperty(key))){iterator.call(context,obj[key],key,obj)}}}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=="object";for(key=0,length=obj.length;key<length;key++){if(isPrimitive||key in obj){iterator.call(context,obj[key],key,obj)}}}else if(obj.forEach&&obj.forEach!==forEach){obj.forEach(iterator,context,obj)}else if(isBlankObject(obj)){for(key in obj){iterator.call(context,obj[key],key,obj)}}else if(typeof obj.hasOwnProperty==="function"){for(key in obj){if(obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj)}}}else{for(key in obj){if(hasOwnProperty.call(obj,key)){iterator.call(context,obj[key],key,obj)}}}}return obj}function forEachSorted(obj,iterator,context){var keys=Object.keys(obj).sort();for(var i=0;i<keys.length;i++){iterator.call(context,obj[keys[i]],keys[i])}return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){if(h){obj.$$hashKey=h}else{delete obj.$$hashKey}}function baseExtend(dst,objs,deep){var h=dst.$$hashKey;for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(!isObject(obj)&&!isFunction(obj))continue;var keys=Object.keys(obj);for(var j=0,jj=keys.length;j<jj;j++){var key=keys[j];var src=obj[key];if(deep&&isObject(src)){if(isDate(src)){dst[key]=new Date(src.valueOf())}else if(isRegExp(src)){dst[key]=new RegExp(src)}else if(src.nodeName){dst[key]=src.cloneNode(true)}else if(isElement(src)){dst[key]=src.clone()}else{if(!isObject(dst[key]))dst[key]=isArray(src)?[]:{};baseExtend(dst[key],[src],true)}}else{dst[key]=src}}}setHashKey(dst,h);return dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),false)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),true)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}noop.$inject=[];function identity($){return $}identity.$inject=[];function valueFn(value){return function valueRef(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return typeof value==="undefined"}function isDefined(value){return typeof value!=="undefined"}function isObject(value){return value!==null&&typeof value==="object"}function isBlankObject(value){return value!==null&&typeof value==="object"&&!getPrototypeOf(value)}function isString(value){return typeof value==="string"}function isNumber(value){return typeof value==="number"}function isDate(value){return toString.call(value)==="[object Date]"}var isArray=Array.isArray;function isFunction(value){return typeof value==="function"}function isRegExp(value){return toString.call(value)==="[object RegExp]"}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return toString.call(obj)==="[object File]"}function isFormData(obj){return toString.call(obj)==="[object FormData]"}function isBlob(obj){return toString.call(obj)==="[object Blob]"}function isBoolean(value){return typeof value==="boolean"}function isPromiseLike(obj){return obj&&isFunction(obj.then)}var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return toString.call(obj)==="[object ArrayBuffer]"}var trim=function(value){return isString(value)?value.trim():value};var escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function isElement(node){return!!(node&&(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++){obj[items[i]]=true}return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!=-1}function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0){array.splice(index,1)}return index}function copy(source,destination){var stackSource=[];var stackDest=[];if(destination){if(isTypedArray(destination)||isArrayBuffer(destination)){throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(source===destination){throw ngMinErr("cpi","Can't copy! Source and destination are identical.")}if(isArray(destination)){destination.length=0}else{forEach(destination,function(value,key){if(key!=="$$hashKey"){delete destination[key]}})}stackSource.push(source);stackDest.push(destination);return copyRecurse(source,destination)}return copyElement(source);function copyRecurse(source,destination){var h=destination.$$hashKey;var key;if(isArray(source)){for(var i=0,ii=source.length;i<ii;i++){destination.push(copyElement(source[i]))}}else if(isBlankObject(source)){for(key in source){destination[key]=copyElement(source[key])}}else if(source&&typeof source.hasOwnProperty==="function"){for(key in source){if(source.hasOwnProperty(key)){destination[key]=copyElement(source[key])}}}else{for(key in source){if(hasOwnProperty.call(source,key)){destination[key]=copyElement(source[key])}}}setHashKey(destination,h);return destination}function copyElement(source){if(!isObject(source)){return source}var index=stackSource.indexOf(source);if(index!==-1){return stackDest[index]}if(isWindow(source)||isScope(source)){throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var needsRecurse=false;var destination=copyType(source);if(destination===undefined){destination=isArray(source)?[]:Object.create(getPrototypeOf(source));needsRecurse=true}stackSource.push(source);stackDest.push(destination);return needsRecurse?copyRecurse(source,destination):destination}function copyType(source){switch(toString.call(source)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new source.constructor(copyElement(source.buffer),source.byteOffset,source.length);case"[object ArrayBuffer]":if(!source.slice){var copied=new ArrayBuffer(source.byteLength);new Uint8Array(copied).set(new Uint8Array(source));return copied}return source.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new source.constructor(source.valueOf());case"[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]);re.lastIndex=source.lastIndex;return re;case"[object Blob]":return new source.constructor([source],{type:source.type})}if(isFunction(source.cloneNode)){return source.cloneNode(true)}}}function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1==t2&&t1=="object"){if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)==o2.length){for(key=0;key<length;key++){if(!equals(o1[key],o2[key]))return false}return true}}else if(isDate(o1)){if(!isDate(o2))return false;return equals(o1.getTime(),o2.getTime())}else if(isRegExp(o1)){if(!isRegExp(o2))return false;return o1.toString()==o2.toString()}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet=createMap();for(key in o1){if(key.charAt(0)==="$"||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true}for(key in o2){if(!(key in keySet)&&key.charAt(0)!=="$"&&isDefined(o2[key])&&!isFunction(o2[key]))return false}return true}}return false}var csp=function(){if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else{csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:false}}}return csp.rules;function noUnsafeEval(){try{new Function("");return false}catch(e){return true}}};var jq=function(){if(isDefined(jq.name_))return jq.name_;var el;var i,ii=ngAttrPrefixes.length,prefix,name;for(i=0;i<ii;++i){prefix=ngAttrPrefixes[i];if(el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}}return jq.name_=name};function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp)){return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}else{return fn}}function toJsonReplacer(key,value){var val=value;if(typeof key==="string"&&key.charAt(0)==="$"&&key.charAt(1)==="$"){val=undefined}else if(isWindow(value)){val="$WINDOW"}else if(value&&window.document===value){val="$DOCUMENT"}else if(isScope(value)){val="$SCOPE"}return val}function toJson(obj,pretty){if(isUndefined(obj))return undefined;if(!isNumber(pretty)){pretty=pretty?2:null}return JSON.stringify(obj,toJsonReplacer,pretty)}function fromJson(json){return isString(json)?JSON.parse(json):json}var ALL_COLONS=/:/g;function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;if(keyValue){key=keyValue=keyValue.replace(/\+/g,"%20");splitPoint=keyValue.indexOf("=");if(splitPoint!==-1){key=keyValue.substring(0,splitPoint);val=keyValue.substring(splitPoint+1)}key=tryDecodeURIComponent(key);if(isDefined(key)){val=isDefined(val)?tryDecodeURIComponent(val):true;if(!hasOwnProperty.call(obj,key)){obj[key]=val}else if(isArray(obj[key])){obj[key].push(val)}else{obj[key]=[obj[key],val]}}}});return obj}function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){if(isArray(value)){forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+(arrayValue===true?"":"="+encodeUriQuery(arrayValue,true)))})}else{parts.push(encodeUriQuery(key,true)+(value===true?"":"="+encodeUriQuery(value,true)))}});return parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}var ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.getAttribute(attr))){return attr}}return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name)}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";var candidate;if(!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))){appElement=candidate;module=candidate.getAttribute(name)}});if(appElement){config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[];modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]);if(config.debugInfoEnabled){modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(true)}])}modules.unshift("ng");var injector=createInjector(modules,config.strictDi);injector.invoke(["$rootScope","$rootElement","$compile","$injector",function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector);compile(element)(scope)})}]);return injector};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")}if(window&&!NG_DEFER_BOOTSTRAP.test(window.name)){return doBootstrap()}window.name=window.name.replace(NG_DEFER_BOOTSTRAP,"");angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)});return doBootstrap()};if(isFunction(angular.resumeDeferredBootstrap)){angular.resumeDeferredBootstrap()}}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name;window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector){throw ngMinErr("test","no injector found for element argument to getTestability")}return injector.get("$$testability")}var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||"_";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var bindJQueryFired=false;function bindJQuery(){var originalCleanData;if(bindJQueryFired){return}var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:!jqName?undefined:window[jqName];if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData});originalCleanData=jQuery.cleanData;jQuery.cleanData=function(elems){var events;for(var i=0,elem;(elem=elems[i])!=null;i++){events=jQuery._data(elem,"events");if(events&&events.$destroy){jQuery(elem).triggerHandler("$destroy")}}originalCleanData(elems)}}else{jqLite=JQLite}angular.element=jqLite;bindJQueryFired=true}function assertArg(arg,name,reason){if(!arg){throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required")}return arg}function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg)){arg=arg[arg.length-1]}assertArg(isFunction(arg),name,"not a function, got "+(arg&&typeof arg==="object"?arg.constructor.name||"Object":typeof arg));return arg}function assertNotHasOwnProperty(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}}function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split(".");var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj){obj=(lastInstance=obj)[key]}}if(!bindFnToScope&&isFunction(obj)){return bind(lastInstance,obj)}return obj}function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes;for(var i=1;node!==endNode&&(node=node.nextSibling);i++){if(blockNodes||nodes[i]!==node){if(!blockNodes){blockNodes=jqLite(slice.call(nodes,0,i))}blockNodes.push(node)}}return blockNodes||nodes}function createMap(){return Object.create(null)}var NODE_TYPE_ELEMENT=1;var NODE_TYPE_ATTRIBUTE=2;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr("$injector");var ngMinErr=minErr("ng");function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var angular=ensure(window,"angular",Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,"module",function(){var modules={};return function module(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}};assertNotHasOwnProperty(name,"module");if(requires&&modules.hasOwnProperty(name)){modules[name]=null}return ensure(modules,name,function(){if(!requires){throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name)}var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater("$injector","invoke","push",configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){runBlocks.push(block);return this}};if(configFn){config(configFn)}return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||"push"]([provider,method,arguments]);return moduleInstance}}function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){if(factoryFunction&&isFunction(factoryFunction))factoryFunction.$$moduleName=name;invokeQueue.push([provider,method,arguments]);return moduleInstance}}})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj){if(typeof obj==="function"){return obj.toString().replace(/ \{[\s\S]*$/,"")}else if(isUndefined(obj)){return"undefined"}else if(typeof obj!=="string"){return serializeObject(obj)}return obj}var version={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{$$counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo});angularModule=setupModuleLoader(window);angularModule("ng",["ngLocale"],["$provide",function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider})}])}JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,false)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,false)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};function jqNextId(){return++jqId}var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;var MOZ_HACK_REGEXP=/^moz([A-Z])/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr("jqLite");function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}var SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:-]+)/;var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339]){return true}return false}function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++){jqLiteRemoveData(nodes[i])}}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html)){nodes.push(context.createTextNode(html))}else{tmp=fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];while(i--){tmp=tmp.lastChild}nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node)});return fragment}function jqLiteParseHTML(html,context){context=context||window.document;var parsed;if(parsed=SINGLE_TAG_REGEXP.exec(html)){return[context.createElement(parsed[1])]}if(parsed=jqLiteBuildFragment(html,context)){return parsed.childNodes}return[]}function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;if(parent){parent.replaceChild(wrapper,node)}wrapper.appendChild(node)}var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};function JQLite(element){if(element instanceof JQLite){return element}var argIsString;if(isString(element)){element=trim(element);argIsString=true}if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!="<"){throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new JQLite(element)}if(argIsString){jqLiteAddNodes(this,jqLiteParseHTML(element))}else{jqLiteAddNodes(this,element)}}function jqLiteClone(element){return element.cloneNode(true)}function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants)jqLiteRemoveData(element);if(element.querySelectorAll){var descendants=element.querySelectorAll("*");for(var i=0,l=descendants.length;i<l;i++){jqLiteRemoveData(descendants[i])}}}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type){for(type in events){if(type!=="$destroy"){removeEventListenerFn(element,type,handle)}delete events[type]}}else{var removeHandler=function(type){var listenerFns=events[type];if(isDefined(fn)){arrayRemove(listenerFns||[],fn)}if(!(isDefined(fn)&&listenerFns&&listenerFns.length>0)){removeEventListenerFn(element,type,handle);delete events[type]}};forEach(type.split(" "),function(type){removeHandler(type);if(MOUSE_EVENT_MAP[type]){removeHandler(MOUSE_EVENT_MAP[type])}})}}function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name];return}if(expandoStore.handle){if(expandoStore.events.$destroy){expandoStore.handle({},"$destroy")}jqLiteOff(element)}delete jqCache[expandoId];element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}}return expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter){data[key]=value}else{if(massGetter){return data}else{if(isSimpleGetter){return data&&data[key]}else{extend(data,key)}}}}}function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);if(existingClasses.indexOf(" "+cssClass+" ")===-1){existingClasses+=cssClass+" "}});element.setAttribute("class",trim(existingClasses));
}}function jqLiteAddNodes(root,elements){if(elements){if(elements.nodeType){root[root.length++]=elements}else{var length=elements.length;if(typeof length==="number"&&elements.window!==elements){if(length){for(var i=0;i<length;i++){root[root.length++]=elements[i]}}}else{root[root.length++]=elements}}}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){if(element.nodeType==NODE_TYPE_DOCUMENT){element=element.documentElement}var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++){if(isDefined(value=jqLite.data(element,names[i])))return value}element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild){element.removeChild(element.firstChild)}}function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);var parent=element.parentNode;if(parent)parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==="complete"){win.setTimeout(action)}else{jqLite(win).on("load",action)}}var JQLitePrototype=JQLite.prototype={ready:function(fn){var fired=false;function trigger(){if(fired)return;fired=true;fn()}if(window.document.readyState==="complete"){window.setTimeout(trigger)}else{this.on("DOMContentLoaded",trigger);JQLite(window).on("load",trigger)}},toString:function(){var value=[];forEach(this,function(e){value.push(""+e)});return"["+value.join(", ")+"]"},eq:function(index){return index>=0?jqLite(this[index]):jqLite(this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=true});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:jqLiteCleanData},function(fn,name){JQLite[name]=fn});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){name=camelCase(name);if(isDefined(value)){element.style[name]=value}else{return element.style[name]}},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_TEXT||nodeType===NODE_TYPE_ATTRIBUTE||nodeType===NODE_TYPE_COMMENT){return}var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(isDefined(value)){if(!!value){element[name]=true;element.setAttribute(name,lowercasedName)}else{element[name]=false;element.removeAttribute(lowercasedName)}}else{return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined}}else if(isDefined(value)){element.setAttribute(name,value)}else if(element.getAttribute){var ret=element.getAttribute(name,2);return ret===null?undefined:ret}},prop:function(element,name,value){if(isDefined(value)){element[name]=value}else{return element[name]}},text:function(){getText.$dv="";return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==="select"){var result=[];forEach(element.options,function(option){if(option.selected){result.push(option.value||option.text)}});return result.length===0?null:result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value)){return element.innerHTML}jqLiteDealoc(element,true);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(fn.length==2&&(fn!==jqLiteHasClass&&fn!==jqLiteController)?arg1:arg2)){if(isObject(arg1)){for(i=0;i<nodeCount;i++){if(fn===jqLiteData){fn(this[i],arg1)}else{for(key in arg1){fn(this[i],key,arg1[key])}}}return this}else{var value=fn.$dv;var jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}}else{for(i=0;i<nodeCount;i++){fn(this[i],arg1,arg2)}return this}}});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation){event.stopPropagation()}if(originalStopImmediatePropagation){originalStopImmediatePropagation.call(event)}}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;if(eventFnsLength>1){eventFns=shallowCopy(eventFns)}for(var i=0;i<eventFnsLength;i++){if(!event.isImmediatePropagationStopped()){handlerWrapper(element,event,eventFns[i])}}};eventHandler.elem=element;return eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;if(!related||related!==target&&!jqLiteContains.call(target,related)){handler.call(target,event)}}forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!jqLiteAcceptsData(element)){return}var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle){handle=expandoStore.handle=createEventHandler(element,events)}var types=type.indexOf(" ")>=0?type.split(" "):[type];var i=types.length;var addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];if(!eventFns){eventFns=events[type]=[];eventFns.specialHandlerWrapper=specialHandlerWrapper;if(type!=="$destroy"&&!noEventListener){addEventListenerFn(element,type,handle)}}eventFns.push(fn)};while(i--){type=types[i];if(MOUSE_EVENT_MAP[type]){addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper);addHandler(type,undefined,true)}else{addHandler(type)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn)});element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){if(index){parent.insertBefore(node,index.nextSibling)}else{parent.replaceChild(node,element)}index=node})},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT){children.push(element)}});return children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector){forEach(selector.split(" "),function(className){var classCondition=condition;if(isUndefined(classCondition)){classCondition=!jqLiteHasClass(element,className)}(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})}},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){if(element.getElementsByTagName){return element.getElementsByTagName(selector)}else{return[]}},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:noop,type:eventName,target:element};if(event.type){dummyEvent=extend(dummyEvent,event)}eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped()){fn.apply(element,handlerArgs)}})}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++){if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value)){value=jqLite(value)}}else{jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3))}}return isDefined(value)?value:this};JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off});function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes)},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes)},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==="function"){key=obj.$$hashKey()}return key}var objType=typeof obj;if(objType=="function"||objType=="object"&&obj!==null){key=obj.$$hashKey=objType+":"+(nextUidFn||nextUid)()}else{key=objType+":"+obj}return key}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];delete this[key];return value}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap}]}];var ARROW_ARG=/^([^\(]+?)=>/;var FN_ARGS=/^[^\(]*\(\s*([^\)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var $injectorMinErr=minErr("$injector");function stringifyFn(fn){return Function.prototype.toString.call(fn)+" "}function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,""),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args}function anonFn(fn){var args=extractArgs(fn);if(args){return"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function annotate(fn,strictDi,name){var $inject,argDecl,last;if(typeof fn==="function"){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name){name=fn.name||anonFn(fn)}throw $injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name)}argDecl=extractArgs(fn);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],"fn");$inject=fn.slice(0,last)}else{assertArgFn(fn,"fn",true)}return $inject}function createInjector(modulesToLoad,strictDi){strictDi=strictDi===true;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],true),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller)){path.push(caller)}throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)};var runBlocks=loadModules(modulesToLoad);instanceInjector=protoInstanceInjector.get("$injector");instanceInjector.strictDi=strictDi;forEach(runBlocks,function(fn){if(fn)instanceInjector.invoke(fn)});return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key)){forEach(key,reverseParams(delegate))}else{return delegate(key,value)}}}function provider(name,provider_){assertNotHasOwnProperty(name,"service");if(isFunction(provider_)||isArray(provider_)){provider_=providerInjector.instantiate(provider_)}if(!provider_.$get){throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name)}return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result)){throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name)}return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),false)}function constant(name,value){assertNotHasOwnProperty(name,"constant");providerCache[name]=value;instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.put(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}try{if(isString(module)){moduleFn=angularModule(module);runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks)}else if(isFunction(module)){runBlocks.push(providerInjector.invoke(module))}else if(isArray(module)){runBlocks.push(providerInjector.invoke(module))}else{assertArgFn(module,"module")}}catch(e){if(isArray(module)){module=module[module.length-1]}if(e.message&&e.stack&&e.stack.indexOf(e.message)==-1){e=e.message+"\n"+e.stack}throw $injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}});return runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING){throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "))}return cache[serviceName]}else{try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;return cache[serviceName]=factory(serviceName,caller)}catch(err){if(cache[serviceName]===INSTANTIATING){delete cache[serviceName]}throw err}finally{path.shift()}}}function injectionArgs(fn,locals,serviceName){var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(var i=0,length=$inject.length;i<length;i++){var key=$inject[i];if(typeof key!=="string"){throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key)}args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie<=11){return false}return typeof func==="function"&&/^(?:class\b|constructor\()/.test(stringifyFn(func))}function invoke(fn,self,locals,serviceName){if(typeof locals==="string"){serviceName=locals;locals=null}var args=injectionArgs(fn,locals,serviceName);if(isArray(fn)){fn=fn[fn.length-1]}if(!isClass(fn)){return fn.apply(self,args)}else{args.unshift(null);return new(Function.prototype.bind.apply(fn,args))}}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type;var args=injectionArgs(Type,locals,serviceName);args.unshift(null);return new(Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}}createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false};this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)==="a"){result=element;return true}});return result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset)){offset=offset()}else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=="fixed"){offset=0}else{offset=elem.getBoundingClientRect().bottom}}else if(!isNumber(offset)){offset=0}return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else{$window.scrollTo(0,0)}}function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;if(!hash)scrollTo(null);else if(elm=document.getElementById(hash))scrollTo(elm);else if(elm=getFirstAnchor(document.getElementsByName(hash)))scrollTo(elm);else if(hash==="top")scrollTo(null)}if(autoScrollingEnabled){$rootScope.$watch(function autoScrollWatch(){return $location.hash()},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal==="")return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})})}return scroll}]}var $animateMinErr=minErr("$animate");var ELEMENT_NODE=1;var NG_ANIMATE_CLASSNAME="ng-animate";function mergeClasses(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(" ");if(isArray(b))b=b.join(" ");return a+" "+b}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE){return elm}}}function splitClasses(classes){if(isString(classes)){classes=classes.split(" ")}var obj=createMap();forEach(classes,function(klass){if(klass.length){obj[klass]=true}});return obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}var $$CoreAnimateJsProvider=function(){this.$get=noop};var $$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap;var postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){domOperation&&domOperation();options=options||{};options.from&&element.css(options.from);options.to&&element.css(options.to);if(options.addClass||options.removeClass){addRemoveClassesPostDigest(element,options.addClass,options.removeClass)}var runner=new $$AnimateRunner;runner.complete();return runner}};function updateData(data,classes,value){var changed=false;if(classes){classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[];forEach(classes,function(className){if(className){changed=true;data[className]=value}})}return changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class"));var toAdd="";var toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];if(status!==hasClass){if(status){toAdd+=(toAdd.length?" ":"")+className}else{toRemove+=(toRemove.length?" ":"")+className}}});forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd);toRemove&&jqLiteRemoveClass(elm,toRemove)});postDigestQueue.remove(element)}});postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{};var classesAdded=updateData(data,add,true);var classesRemoved=updateData(data,remove,false);if(classesAdded||classesRemoved){postDigestQueue.put(element,data);postDigestElements.push(element);if(postDigestElements.length===1){$rootScope.$$postDigest(handleCSSClassChanges)}}}}]};var $AnimateProvider=["$provide",function($provide){var provider=this;this.$$registeredAnimations=Object.create(null);this.register=function(name,factory){if(name&&name.charAt(0)!=="."){throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name)}var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key;$provide.factory(key,factory)};this.classNameFilter=function(expression){if(arguments.length===1){this.$$classNameFilter=expression instanceof RegExp?expression:null;if(this.$$classNameFilter){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString())){throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}}}return this.$$classNameFilter};this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);if(afterNode&&!afterNode.parentNode&&!afterNode.previousElementSibling){afterElement=null}}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addclass,className);return $$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){options=prepareAnimateOptions(options);options.removeClass=mergeClasses(options.removeClass,className);return $$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addClass,add);options.removeClass=mergeClasses(options.removeClass,remove);return $$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){options=prepareAnimateOptions(options);options.from=options.from?extend(options.from,from):from;options.to=options.to?extend(options.to,to):to;className=className||"ng-inline-animate";options.tempClasses=mergeClasses(options.tempClasses,className);return $$animateQueue.push(element,"animate",options)}}}]}];var $$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){var waitQueue=[];function waitForTick(fn){waitQueue.push(fn);if(waitQueue.length>1)return;$$rAF(function(){for(var i=0;i<waitQueue.length;i++){waitQueue[i]()}waitQueue=[]})}return function(){var passed=false;waitForTick(function(){passed=true});return function(callback){passed?callback():waitForTick(callback)}}}]};var $$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function($q,$sniffer,$$animateAsyncRun,$document,$timeout){var INITIAL_STATE=0;var DONE_PENDING_STATE=1;var DONE_COMPLETE_STATE=2;AnimateRunner.chain=function(chain,callback){var index=0;next();function next(){if(index===chain.length){callback(true);return}chain[index](function(response){if(response===false){callback(false);return}index++;next()})}};AnimateRunner.all=function(runners,callback){var count=0;var status=true;forEach(runners,function(runner){runner.done(onProgress)});function onProgress(response){status=status&&response;if(++count===runners.length){callback(status)}}};function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun();var timeoutTick=function(fn){$timeout(fn,0,false)};this._doneCallbacks=[];this._tick=function(fn){var doc=$document[0];if(doc&&doc.hidden){timeoutTick(fn)}else{rafTick(fn)}};this._state=0}AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){if(this._state===DONE_COMPLETE_STATE){fn()}else{this._doneCallbacks.push(fn)}},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===false?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},catch:function(handler){return this.getPromise()["catch"](handler)},finally:function(handler){return this.getPromise()["finally"](handler)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(response){var self=this;if(self._state===INITIAL_STATE){self._state=DONE_PENDING_STATE;self._tick(function(){self._resolve(response)})}},_resolve:function(response){if(this._state!==DONE_COMPLETE_STATE){forEach(this._doneCallbacks,function(fn){fn(response)});this._doneCallbacks.length=0;this._state=DONE_COMPLETE_STATE}}};return AnimateRunner}]};var $CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared){options=copy(options)}if(options.cleanupStyles){options.from=options.to=null}if(options.from){element.css(options.from);options.from=null}var closed,runner=new $$AnimateRunner;return{start:run,end:run};function run(){$$rAF(function(){applyAnimationContents();if(!closed){runner.complete()}closed=true});return runner}function applyAnimationContents(){if(options.addClass){element.addClass(options.addClass);options.addClass=null}if(options.removeClass){element.removeClass(options.removeClass);options.removeClass=null}if(options.to){element.css(options.to);options.to=null}}}}]};function Browser(window,document,$log,$sniffer){var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=false;var outstandingRequestCount=0;var outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest;self.$$incOutstandingRequestCount=function(){outstandingRequestCount++};function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{outstandingRequestCount--;if(outstandingRequestCount===0){while(outstandingRequestCallbacks.length){try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}}}function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}self.notifyWhenNoOutstandingRequests=function(callback){if(outstandingRequestCount===0){callback()}else{outstandingRequestCallbacks.push(callback)}};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=!$sniffer.history?noop:function getCurrentState(){try{return history.state}catch(e){}};cacheState();lastHistoryState=cachedState;self.url=function(url,replace,state){if(isUndefined(state)){state=null}if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState)){return self}var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?"replaceState":"pushState"](state,"",url);cacheState();lastHistoryState=cachedState}else{if(!sameBase){pendingLocation=url}if(replace){location.replace(url)}else if(!sameBase){location.href=url}else{location.hash=getHash(url)}if(location.href!==url){pendingLocation=url}}if(pendingLocation){pendingLocation=url}return self}else{return pendingLocation||location.href.replace(/%27/g,"'")}};self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){pendingLocation=null;cacheState();fireUrlChange()}var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState)){cachedState=lastCachedState}lastCachedState=cachedState}function fireUrlChange(){if(lastBrowserUrl===self.url()&&lastHistoryState===cachedState){return}lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)})}self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on("popstate",cacheStateAndFireUrlChange);jqLite(window).on("hashchange",cacheStateAndFireUrlChange);urlChangeInit=true;
}urlChangeListeners.push(callback);return callback};self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)};self.$$checkUrlChange=fireUrlChange;self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};self.defer=function(fn,delay){var timeoutId;outstandingRequestCount++;timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];completeOutstandingRequest(fn)},delay||0);pendingDeferIds[timeoutId]=true;return timeoutId};self.defer.cancel=function(deferId){if(pendingDeferIds[deferId]){delete pendingDeferIds[deferId];clearTimeout(deferId);completeOutstandingRequest(noop);return true}return false}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches){throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId)}var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(isUndefined(value))return;if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!(key in data))size++;data[key]=value;if(size>capacity){this.remove(staleEnd.key)}return value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry==freshEnd)freshEnd=lruEntry.p;if(lruEntry==staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key]}if(!(key in data))return;delete data[key];size--},removeAll:function(){data=createMap();size=0;lruHash=createMap();freshEnd=staleEnd=null},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}};function refresh(entry){if(entry!=freshEnd){if(!staleEnd){staleEnd=entry}else if(staleEnd==entry){staleEnd=entry.n}link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null}}function link(nextEntry,prevEntry){if(nextEntry!=prevEntry){if(nextEntry)nextEntry.p=prevEntry;if(prevEntry)prevEntry.n=nextEntry}}}cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()});return info};cacheFactory.get=function(cacheId){return caches[cacheId]};return cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}var $compileMinErr=minErr("$compile");function UNINITIALIZED_VALUE(){}var _UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;var bindingCache=createMap();function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/;var bindings=createMap();forEach(scope,function(definition,scopeName){if(definition in bindingCache){bindings[scopeName]=bindingCache[definition];return}var match=definition.match(LOCAL_REGEXP);if(!match){throw $compileMinErr("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition")}bindings[scopeName]={mode:match[1][0],collection:match[2]==="*",optional:match[3]==="?",attrName:match[4]||scopeName};if(match[4]){bindingCache[definition]=bindings[scopeName]}});return bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)){if(directive.bindToController===true){bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,true);bindings.isolateScope={}}else{bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,false)}}if(isObject(directive.bindToController)){bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,true)}if(isObject(bindings.bindToController)){var controller=directive.controller;var controllerAs=directive.controllerAs;if(!controller){throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName)}else if(!identifierForController(controller,controllerAs)){throw $compileMinErr("noident","Cannot bind to controller without identifier for directive '{0}'.",directiveName)}}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter)){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name)}if(name!==name.trim()){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;if(!isArray(require)&&isObject(require)){forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP);var name=value.substring(match[0].length);if(!name)require[key]=match[0]+key})}return require}this.directive=function registerDirective(name,directiveFactory){assertNotHasOwnProperty(name,"directive");if(isString(name)){assertValidDirectiveName(name);assertArg(directiveFactory,"directiveFactory");if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive)){directive={compile:valueFn(directive)}}else if(!directive.compile&&directive.link){directive.compile=valueFn(directive.link)}directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=getDirectiveRequire(directive);directive.restrict=directive.restrict||"EA";directive.$$moduleName=directiveFactory.$$moduleName;directives.push(directive)}catch(e){$exceptionHandler(e)}});return directives}])}hasDirectives[name].push(directiveFactory)}else{forEach(name,reverseParams(registerDirective))}return this};this.component=function registerComponent(name,options){var controller=options.controller||function(){};function factory($injector){function makeInjectable(fn){if(isFunction(fn)||isArray(fn)){return function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})}}else{return fn}}var template=!options.template&&!options.templateUrl?"":options.template;var ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};forEach(options,function(val,key){if(key.charAt(0)==="$")ddo[key]=val});return ddo}forEach(options,function(val,key){if(key.charAt(0)==="$"){factory[key]=val;if(isFunction(controller))controller[key]=val}});factory.$inject=["$injector"];return this.directive(name,factory)};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.imgSrcSanitizationWhitelist()}};var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this}return debugInfoEnabled};var TTL=10;this.onChangesTtl=function(value){if(arguments.length){TTL=value;return this}return TTL};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate,$$sanitizeUri){var SIMPLE_ATTR_NAME=/^\w/;var specialAttrHolder=window.document.createElement("div");var onChangesTtl=TTL;var onChangesQueue;function flushOnChangesQueue(){try{if(!--onChangesTtl){onChangesQueue=undefined;throw $compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL)}$rootScope.$apply(function(){var errors=[];for(var i=0,ii=onChangesQueue.length;i<ii;++i){try{onChangesQueue[i]()}catch(e){errors.push(e)}}onChangesQueue=undefined;if(errors.length){throw errors}})}finally{onChangesTtl++}}function Attributes(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key]}}else{this.$attr={}}this.$$element=element}Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&classVal.length>0){$animate.addClass(this.$$element,classVal)}},$removeClass:function(classVal){if(classVal&&classVal.length>0){$animate.removeClass(this.$$element,classVal)}},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length){$animate.addClass(this.$$element,toAdd)}var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length){$animate.removeClass(this.$$element,toRemove)}},$set:function(key,value,writeAttr,attrName){var node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey}this[key]=value;if(attrName){this.$attr[key]=attrName}else{attrName=this.$attr[key];if(!attrName){this.$attr[key]=attrName=snake_case(key,"-")}}nodeName=nodeName_(this.$$element);if(nodeName==="a"&&(key==="href"||key==="xlinkHref")||nodeName==="img"&&key==="src"){this[key]=value=$$sanitizeUri(value,key==="src")}else if(nodeName==="img"&&key==="srcset"&&isDefined(value)){var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$$sanitizeUri(trim(rawUris[innerIdx]),true);result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),true);if(lastTuple.length===2){result+=" "+trim(lastTuple[1])}this[key]=value=result}if(writeAttr!==false){if(value===null||isUndefined(value)){this.$$element.removeAttr(attrName)}else{if(SIMPLE_ATTR_NAME.test(attrName)){this.$$element.attr(attrName,value)}else{setSpecialAttr(this.$$element[0],attrName,value)}}}var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)&&!isUndefined(attrs[key])){fn(attrs[key])}});return function(){arrayRemove(listeners,fn)}}};function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes;var attribute=attributes[0];attributes.removeNamedItem(attribute.name);attribute.value=value;element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=startSymbol=="{{"&&endSymbol=="}}"?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;var MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data("$binding")||[];if(isArray(binding)){bindings=bindings.concat(binding)}else{bindings.push(binding)}$element.data("$binding",bindings)}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,"ng-binding")}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop;compile.$$createComment=function(directiveName,comment){var content="";if(debugInfoEnabled){content=" "+(directiveName||"")+": ";if(comment)content+=comment+" "}return window.document.createComment(content)};return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){if(!($compileNodes instanceof jqLite)){$compileNodes=jqLite($compileNodes)}var NOT_EMPTY=/\S+/;for(var i=0,len=$compileNodes.length;i<len;i++){var domNode=$compileNodes[i];if(domNode.nodeType===NODE_TYPE_TEXT&&domNode.nodeValue.match(NOT_EMPTY)){jqLiteWrapNode(domNode,$compileNodes[i]=window.document.createElement("span"))}}var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){assertArg(scope,"scope");if(previousCompileContext&&previousCompileContext.needsNewScope){scope=scope.$parent.$new()}options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude){parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude}if(!namespace){namespace=detectNamespaceForChildElements(futureParentElement)}var $linkNode;if(namespace!=="html"){$linkNode=jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html()))}else if(cloneConnectFn){$linkNode=JQLitePrototype.clone.call($compileNodes)}else{$linkNode=$compileNodes}if(transcludeControllers){for(var controllerName in transcludeControllers){$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance)}}compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);return $linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node){return"html"}else{return nodeName_(node)!=="foreignobject"&&toString.call(node).match(/SVG/)?"svg":"html"}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=0;i<nodeList.length;i++){attrs=new Attributes;directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope){compile.$$addScopeClass(attrs.$$element)}childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn}previousCompileContext=null}return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx]}}else{stableNodeList=nodeList}for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope)}else{childScope=scope}if(nodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn)}else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn){childBoundTranscludeFn=parentBoundTranscludeFn}else if(!parentBoundTranscludeFn&&transcludeFn){childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn)}else{childBoundTranscludeFn=null}nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)}else if(childLinkFn){childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}}}}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true}return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots){if(transcludeFn.$$slots[slotName]){boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn)}else{boundSlots[slotName]=null}}return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,className;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;attr=nAttrs[j];name=attr.name;value=trim(attr.value);ngAttrName=directiveNormalize(name);if(isNgAttr=NG_ATTR_BINDING.test(ngAttrName)){name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()})}var multiElementMatch=ngAttrName.match(MULTI_ELEMENT_DIR_RE);if(multiElementMatch&&directiveIsMultiElement(multiElementMatch[1])){attrStartName=name;attrEndName=name.substr(0,name.length-5)+"end";name=name.substr(0,name.length-6)}nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName)){attrs[nName]=true}}addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}className=node.className;if(isObject(className)){className=className.animVal}if(isString(className)&&className!==""){while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,"C",maxPriority,ignoreDirective)){attrs[nName]=trim(match[3])}className=className.substr(match.index+match[0].length)}}break;case NODE_TYPE_TEXT:if(msie===11){while(node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT){node.nodeValue=node.nodeValue+node.nextSibling.nodeValue;node.parentNode.removeChild(node.nextSibling)}}addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective);break}directives.sort(byPriority);return directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);if(addDirective(directives,nName,"M",maxPriority,ignoreDirective)){attrs[nName]=trim(match[2])}}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node){throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd)}if(node.nodeType==NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--}nodes.push(node);node=node.nextSibling}while(depth>0)}else{nodes.push(node)}return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;if(eager){return compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext)}return function lazyCompilation(){if(!compiled){compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);$compileNodes=transcludeFn=previousCompileContext=null}return compiled.apply(this,arguments)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,didScanForMultipleTransclusion=false,mightHaveMultipleTransclusionError=false,directiveValue;for(var i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart){$compileNode=groupScan(compileNode,attrStart,attrEnd)}$template=undefined;if(terminalPriority>directive.priority){break}if(directiveValue=directive.scope){if(!directive.templateUrl){if(isObject(directiveValue)){assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive}else{assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)}}newScopeDirective=newScopeDirective||directive}directiveName=directive.name;if(!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){var candidateDirective;for(var scanningIndex=i+1;candidateDirective=directives[scanningIndex++];){if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=true;break}}didScanForMultipleTransclusion=true}if(!directive.templateUrl&&directive.controller){directiveValue=directive.controller;controllerDirectives=controllerDirectives||createMap();assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive}if(directiveValue=directive.transclude){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive}if(directiveValue=="element"){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName]));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);$template[0].$$parentNode=$template[0].parentNode;childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})}else{var slots=createMap();$template=jqLite(jqLiteClone(compileNode)).contents();if(isObject(directiveValue)){$template=[];var slotMap=createMap();var filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional=elementSelector.charAt(0)==="?";elementSelector=optional?elementSelector.substring(1):elementSelector;slotMap[elementSelector]=slotName;slots[slotName]=null;filledSlots[slotName]=optional});forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];if(slotName){filledSlots[slotName]=true;slots[slotName]=slots[slotName]||[];slots[slotName].push(node)}else{$template.push(node)}});forEach(filledSlots,function(filled,slotName){if(!filled){throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName)}});for(var slotName in slots){if(slots[slotName]){slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slots[slotName],transcludeFn)}}}$compileNode.empty();childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope});childTranscludeFn.$$slots=slots}}if(directive.template){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue)){$template=[]}else{$template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)))}compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"")}replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective||newScopeDirective){markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective)}directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length}else{$compileNode.html(directiveValue)}}if(directive.templateUrl){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace){replaceDirective=directive}nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length}else if(directive.compile){try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;if(isFunction(linkFn)){addLinkFns(null,bind(context,linkFn),attrStart,attrEnd)}else if(linkFn){addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}}catch(e){$exceptionHandler(e,startingTag($compileNode))}}if(directive.terminal){nodeLinkFn.terminal=true;terminalPriority=Math.max(terminalPriority,directive.priority)}}nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){pre=cloneAndAnnotateFn(pre,{isolateScope:true})}preLinkFns.push(pre)}if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){post=cloneAndAnnotateFn(post,{isolateScope:true})}postLinkFns.push(post)}}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs)}controllerScope=scope;if(newIsolateScopeDirective){isolateScope=scope.$new(true)}else if(newScopeDirective){controllerScope=scope.$parent}if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;transcludeFn.$$boundTransclude=boundTranscludeFn;transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}}if(controllerDirectives){elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective)}if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,true);isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings;scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective);if(scopeBindingInfo.removeWatches){isolateScope.$on("$destroy",scopeBindingInfo.removeWatches)}}for(var name in elementControllers){var controllerDirective=controllerDirectives[name];var controller=elementControllers[name];var bindings=controllerDirective.$$bindings.bindToController;if(controller.identifier&&bindings){controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}else{controller.bindingInfo={}}var controllerResult=controller();if(controllerResult!==controller.instance){controller.instance=controllerResult;$element.data("$"+controllerDirective.name+"Controller",controllerResult);controller.bindingInfo.removeWatches&&controller.bindingInfo.removeWatches();controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective);
}}forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;if(controllerDirective.bindToController&&!isArray(require)&&isObject(require)){extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))}});forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges)){try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$onInit)){try{controllerInstance.$onInit()}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$doCheck)){controllerScope.$watch(function(){controllerInstance.$doCheck()});controllerInstance.$doCheck()}if(isFunction(controllerInstance.$onDestroy)){controllerScope.$on("$destroy",function callOnDestroyHook(){controllerInstance.$onDestroy()})}});for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||newIsolateScopeDirective.templateUrl===null)){scopeToChild=isolateScope}childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn);for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$postLink)){controllerInstance.$postLink()}});function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(!isScope(scope)){slotName=futureParentElement;futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined}if(hasElementTranscludeDirective){transcludeControllers=elementControllers}if(!futureParentElement){futureParentElement=hasElementTranscludeDirective?$element.parent():$element}if(slotName){var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn){return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}else if(isUndefined(slotTranscludeFn)){throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",slotName,startingTag($element))}}else{return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}}}}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP);var name=require.substring(match[0].length);var inheritType=match[1]||match[3];var optional=match[2]==="?";if(inheritType==="^^"){$element=$element.parent()}else{value=elementControllers&&elementControllers[name];value=value&&value.instance}if(!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional){throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++){value[i]=getControllers(directiveName,require[i],$element,elementControllers)}}else if(isObject(require)){value={};forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)})}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey];var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};var controller=directive.controller;if(controller=="@"){controller=attrs[directive.name]}var controllerInstance=$controller(controller,locals,true,directive.controllerAs);elementControllers[directive.name]=controllerInstance;$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++){directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){try{directive=directives[i];if((isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!=-1){if(startAttrName){directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})}if(!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);if(isObject(bindings.isolateScope)){directive.$$isolateBindings=bindings.isolateScope}}tDirectives.push(directive);match=directive}}catch(e){$exceptionHandler(e)}}}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement){return true}}}return false}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){if(key.charAt(0)!="$"){if(src[key]&&src[key]!==value){value+=(key==="style"?";":" ")+src[key]}dst.$set(key,value,true,srcAttr[key])}});forEach(src,function(value,key){if(!dst.hasOwnProperty(key)&&key.charAt(0)!=="$"){dst[key]=value;if(key!=="class"&&key!=="style"){dstAttr[key]=srcAttr[key]}}})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[]}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)))}compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl)}tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectiveScope(templateDirectives,true)}directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content)}directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node==compileNode){$rootElement[i]=$compileNode[0]}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode)}replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses)}if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}else{childBoundTranscludeFn=boundTranscludeFn}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null});return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope,node,rootElement,childBoundTranscludeFn)}else{if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)}}}function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective){throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn){directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value})}}})}}function wrapTemplate(type,template){type=lowercase(type||"html");switch(type){case"svg":case"math":var wrapper=window.document.createElement("div");wrapper.innerHTML="<"+type+">"+template+"</"+type+">";return wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if(attrNormalizedName=="srcdoc"){return $sce.HTML}var tag=nodeName_(node);if(attrNormalizedName=="xlinkHref"||tag=="form"&&attrNormalizedName=="action"||tag!="img"&&(attrNormalizedName=="src"||attrNormalizedName=="ngSrc")){return $sce.RESOURCE_URL}}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,true,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName_(node)==="select"){throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node))}directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());if(EVENT_HANDLER_ATTR_REGEXP.test(name)){throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.")}var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue}if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==="class"&&newValue!=oldValue){attr.$updateClass(newValue,oldValue)}else{attr.$set(name,newValue)}})}}}})}function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,i,ii;if($rootElement){for(i=0,ii=$rootElement.length;i<ii;i++){if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++){if(j2<jj){$rootElement[j]=$rootElement[j2]}else{delete $rootElement[j]}}$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove){$rootElement.context=newNode}break}}}if(parent){parent.replaceChild(newNode,firstElementToRemove)}var fragment=window.document.createDocumentFragment();for(i=0;i<removeCount;i++){fragment.appendChild(elementsToRemove[i])}if(jqLite.hasData(firstElementToRemove)){jqLite.data(newNode,jqLite.data(firstElementToRemove));jqLite(firstElementToRemove).off("$destroy")}jqLite.cleanData(fragment.querySelectorAll("*"));for(i=1;i<removeCount;i++){delete elementsToRemove[i]}elementsToRemove[0]=newNode;elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];var initialChanges={};var changes;forEach(bindings,function initializeBinding(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare,removeWatch;switch(mode){case"@":if(!optional&&!hasOwnProperty.call(attrs,attrName)){destination[scopeName]=attrs[attrName]=void 0}attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue);destination[scopeName]=value}});attrs.$$observers[attrName].$$scope=scope;lastValue=attrs[attrName];if(isString(lastValue)){destination[scopeName]=$interpolate(lastValue)(scope)}else if(isBoolean(lastValue)){destination[scopeName]=lastValue}initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);if(parentGet.literal){compare=equals}else{compare=function simpleCompare(a,b){return a===b||a!==a&&b!==b}}parentSet=parentGet.assign||function(){lastValue=destination[scopeName]=parentGet(scope);throw $compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name)};lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,destination[scopeName])){if(!compare(parentValue,lastValue)){destination[scopeName]=parentValue}else{parentSet(scope,parentValue=destination[scopeName])}}return lastValue=parentValue};parentValueWatch.$stateful=true;if(definition.collection){removeWatch=scope.$watchCollection(attrs[attrName],parentValueWatch)}else{removeWatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal)}removeWatchCollection.push(removeWatch);break;case"<":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);var initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatch=scope.$watch(parentGet,function parentValueWatchAction(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue)return;oldValue=initialValue}recordChanges(scopeName,newValue,oldValue);destination[scopeName]=newValue},parentGet.literal);removeWatchCollection.push(removeWatch);break;case"&":parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop;if(parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)};break}});function recordChanges(key,currentValue,previousValue){if(isFunction(destination.$onChanges)&&currentValue!==previousValue){if(!onChangesQueue){scope.$$postDigest(flushOnChangesQueue);onChangesQueue=[]}if(!changes){changes={};onChangesQueue.push(triggerOnChangesHook)}if(changes[key]){previousValue=changes[key].previousValue}changes[key]=new SimpleChange(previousValue,currentValue)}}function triggerOnChangesHook(){destination.$onChanges(changes);changes=undefined}return{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i){removeWatchCollection[i]()}}}}}]}function SimpleChange(previous,current){this.previousValue=previous;this.currentValue=current}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i;function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer}values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1){return jqNodes}while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT){splice.call(jqNodes,i,1)}}return jqNodes}var $controllerMinErr=minErr("$controller");var CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/;function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=false;this.has=function(name){return controllers.hasOwnProperty(name)};this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller");if(isObject(name)){extend(controllers,name)}else{controllers[name]=constructor}};this.allowGlobals=function(){globals=true};this.$get=["$injector","$window",function($injector,$window){return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident)){identifier=ident}if(isString(expression)){match=expression.match(CNTRL_REG);if(!match){throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression)}constructor=match[1],identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true)||(globals?getter($window,constructor,true):undefined);assertArgFn(expression,constructor,true)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}var instantiate;return instantiate=extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);if(result!==instance&&(isObject(result)||isFunction(result))){instance=result;if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}}return instance},{instance:instance,identifier:identifier})}instance=$injector.instantiate(expression,locals,constructor);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}return instance};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope))){throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier)}locals.$scope[identifier]=instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}var $$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){if(domNode){if(!domNode.nodeType&&domNode instanceof jqLite){domNode=domNode[0]}}else{domNode=$document[0].body}return domNode.offsetWidth+1}}]};var APPLICATION_JSON="application/json";var CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={"[":/]$/,"{":/}$/};var JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/;var $httpMinErr=minErr("$http");var $httpMinErrLegacyFn=function(method){return function(){throw $httpMinErr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",method)}};function serializeValue(v){if(isObject(v)){return isDate(v)?v.toISOString():toJson(v)}return v}function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return"";var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value))return;if(isArray(value)){forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))})}else{parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value)))}});return parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){if(!params)return"";var parts=[];serialize(params,"",true);return parts.join("&");function serialize(toSerialize,prefix,topLevel){if(toSerialize===null||isUndefined(toSerialize))return;if(isArray(toSerialize)){forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")})}else if(isObject(toSerialize)&&!isDate(toSerialize)){forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))})}else{parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize)))}}}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");if(contentType&&contentType.indexOf(APPLICATION_JSON)===0||isJsonLike(tempData)){data=fromJson(tempData)}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var parsed=createMap(),i;function fillInParsed(key,val){if(key){parsed[key]=parsed[key]?parsed[key]+", "+val:val}}if(isString(headers)){forEach(headers.split("\n"),function(line){i=line.indexOf(":");fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))})}else if(isObject(headers)){forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))})}return parsed}function headersGetter(headers){var headersObj;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===void 0){value=null}return value}return headersObj}}function transformData(data,headers,status,fns){if(isFunction(fns)){return fns(data,headers,status)}forEach(fns,function(fn){data=fn(data,headers,status)});return data}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this}return useApplyAsync};var useLegacyPromise=true;this.useLegacyPromiseExtensions=function(value){if(isDefined(value)){useLegacyPromise=!!value;return this}return useLegacyPromise};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});function $http(requestConfig){if(!isObject(requestConfig)){throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig)}if(!isString(requestConfig.url)){throw minErr("$http")("badreq","Http request configuration url must be a string.  Received: {0}",requestConfig.url)}var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var requestInterceptors=[];var responseInterceptors=[];var promise=$q.when(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError){requestInterceptors.unshift(interceptor.request,interceptor.requestError)}if(interceptor.response||interceptor.responseError){responseInterceptors.push(interceptor.response,interceptor.responseError)}});promise=chainInterceptors(promise,requestInterceptors);promise=promise.then(serverRequest);promise=chainInterceptors(promise,responseInterceptors);if(useLegacyPromise){promise.success=function(fn){assertArgFn(fn,"fn");promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){assertArgFn(fn,"fn");promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise}}else{promise.success=$httpMinErrLegacyFn("success");promise.error=$httpMinErrLegacyFn("error")}return promise;function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++];var rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}interceptors.length=0;return promise}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn(config);if(headerContent!=null){processedHeaders[header]=headerContent}}else{processedHeaders[header]=headerFn}});return processedHeaders}function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders){if(lowercase(reqHeaderName)===lowercaseDefHeaderName){continue defaultHeadersIteration}}reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData)){forEach(headers,function(value,header){if(lowercase(header)==="content-type"){delete headers[header]}})}if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)){config.withCredentials=defaults.withCredentials}return sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);return isSuccess(response.status)?resp:$q.reject(resp)}}$http.pendingRequests=[];createShortMethods("get","delete","head","jsonp");createShortMethodsWithData("post","put","patch");$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==="GET"||config.method==="JSONP")){cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache}if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult)}else{if(isArray(cachedResp)){resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3])}else{resolvePromise(cachedResp,200,{},"OK")}}}else{cache.put(url,promise)}}if(isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue){reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue}$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise;function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){if(useApplyAsync){$rootScope.$applyAsync(callEventHandler)}else if($rootScope.$$phase){callEventHandler()}else{$rootScope.$apply(callEventHandler)}function callEventHandler(){eventHandler(event)}}});return applyHandlers}}function done(status,response,headersString,statusText){if(cache){if(isSuccess(status)){cache.put(url,[status,response,parseHeaders(headersString),statusText])}else{cache.remove(url)}}function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}if(useApplyAsync){$rootScope.$applyAsync(resolveHttpPromise)}else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply()}}function resolvePromise(response,status,headers,statusText){status=status>=-1?status:0;(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText);
}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1)}}function buildUrl(url,serializedParams){if(serializedParams.length>0){url+=(url.indexOf("?")==-1?"?":"&")+serializedParams}return url}}]}function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){$browser.$$incOutstandingRequestCount();url=url||$browser.url();if(lowercase(method)==="jsonp"){var callbackPath=callbacks.createCallback(url);var jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=status===200&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text);callbacks.removeCallback(callbackPath)})}else{var xhr=createXhr(method,url);xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value)){xhr.setRequestHeader(key,value)}});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||"";var response="response"in xhr?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:urlResolve(url).protocol=="file"?404:0}completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};xhr.onerror=requestError;xhr.onabort=requestError;forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)});forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,value)});if(withCredentials){xhr.withCredentials=true}if(responseType){try{xhr.responseType=responseType}catch(e){if(responseType!=="json"){throw e}}}xhr.send(isUndefined(post)?null:post)}if(timeout>0){var timeoutId=$browserDefer(timeoutRequest,timeout)}else if(isPromiseLike(timeout)){timeout.then(timeoutRequest)}function timeoutRequest(){jsonpDone&&jsonpDone();xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){if(isDefined(timeoutId)){$browserDefer.cancel(timeoutId)}jsonpDone=xhr=null;callback(status,response,headersString,statusText);$browser.$$completeOutstandingRequest(noop)}};function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){removeEventListenerFn(script,"load",callback);removeEventListenerFn(script,"error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks.wasCalled(callbackPath)){event={type:"error"}}text=event.type;status=event.type==="error"?404:200}if(done){done(status,text)}};addEventListenerFn(script,"load",callback);addEventListenerFn(script,"error",callback);rawDocument.body.appendChild(script);return callback}}var $interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",text)};$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};function $InterpolateProvider(){var startSymbol="{{";var endSymbol="}}";this.startSymbol=function(value){if(value){startSymbol=value;return this}else{return startSymbol}};this.endSymbol=function(value){if(value){endSymbol=value;return this}else{return endSymbol}};this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function stringify(value){if(value==null){return""}switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch;return unwatch=scope.$watch(function constantInterpolateWatch(scope){unwatch();return constantInterp(scope)},listener,objectEquality)}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){if(!text.length||text.indexOf(startSymbol)===-1){var constantInterp;if(!mustHaveExpression){var unescapedText=unescapeText(text);constantInterp=valueFn(unescapedText);constantInterp.exp=text;constantInterp.expressions=[];constantInterp.$$watchDelegate=constantWatchDelegate}return constantInterp}allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns=[],textLength=text.length,exp,concat=[],expressionPositions=[];while(index<textLength){if((startIndex=text.indexOf(startSymbol,index))!=-1&&(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!=-1){if(index!==startIndex){concat.push(unescapeText(text.substring(index,startIndex)))}exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);parseFns.push($parse(exp,parseStringifyInterceptor));index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push("")}else{if(index!==textLength){concat.push(unescapeText(text.substring(index)))}break}}if(trustedContext&&concat.length>1){$interpolateMinErr.throwNoconcat(text)}if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")};var getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++){values[i]=parseFns[i](context)}return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);if(isFunction(listener)){listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope)}lastValue=currValue})}})}function parseStringifyInterceptor(value){try{value=getValue(value);return allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}}$interpolate.startSymbol=function(){return startSymbol};$interpolate.endSymbol=function(){return endSymbol};return $interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function($rootScope,$window,$q,$$q,$browser){var intervals={};function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;promise.$$intervalId=setInterval(function tick(){if(skipApply){$browser.defer(callback)}else{$rootScope.$evalAsync(callback)}deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId]}if(!skipApply)$rootScope.$apply()},delay);intervals[promise.$$intervalId]=deferred;return promise;function callback(){if(!hasParams){fn(iteration)}else{fn.apply(null,args)}}}interval.cancel=function(promise){if(promise&&promise.$$intervalId in intervals){intervals[promise.$$intervalId].reject("canceled");$window.clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];return true}return false};return interval}]}var $jsonpCallbacksProvider=function(){this.$get=["$window",function($window){var callbacks=$window.angular.callbacks;var callbackMap={};function createCallback(callbackId){var callback=function(data){callback.data=data;callback.called=true};callback.id=callbackId;return callback}return{createCallback:function(url){var callbackId="_"+(callbacks.$$counter++).toString(36);var callbackPath="angular.callbacks."+callbackId;var callback=createCallback(callbackId);callbackMap[callbackPath]=callbacks[callbackId]=callback;return callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id];delete callbackMap[callbackPath]}}}]};var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21};var $locationMinErr=minErr("$location");function encodePath(path){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=encodeUriSegment(segments[i])}return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed=relativeUrl.charAt(0)!=="/";if(prefixed){relativeUrl="/"+relativeUrl}var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&match.pathname.charAt(0)==="/"?match.pathname.substring(1):match.pathname);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!="/"){locationObj.$$path="/"+locationObj.$$path}}function startsWith(haystack,needle){return haystack.lastIndexOf(needle,0)===0}function stripBaseUrl(base,url){if(startsWith(url,base)){return url.substr(base.length)}}function stripHash(url){var index=url.indexOf("#");return index==-1?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=true;basePrefix=basePrefix||"";parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl)){throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile)}parseAppUrl(pathUrl,this);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBaseNoFile+this.$$url.substr(1)};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var appUrl,prevAppUrl;var rewrittenUrl;if(isDefined(appUrl=stripBaseUrl(appBase,url))){prevAppUrl=appUrl;if(isDefined(appUrl=stripBaseUrl(basePrefix,appUrl))){rewrittenUrl=appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl)}else{rewrittenUrl=appBase+prevAppUrl}}else if(isDefined(appUrl=stripBaseUrl(appBaseNoFile,url))){rewrittenUrl=appBaseNoFile+appUrl}else if(appBaseNoFile==url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);var withoutHashUrl;if(!isUndefined(withoutBaseUrl)&&withoutBaseUrl.charAt(0)==="#"){withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl)){withoutHashUrl=withoutBaseUrl}}else{if(this.$$html5){withoutHashUrl=withoutBaseUrl}else{withoutHashUrl="";if(isUndefined(withoutBaseUrl)){appBase=url;this.replace()}}}parseAppUrl(withoutHashUrl,this);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(startsWith(url,base)){url=url.replace(base,"")}if(windowsFilePathExp.exec(url)){return path}firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path}};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)==stripHash(url)){this.$$parse(url);return true}return false}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var rewrittenUrl;var appUrl;if(appBase==stripHash(url)){rewrittenUrl=url}else if(appUrl=stripBaseUrl(appBaseNoFile,url)){rewrittenUrl=appBase+hashPrefix+appUrl}else if(appBaseNoFile===url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBase+hashPrefix+this.$$url}}var locationPrototype={$$absUrl:"",$$html5:false,$$replace:false,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url)){return this.$$url}var match=PATH_MATCH.exec(url);if(match[1]||url==="")this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==="")this.search(match[3]||"");this.hash(match[5]||"");return this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){path=path!==null?path.toString():"";return path.charAt(0)=="/"?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search)}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key]});this.$$search=search}else{throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(isUndefined(paramValue)||paramValue===null){delete this.$$search[search]}else{this.$$search[search]=paramValue}}this.$$compose();return this},hash:locationGetterSetter("$$hash",function(hash){return hash!==null?hash.toString():""}),replace:function(){this.$$replace=true;return this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length){return this.$$state}if(Location!==LocationHtml5Url||!this.$$html5){throw $locationMinErr("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=isUndefined(state)?null:state;return this}});function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value)){return this[property]}this[property]=preprocess(value);this.$$compose();return this}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this}else{return hashPrefix}};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this}else if(isObject(mode)){if(isBoolean(mode.enabled)){html5Mode.enabled=mode.enabled}if(isBoolean(mode.requireBase)){html5Mode.requireBase=mode.requireBase}if(isBoolean(mode.rewriteLinks)){html5Mode.rewriteLinks=mode.rewriteLinks}return this}else{return html5Mode}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase){throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!")}appBase=serverBase(initialUrl)+(baseHref||"/");LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl}var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state()}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e}}$rootElement.on("click",function(event){if(!html5Mode.rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which==2||event.button==2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=="a"){if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return}var absHref=elm.prop("href");var relHref=elm.attr("href")||elm.attr("xlink:href");if(isObject(absHref)&&absHref.toString()==="[object SVGAnimatedString]"){absHref=urlResolve(absHref.animVal).href}if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr("target")&&!event.isDefaultPrevented()){if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!=$browser.url()){$rootScope.$apply();$window.angular["ff-684208-preventDefault"]=true}}}});if(trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)){$browser.url($location.absUrl(),true)}var initializing=true;$browser.onUrlChange(function(newUrl,newState){if(isUndefined(stripBaseUrl(appBaseNoFile,newUrl))){$window.location.href=newUrl;return}$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;newUrl=trimEmptyHash(newUrl);$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,false,oldState)}else{initializing=false;afterLocationChange(oldUrl,oldState)}});if(!$rootScope.$$phase)$rootScope.$digest()});$rootScope.$watch(function $locationWatch(){var oldUrl=trimEmptyHash($browser.url());var newUrl=trimEmptyHash($location.absUrl());var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState}else{if(urlOrStateChanged){setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state)}afterLocationChange(oldUrl,oldState)}})}$location.$$replace=false});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}}]}function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this}else{return debug}};this.$get=["$window",function($window){return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){if(debug){fn.apply(self,arguments)}}}()};function formatError(arg){if(arg instanceof Error){if(arg.stack){arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack}else if(arg.sourceURL){arg=arg.message+"\n"+arg.sourceURL+":"+arg.line}}return arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=false;try{hasApply=!!logFn.apply}catch(e){}if(hasApply){return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg))});return logFn.apply(console,args)}}return function(arg1,arg2){logFn(arg1,arg2==null?"":arg2)}}}]}var $parseMinErr=minErr("$parse");function ensureSafeMemberName(name,fullExpression){if(name==="__defineGetter__"||name==="__defineSetter__"||name==="__lookupGetter__"||name==="__lookupSetter__"||name==="__proto__"){throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! "+"Expression: {0}",fullExpression)}return name}function getStringValue(name){return name+""}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression)}else if(obj.window===obj){throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression)}else if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find)){throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression)}else if(obj===Object){throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}}return obj}var CALL=Function.prototype.call;var APPLY=Function.prototype.apply;var BIND=Function.prototype.bind;function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression)}else if(obj===CALL||obj===APPLY||obj===BIND){throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}}function ensureSafeAssignContext(obj,fullExpression){if(obj){if(obj===(0).constructor||obj===false.constructor||obj==="".constructor||obj==={}.constructor||obj===[].constructor||obj===Function.constructor){throw $parseMinErr("isecaf","Assigning to a constructor is disallowed! Expression: {0}",fullExpression)}}}var OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=true});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'"){this.readString(ch)}else if(this.isNumber(ch)||ch==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(ch,"(){}[].,;:?")){this.tokens.push({index:this.index,text:ch});this.index++}else if(this.isWhitespace(ch)){this.index++}else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):false},isNumber:function(ch){return"0"<=ch&&ch<="9"&&typeof ch==="string"},isWhitespace:function(ch){return ch===" "||ch==="\r"||ch==="\t"||ch==="\n"||ch==="\v"||ch===""},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||ch==="$"},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){if(ch.length===1)return ch.charCodeAt(0);return(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index);var peek=this.peek();if(!peek){return ch}var cp1=ch.charCodeAt(0);var cp2=peek.charCodeAt(0);if(cp1>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343){return ch+peek}return ch},isExpOperator:function(ch){return ch==="-"||ch==="+"||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){var number="";var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch=="."||this.isNumber(ch)){number+=ch}else{var peekCh=this.peek();if(ch=="e"&&this.isExpOperator(peekCh)){number+=ch}else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)=="e"){number+=ch}else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)=="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:start,text:number,constant:true,value:Number(number)})},readIdent:function(){var start=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch)){break}this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true})},readString:function(quote){var start=this.index;this.index++;var string="";var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);rawString+=ch;if(escape){if(ch==="u"){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+hex+"]")}this.index+=4;string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string=string+(rep||ch)}escape=false}else if(ch==="\\"){escape=true}else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return}else{string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer;this.options=options};AST.Program="Program";AST.ExpressionStatement="ExpressionStatement";AST.AssignmentExpression="AssignmentExpression";AST.ConditionalExpression="ConditionalExpression";AST.LogicalExpression="LogicalExpression";AST.BinaryExpression="BinaryExpression";AST.UnaryExpression="UnaryExpression";AST.CallExpression="CallExpression";AST.MemberExpression="MemberExpression";AST.Identifier="Identifier";AST.Literal="Literal";AST.ArrayExpression="ArrayExpression";AST.Property="Property";AST.ObjectExpression="ObjectExpression";AST.ThisExpression="ThisExpression";AST.LocalsExpression="LocalsExpression";AST.NGValueParameter="NGValueParameter";AST.prototype={ast:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return value},program:function(){var body=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))body.push(this.expressionStatement());if(!this.expect(";")){return{type:AST.Program,body:body}}}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var left=this.expression();var token;while(token=this.expect("|")){left=this.filter(left)}return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("=")){result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}}return result},ternary:function(){var test=this.logicalOR();var alternate;var consequent;if(this.expect("?")){alternate=this.expression();if(this.consume(":")){consequent=this.expression();return{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}}}return test},logicalOR:function(){var left=this.logicalAND();while(this.expect("||")){left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()}}return left},logicalAND:function(){var left=this.equality();while(this.expect("&&")){left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()}}return left},equality:function(){var left=this.relational();var token;while(token=this.expect("==","!=","===","!==")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()}}return left},relational:function(){var left=this.additive();var token;while(token=this.expect("<",">","<=",">=")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()}}return left},additive:function(){var left=this.multiplicative();var token;while(token=this.expect("+","-")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()}}return left},multiplicative:function(){var left=this.unary();var token;while(token=this.expect("*","/","%")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()}}return left},unary:function(){var token;if(token=this.expect("+","-","!")){return{type:AST.UnaryExpression,operator:token.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var primary;if(this.expect("(")){primary=this.filterChain();this.consume(")")}else if(this.expect("[")){primary=this.arrayDeclaration()}else if(this.expect("{")){primary=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){primary=copy(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){primary={type:AST.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){primary=this.identifier()}else if(this.peek().constant){primary=this.constant()}else{this.throwError("not a primary expression",this.peek())}var next;while(next=this.expect("(","[",".")){if(next.text==="("){primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()};this.consume(")")}else if(next.text==="["){primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:true};this.consume("]")}else if(next.text==="."){primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return primary},filter:function(baseExpression){var args=[baseExpression];var result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:true};while(this.expect(":")){
args.push(this.expression())}return result},parseArguments:function(){var args=[];if(this.peekToken().text!==")"){do{args.push(this.filterChain())}while(this.expect(","))}return args},identifier:function(){var token=this.consume();if(!token.identifier){this.throwError("is not a valid identifier",token)}return{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}elements.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:AST.ArrayExpression,elements:elements}},object:function(){var properties=[],property;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}property={type:AST.Property,kind:"init"};if(this.peek().constant){property.key=this.constant();property.computed=false;this.consume(":");property.value=this.expression()}else if(this.peek().identifier){property.key=this.identifier();property.computed=false;if(this.peek(":")){this.consume(":");property.value=this.expression()}else{property.value=property.key}}else if(this.peek("[")){this.consume("[");property.key=this.expression();this.consume("]");property.computed=true;this.consume(":");property.value=this.expression()}else{this.throwError("invalid key",this.peek())}properties.push(property)}while(this.expect(","))}this.consume("}");return{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}var token=this.expect(e1);if(!token){this.throwError("is unexpected, expecting ["+e1+"]",this.peek())}return token},peekToken:function(){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4){return token}}return false},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token}return false},selfReferential:{this:{type:AST.ThisExpression},$locals:{type:AST.LocalsExpression}}};function ifDefined(v,d){return typeof v!=="undefined"?v:d}function plusFn(l,r){if(typeof l==="undefined")return r;if(typeof r==="undefined")return l;return l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function findConstantAndWatchExpressions(ast,$filter){var allConstants;var argsToWatch;switch(ast.type){case AST.Program:allConstants=true;forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter);allConstants=allConstants&&expr.expression.constant});ast.constant=allConstants;break;case AST.Literal:ast.constant=true;ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter);ast.constant=ast.argument.constant;ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter);findConstantAndWatchExpressions(ast.alternate,$filter);findConstantAndWatchExpressions(ast.consequent,$filter);ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=false;ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter);if(ast.computed){findConstantAndWatchExpressions(ast.property,$filter)}ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant);ast.toWatch=[ast];break;case AST.CallExpression:allConstants=ast.filter?isStateless($filter,ast.callee.name):false;argsToWatch=[];forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter);allConstants=allConstants&&expr.constant;if(!expr.constant){argsToWatch.push.apply(argsToWatch,expr.toWatch)}});ast.constant=allConstants;ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=true;argsToWatch=[];forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter);allConstants=allConstants&&expr.constant;if(!expr.constant){argsToWatch.push.apply(argsToWatch,expr.toWatch)}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=true;argsToWatch=[];forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter);allConstants=allConstants&&property.value.constant&&!property.computed;if(!property.value.constant){argsToWatch.push.apply(argsToWatch,property.value.toWatch)}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=false;ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=false;ast.toWatch=[];break}}function getInputs(body){if(body.length!=1)return;var lastExpression=body[0].expression;var candidate=lastExpression.toWatch;if(candidate.length!==1)return candidate;return candidate[0]!==lastExpression?candidate:undefined}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(ast.body.length===1&&isAssignable(ast.body[0].expression)){return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}}function isLiteral(ast){return ast.body.length===0||ast.body.length===1&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder;this.$filter=$filter}ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this;var ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};findConstantAndWatchExpressions(ast,self.$filter);var extra="";var assignable;this.stage="assign";if(assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result);this.return_(result);extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs";forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}};self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId);self.return_(intoId);self.state.inputs.push(fnKey);watch.watchId=key});this.state.computing="fn";this.stage="main";this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;";var fn=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",fnString)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,expression);this.state=this.stage=undefined;fn.literal=isLiteral(ast);fn.constant=isConstant(ast);return fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[];var fns=this.state.inputs;var self=this;forEach(fns,function(name){result.push("var "+name+"="+self.generateFunction(name,"s"))});if(fns.length){result.push("fn.inputs=["+fns.join(",")+"];")}return result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[];var self=this;forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")});if(parts.length)return"var "+parts.join(",")+";";return""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,self=this,args,expression,computed;recursionFn=recursionFn||noop;if(!skipWatchIdCheck&&isDefined(ast.watchId)){intoId=intoId||this.nextId();this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,true));return}switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr});if(pos!==ast.body.length-1){self.current().body.push(right,";")}else{self.return_(right)}});break;case AST.Literal:expression=this.escape(ast.value);this.assign(intoId,expression);recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr});expression=ast.operator+"("+this.ifDefined(right,0)+")";this.assign(intoId,expression);recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr});this.recurse(ast.right,undefined,undefined,function(expr){right=expr});if(ast.operator==="+"){expression=this.plus(left,right)}else if(ast.operator==="-"){expression=this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0)}else{expression="("+left+")"+ast.operator+"("+right+")"}this.assign(intoId,expression);recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId();self.recurse(ast.left,intoId);self.if_(ast.operator==="&&"?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId));recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId();self.recurse(ast.test,intoId);self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId));recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId();if(nameId){nameId.context=self.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s");nameId.computed=false;nameId.name=ast.name}ensureSafeMemberName(ast.name);self.if_(self.stage==="inputs"||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_(self.stage==="inputs"||"s",function(){if(create&&create!==1){self.if_(self.not(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}"))}self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name)));if(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name)){self.addEnsureSafeObject(intoId)}recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId();intoId=intoId||this.nextId();self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){if(create&&create!==1){self.addEnsureSafeAssignContext(left)}if(ast.computed){right=self.nextId();self.recurse(ast.property,right);self.getStringValue(right);self.addEnsureSafeMemberName(right);if(create&&create!==1){self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}"))}expression=self.ensureSafeObject(self.computedMember(left,right));self.assign(intoId,expression);if(nameId){nameId.computed=true;nameId.name=right}}else{ensureSafeMemberName(ast.property.name);if(create&&create!==1){self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}"))}expression=self.nonComputedMember(left,ast.property.name);if(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name)){expression=self.ensureSafeObject(expression)}self.assign(intoId,expression);if(nameId){nameId.computed=false;nameId.name=ast.property.name}}},function(){self.assign(intoId,"undefined")});recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId();if(ast.filter){right=self.filter(ast.callee.name);args=[];forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument);args.push(argument)});expression=right+"("+args.join(",")+")";self.assign(intoId,expression);recursionFn(intoId)}else{right=self.nextId();left={};args=[];self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right);forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument))})});if(left.name){if(!self.state.expensiveChecks){self.addEnsureSafeObject(left.context)}expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"}else{expression=right+"("+args.join(",")+")"}expression=self.ensureSafeObject(expression);self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")});recursionFn(intoId)})}break;case AST.AssignmentExpression:right=this.nextId();left={};if(!isAssignable(ast.left)){throw $parseMinErr("lval","Trying to assign a value to a non l-value")}this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right);self.addEnsureSafeObject(self.member(left.context,left.name,left.computed));self.addEnsureSafeAssignContext(left.context);expression=self.member(left.context,left.name,left.computed)+ast.operator+right;self.assign(intoId,expression);recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument)})});expression="["+args.join(",")+"]";this.assign(intoId,expression);recursionFn(expression);break;case AST.ObjectExpression:args=[];computed=false;forEach(ast.properties,function(property){if(property.computed){computed=true}});if(computed){intoId=intoId||this.nextId();this.assign(intoId,"{}");forEach(ast.properties,function(property){if(property.computed){left=self.nextId();self.recurse(property.key,left)}else{left=property.key.type===AST.Identifier?property.key.name:""+property.key.value}right=self.nextId();self.recurse(property.value,right);self.assign(self.member(intoId,left,property.computed),right)})}else{forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?undefined:self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})});expression="{"+args.join(",")+"}";this.assign(intoId,expression)}recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s");recursionFn("s");break;case AST.LocalsExpression:this.assign(intoId,"l");recursionFn("l");break;case AST.NGValueParameter:this.assign(intoId,"v");recursionFn("v");break}},getHasOwnProperty:function(element,property){var key=element+"."+property;var own=this.current().own;if(!own.hasOwnProperty(key)){own[key]=this.nextId(false,element+"&&("+this.escape(property)+" in "+element+")")}return own[key]},assign:function(id,value){if(!id)return;this.current().body.push(id,"=",value,";");return id},filter:function(filterName){if(!this.state.filters.hasOwnProperty(filterName)){this.state.filters[filterName]=this.nextId(true)}return this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===true){alternate()}else{var body=this.current().body;body.push("if(",test,"){");alternate();body.push("}");if(consequent){body.push("else{");consequent();body.push("}")}}},not:function(expression){return"!("+expression+")"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){var SAFE_IDENTIFIER=/[$_a-zA-Z][$_a-zA-Z0-9]*/;var UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;if(SAFE_IDENTIFIER.test(right)){return left+"."+right}else{return left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'}},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){if(computed)return this.computedMember(left,right);return this.nonComputedMember(left,right)},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),";")},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),";")},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),";")},addEnsureSafeAssignContext:function(item){this.current().body.push(this.ensureSafeAssignContext(item),";")},ensureSafeObject:function(item){return"ensureSafeObject("+item+",text)"},ensureSafeMemberName:function(item){return"ensureSafeMemberName("+item+",text)"},ensureSafeFunction:function(item){return"ensureSafeFunction("+item+",text)"},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},ensureSafeAssignContext:function(item){return"ensureSafeAssignContext("+item+",text)"},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===true)return"true";if(value===false)return"false";if(value===null)return"null";if(typeof value==="undefined")return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;if(!skip){this.current().vars.push(id+(init?"="+init:""))}return id},current:function(){return this.state[this.state.computing]}};function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder;this.$filter=$filter}ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this;var ast=this.astBuilder.ast(expression);this.expression=expression;this.expensiveChecks=expensiveChecks;findConstantAndWatchExpressions(ast,self.$filter);var assignable;var assign;if(assignable=assignableAST(ast)){assign=this.recurse(assignable)}var toWatch=getInputs(ast.body);var inputs;if(toWatch){inputs=[];forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input;inputs.push(input);watch.watchId=key})}var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=ast.body.length===0?noop:ast.body.length===1?expressions[0]:function(scope,locals){var lastValue;forEach(expressions,function(exp){lastValue=exp(scope,locals)});return lastValue};if(assign){fn.assign=function(scope,value,locals){return assign(scope,locals,value)}}if(inputs){fn.inputs=inputs}fn.literal=isLiteral(ast);fn.constant=isConstant(ast);return fn},recurse:function(ast,context,create){var left,right,self=this,args,expression;if(ast.input){return this.inputs(ast.input,ast.watchId)}switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:right=this.recurse(ast.argument);return this["unary"+ast.operator](right,context);case AST.BinaryExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:ensureSafeMemberName(ast.name,self.expression);return self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:left=this.recurse(ast.object,false,!!create);if(!ast.computed){ensureSafeMemberName(ast.property.name,self.expression);right=ast.property.name}if(ast.computed)right=this.recurse(ast.property);return ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:args=[];forEach(ast.arguments,function(expr){args.push(self.recurse(expr))});if(ast.filter)right=this.$filter(ast.callee.name);if(!ast.filter)right=this.recurse(ast.callee,true);return ast.filter?function(scope,locals,assign,inputs){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs))}var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var rhs=right(scope,locals,assign,inputs);var value;if(rhs.value!=null){ensureSafeObject(rhs.context,self.expression);ensureSafeFunction(rhs.value,self.expression);var values=[];for(var i=0;i<args.length;++i){values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression))}value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression)}return context?{value:value}:value};case AST.AssignmentExpression:left=this.recurse(ast.left,true,1);right=this.recurse(ast.right);return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);ensureSafeObject(lhs.value,self.expression);ensureSafeAssignContext(lhs.context);lhs.context[lhs.name]=rhs;return context?{value:rhs}:rhs};case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){args.push(self.recurse(expr))});return function(scope,locals,assign,inputs){var value=[];for(var i=0;i<args.length;++i){value.push(args[i](scope,locals,assign,inputs))}return context?{value:value}:value};case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){if(property.computed){args.push({key:self.recurse(property.key),computed:true,value:self.recurse(property.value)})}else{args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:false,value:self.recurse(property.value)})}});return function(scope,locals,assign,inputs){var value={};for(var i=0;i<args.length;++i){if(args[i].computed){value[args[i].key(scope,locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs)}else{value[args[i].key]=args[i].value(scope,locals,assign,inputs)}}return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=+arg}else{arg=0}return context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=-arg}else{arg=0}return context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;if(create&&create!==1&&base&&!base[name]){base[name]={}}var value=base?base[name]:undefined;if(expensiveChecks){ensureSafeObject(value,expression)}if(context){return{context:base,name:name,value:value}}else{return value}}},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs;var value;if(lhs!=null){rhs=right(scope,locals,assign,inputs);rhs=getStringValue(rhs);ensureSafeMemberName(rhs,expression);if(create&&create!==1){ensureSafeAssignContext(lhs);if(lhs&&!lhs[rhs]){lhs[rhs]={}}}value=lhs[rhs];ensureSafeObject(value,expression)}if(context){return{context:lhs,name:rhs,value:value}}else{return value}}},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);if(create&&create!==1){ensureSafeAssignContext(lhs);if(lhs&&!lhs[right]){lhs[right]={}}}var value=lhs!=null?lhs[right]:undefined;if(expensiveChecks||isPossiblyDangerousMemberName(right)){ensureSafeObject(value,expression)}if(context){return{context:lhs,name:right,value:value}}else{return value}}},inputs:function(input,watchId){return function(scope,value,locals,inputs){if(inputs)return inputs[watchId];return input(scope,value,locals)}}};var Parser=function(lexer,$filter,options){this.lexer=lexer;this.$filter=$filter;this.options=options;this.ast=new AST(lexer,options);this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter)};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks)}};function isPossiblyDangerousMemberName(name){return name=="constructor"}var objectValueOf=Object.prototype.valueOf;function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap();var cacheExpensive=createMap();var literals={true:true,false:false,null:null,undefined:undefined};var identStart,identContinue;this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue};this.setIdentifierFns=function(identifierStart,identifierContinue){identStart=identifierStart;identContinue=identifierContinue;return this};this.$get=["$filter",function($filter){var noUnsafeEval=csp().noUnsafeEval;var $parseOptions={csp:noUnsafeEval,expensiveChecks:false,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue},$parseOptionsExpensive={csp:noUnsafeEval,expensiveChecks:true,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};var runningChecksEnabled=false;$parse.$$runningExpensiveChecks=function(){return runningChecksEnabled};return $parse;function $parse(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;expensiveChecks=expensiveChecks||runningChecksEnabled;switch(typeof exp){case"string":exp=exp.trim();cacheKey=exp;var cache=expensiveChecks?cacheExpensive:cacheDefault;parsedExpression=cache[cacheKey];if(!parsedExpression){if(exp.charAt(0)===":"&&exp.charAt(1)===":"){oneTime=true;exp=exp.substring(2)}var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions;var lexer=new Lexer(parseOptions);var parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp);if(parsedExpression.constant){parsedExpression.$$watchDelegate=constantWatchDelegate}else if(oneTime){parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate}else if(parsedExpression.inputs){parsedExpression.$$watchDelegate=inputsWatchDelegate}if(expensiveChecks){parsedExpression=expensiveChecksInterceptor(parsedExpression)}cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function expensiveChecksInterceptor(fn){if(!fn)return fn;expensiveCheckFn.$$watchDelegate=fn.$$watchDelegate;expensiveCheckFn.assign=expensiveChecksInterceptor(fn.assign);expensiveCheckFn.constant=fn.constant;
expensiveCheckFn.literal=fn.literal;for(var i=0;fn.inputs&&i<fn.inputs.length;++i){fn.inputs[i]=expensiveChecksInterceptor(fn.inputs[i])}expensiveCheckFn.inputs=fn.inputs;return expensiveCheckFn;function expensiveCheckFn(scope,locals,assign,inputs){var expensiveCheckOldValue=runningChecksEnabled;runningChecksEnabled=true;try{return fn(scope,locals,assign,inputs)}finally{runningChecksEnabled=expensiveCheckOldValue}}}function expressionInputDirtyCheck(newValue,oldValueOfValue){if(newValue==null||oldValueOfValue==null){return newValue===oldValueOfValue}if(typeof newValue==="object"){newValue=getValueOf(newValue);if(typeof newValue==="object"){return false}}return newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var inputExpressions=parsedExpression.inputs;var lastResult;if(inputExpressions.length===1){var oldInputValueOf=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValueOf)){lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]);oldInputValueOf=newInputValue&&getValueOf(newInputValue)}return lastResult},listener,objectEquality,prettyPrintExpression)}var oldInputValueOfValues=[];var oldInputValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;oldInputValues[i]=null}return scope.$watch(function expressionInputsWatch(scope){var changed=false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i]))){oldInputValues[i]=newInputValue;oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue)}}if(changed){lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)}return lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope)},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.apply(this,arguments)}if(isDefined(value)){scope.$$postDigest(function(){if(isDefined(lastValue)){unwatch()}})}},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope)},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.call(this,value,old,scope)}if(isAllDefined(value)){scope.$$postDigest(function(){if(isAllDefined(lastValue))unwatch()})}},objectEquality);function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false});return allDefined}}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function constantWatch(scope){unwatch();return parsedExpression(scope)},listener,objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate;var useInputs=false;var regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate;var fn=regularWatch?function regularInterceptedExpression(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function oneTimeInterceptedExpression(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs);var result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};if(parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate){fn.$$watchDelegate=parsedExpression.$$watchDelegate}else if(!interceptorFn.$stateful){fn.$$watchDelegate=inputsWatchDelegate;useInputs=!parsedExpression.inputs;fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]}return fn}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){var $qMinErr=minErr("$q",TypeError);var defer=function(){var d=new Deferred;d.resolve=simpleBind(d,d.resolve);d.reject=simpleBind(d,d.reject);d.notify=simpleBind(d,d.notify);return d};function Promise(){this.$$state={status:0}}extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack)){return this}var result=new Deferred;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result.promise},catch:function(callback){return this.then(null,callback)},finally:function(callback,progressBack){return this.then(function(value){return handleCallback(value,true,callback)},function(error){return handleCallback(error,false,callback)},progressBack)}});function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,deferred,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;for(var i=0,ii=pending.length;i<ii;++i){deferred=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn)){deferred.resolve(fn(state.value))}else if(state.status===1){deferred.resolve(state.value)}else{deferred.reject(state.value)}}catch(e){deferred.reject(e);exceptionHandler(e)}}}function scheduleProcessQueue(state){if(state.processScheduled||!state.pending)return;state.processScheduled=true;nextTick(function(){processQueue(state)})}function Deferred(){this.promise=new Promise}extend(Deferred.prototype,{resolve:function(val){if(this.promise.$$state.status)return;if(val===this.promise){this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val))}else{this.$$resolve(val)}},$$resolve:function(val){var then;var that=this;var done=false;try{if(isObject(val)||isFunction(val))then=val&&val.then;if(isFunction(then)){this.promise.$$state.status=-1;then.call(val,resolvePromise,rejectPromise,simpleBind(this,this.notify))}else{this.promise.$$state.value=val;this.promise.$$state.status=1;scheduleProcessQueue(this.promise.$$state)}}catch(e){rejectPromise(e);exceptionHandler(e)}function resolvePromise(val){if(done)return;done=true;that.$$resolve(val)}function rejectPromise(val){if(done)return;done=true;that.$$reject(val)}},reject:function(reason){if(this.promise.$$state.status)return;this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason;this.promise.$$state.status=2;scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;if(this.promise.$$state.status<=0&&callbacks&&callbacks.length){nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}}});var reject=function(reason){var result=new Deferred;result.reject(reason);return result.promise};var makePromise=function makePromise(value,resolved){var result=new Deferred;if(resolved){result.resolve(value)}else{result.reject(value)}return result.promise};var handleCallback=function handleCallback(value,isResolved,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback()}catch(e){return makePromise(e,false)}if(isPromiseLike(callbackOutput)){return callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,false)})}else{return makePromise(value,isResolved)}};var when=function(value,callback,errback,progressBack){var result=new Deferred;result.resolve(value);return result.promise.then(callback,errback,progressBack)};var resolve=when;function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){if(results.hasOwnProperty(key))return;results[key]=value;if(!--counter)deferred.resolve(results)},function(reason){if(results.hasOwnProperty(key))return;deferred.reject(reason)})});if(counter===0){deferred.resolve(results)}return deferred.promise}function race(promises){var deferred=defer();forEach(promises,function(promise){when(promise).then(deferred.resolve,deferred.reject)});return deferred.promise}var $Q=function Q(resolver){if(!isFunction(resolver)){throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver)}var deferred=new Deferred;function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}resolver(resolveFn,rejectFn);return deferred.promise};$Q.prototype=Promise.prototype;$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.resolve=resolve;$Q.all=all;$Q.race=race;return $Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer)}};raf.supported=rafSupported;return raf}]}function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr("$rootScope");var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length){TTL=value}return TTL};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null}ChildScope.prototype=parent;return ChildScope}this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true}function cleanUpScope($scope){if(msie===9){$scope.$$childHead&&cleanUpScope($scope.$$childHead);$scope.$$nextSibling&&cleanUpScope($scope.$$nextSibling)}$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope;child.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=createChildScopeClass(this)}child=new this.$$ChildScope}child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else{parent.$$childHead=parent.$$childTail=child}if(isolate||parent!=this)child.$on("$destroy",destroyChildScope);return child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate){return get.$$watchDelegate(this,listener,objectEquality,get,watchExp)}var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!isFunction(listener)){watcher.fn=noop}if(!array){array=scope.$$watchers=[]}array.unshift(watcher);incrementWatchersCount(this,1);return function deregisterWatch(){if(arrayRemove(array,watcher)>=0){incrementWatchersCount(scope,-1)}lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self)});return function deregisterWatchGroup(){shouldCall=false}}if(watchExpressions.length===1){return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,value===oldValue?newValues:oldValues,scope)})}forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value,oldValue){newValues[i]=value;oldValues[i]=oldValue;if(!changeReactionScheduled){changeReactionScheduled=true;self.$evalAsync(watchGroupAction)}});deregisterFns.push(unwatchFn)});function watchGroupAction(){changeReactionScheduled=false;if(firstRun){firstRun=false;listener(newValues,newValues,self)}else{listener(newValues,oldValues,self)}}return function deregisterWatchGroup(){while(deregisterFns.length){deregisterFns.shift()()}}},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$stateful=true;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=listener.length>1;var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=newValue;changeDetected++}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++}newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength}for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[i]=newItem}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++}newLength=0;for(key in newValue){if(hasOwnProperty.call(newValue,key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[key]=newItem}}else{oldLength++;oldValue[key]=newItem;changeDetected++}}}if(oldLength>newLength){changeDetected++;for(key in oldValue){if(!hasOwnProperty.call(newValue,key)){oldLength--;delete oldValue[key]}}}}return changeDetected}function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self)}else{listener(newValue,veryOldValue,self)}if(trackVeryOldValue){if(!isObject(newValue)){veryOldValue=newValue}else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++){veryOldValue[i]=newValue[i]}}else{veryOldValue={};for(var key in newValue){if(hasOwnProperty.call(newValue,key)){veryOldValue[key]=newValue[key]}}}}}return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,fn,get,watchers,length,dirty,ttl=TTL,next,current,target=this,watchLog=[],logIdx,asyncTask;beginPhase("$digest");$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync()}lastDirtyWatch=null;do{dirty=false;current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{asyncTask=asyncQueue[asyncQueuePosition];asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=current.$$watchers){length=watchers.length;while(length--){try{watch=watchers[length];if(watch){get=watch.get;if((value=get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):typeof value==="number"&&typeof last==="number"&&isNaN(value)&&isNaN(last))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;fn=watch.fn;fn(value,last===initWatchVal?value:last,current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last})}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop}}}catch(e){$exceptionHandler(e)}}}if(!(next=current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}while(current=next);if((dirty||asyncQueue.length)&&!ttl--){clearPhase();throw $rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",TTL,watchLog)}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueuePosition<postDigestQueue.length){try{postDigestQueue[postDigestQueuePosition++]()}catch(e){$exceptionHandler(e)}}postDigestQueue.length=postDigestQueuePosition=0},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===$rootScope){$browser.$$applicationDestroyed()}incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount){decrementListenerCount(this,this.$$listenerCount[eventName],eventName)}if(parent&&parent.$$childHead==this)parent.$$childHead=this.$$nextSibling;if(parent&&parent.$$childTail==this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop};this.$$listeners={};this.$$nextSibling=null;cleanUpScope(this)},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length){$browser.defer(function(){if(asyncQueue.length){$rootScope.$digest()}})}asyncQueue.push({scope:this,expression:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){$exceptionHandler(e);throw e}}},$applyAsync:function(expr){var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression);expr=$parse(expr);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr)}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners){this.$$listeners[name]=namedListeners=[]}namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name]){current.$$listenerCount[name]=0}current.$$listenerCount[name]++}while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);if(indexOfListener!==-1){namedListeners[indexOfListener]=null;decrementListenerCount(self,1,name)}}},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true},preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue}try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(stopPropagation){event.currentScope=null;return event}scope=scope.$parent}while(scope);event.currentScope=null;return event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false};if(!target.$$listenerCount[name])return event;var listenerArgs=concat([event],arguments,1),listeners,i,length;while(current=next){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue}try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}event.currentScope=null;return event}};var $rootScope=new Scope;var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];var postDigestQueuePosition=0;return $rootScope;function beginPhase(phase){if($rootScope.$$phase){throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase)}$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do{current.$$watchersCount+=count}while(current=current.$parent)}function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0){delete current.$$listenerCount[name]}}while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){while(applyAsyncQueue.length){try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}}applyAsyncId=null}function scheduleApplyAsync(){if(applyAsyncId===null){applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)})}}}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this}return aHrefSanitizationWhitelist};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this}return imgSrcSanitizationWhitelist};this.$get=function(){return function sanitizeUri(uri,isImage){var regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;var normalizedVal;normalizedVal=urlResolve(uri).href;if(normalizedVal!==""&&!normalizedVal.match(regex)){return"unsafe:"+normalizedVal}return uri}}}var $sceMinErr=minErr("$sce");var SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function adjustMatcher(matcher){if(matcher==="self"){return matcher}else if(isString(matcher)){if(matcher.indexOf("***")>-1){throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher)}matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+matcher+"$")}else if(isRegExp(matcher)){return new RegExp("^"+matcher.source+"$")}else{throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers)){forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))})}return adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){if(arguments.length){resourceUrlWhitelist=adjustMatchers(value)}return resourceUrlWhitelist};this.resourceUrlBlacklist=function(value){if(arguments.length){resourceUrlBlacklist=adjustMatchers(value)}return resourceUrlBlacklist};this.$get=["$injector",function($injector){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};if($injector.has("$sanitize")){htmlSanitizer=$injector.get("$sanitize")}function matchUrl(matcher,parsedUrl){if(matcher==="self"){return urlIsSameOrigin(parsedUrl)}else{return!!matcher.exec(parsedUrl.href)}}function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=resourceUrlWhitelist.length;i<n;i++){if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=true;break}}if(allowed){for(i=0,n=resourceUrlBlacklist.length;i<n;i++){if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=false;break}}}return allowed}function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};if(Base){holderType.prototype=new Base}holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue()};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString()};return holderType}var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor){throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue)}if(trustedValue===null||isUndefined(trustedValue)||trustedValue===""){return trustedValue}if(typeof trustedValue!=="string"){throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type)}return new Constructor(trustedValue)}function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase){return maybeTrusted.$$unwrapTrustedValue()}else{return maybeTrusted}}function getTrusted(type,maybeTrusted){if(maybeTrusted===null||isUndefined(maybeTrusted)||maybeTrusted===""){return maybeTrusted}var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor){return maybeTrusted.$$unwrapTrustedValue()}if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted)){return maybeTrusted}else{throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}}else if(type===SCE_CONTEXTS.HTML){return htmlSanitizer(maybeTrusted)}throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length){enabled=!!value}return enabled};this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8){throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value};sce.valueOf=identity}sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant){return parsed}else{return $parse(expr,function(value){return sce.getTrusted(type,value)})}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)};sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)};sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}});return sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},isChromePackagedApp=$window.chrome&&$window.chrome.app&&$window.chrome.app.runtime,hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorPrefix,vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=false,animations=false,match;if(bodyStyle){for(var prop in bodyStyle){if(match=vendorRegex.exec(prop)){vendorPrefix=match[0];vendorPrefix=vendorPrefix[0].toUpperCase()+vendorPrefix.substr(1);break}}if(!vendorPrefix){vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"}transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle);animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle);if(android&&(!transitions||!animations)){transitions=isString(bodyStyle.webkitTransition);animations=isString(bodyStyle.webkitAnimation)}}return{history:!!(hasHistoryPushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==="input"&&msie<=11)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}var $templateRequestMinErr=minErr("$compile");function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){if(val){httpOptions=val;return this}return httpOptions};this.$get=["$templateCache","$http","$q","$sce",function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;if(!isString(tpl)||isUndefined($templateCache.get(tpl))){tpl=$sce.getTrustedResourceUrl(tpl)}var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse)){transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform})}else if(transformResponse===defaultHttpResponseTransform){transformResponse=null}return $http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions))["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){$templateCache.put(tpl,response.data);return response.data},handleError);function handleError(resp){if(!ignoreRequestError){throw $templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText)}return $q.reject(resp)}}handleRequestFn.totalPendingRequests=0;return handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding");var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");if(dataBinding){forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");if(matcher.test(bindingName)){matches.push(binding)}}else{if(bindingName.indexOf(expression)!=-1){matches.push(binding)}}})}});return matches};testability.findModels=function(element,expression,opt_exactMatch){
var prefixes=["ng-","data-ng-","ng\\:"];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=";var selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length){return elements}}};testability.getLocation=function(){return $location.url()};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest()}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)};return testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){if(!isFunction(fn)){invokeApply=delay;delay=fn;fn=noop}var args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e);$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}if(!skipApply)$rootScope.$apply()},delay);promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise}timeout.cancel=function(promise){if(promise&&promise.$$timeoutId in deferreds){deferreds[promise.$$timeoutId].reject("canceled");delete deferreds[promise.$$timeoutId];return $browser.defer.cancel(promise.$$timeoutId)}return false};return timeout}]}var urlParsingNode=window.document.createElement("a");var originUrl=urlResolve(window.location.href);function urlResolve(url){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){var rawDocument=$document[0]||{};var lastCookies={};var lastCookieString="";function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}return function(){var cookieArray,cookie,i,index,name;var currentCookieString=rawDocument.cookie||"";if(currentCookieString!==lastCookieString){lastCookieString=currentCookieString;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf("=");if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(isUndefined(lastCookies[name])){lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))}}}}return lastCookies}}$$CookieReader.$inject=["$document"];function $$CookieReaderProvider(){this.$get=$$CookieReader}$FilterProvider.$inject=["$provide"];function $FilterProvider($provide){var suffix="Filter";function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter)});return filters}else{return $provide.factory(name+suffix,factory)}}this.register=register;this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}];register("currency",currencyFilter);register("date",dateFilter);register("filter",filterFilter);register("json",jsonFilter);register("limitTo",limitToFilter);register("lowercase",lowercaseFilter);register("number",numberFilter);register("orderBy",orderByFilter);register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array)){if(array==null){return array}else{throw minErr("filter")("notarray","Expected array but received: {0}",array)}}anyPropertyKey=anyPropertyKey||"$";var expressionType=getTypeForFilter(expression);var predicateFn;var matchAgainstAnyProp;switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=true;case"object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;var predicateFn;if(comparator===true){comparator=equals}else if(!isFunction(comparator)){comparator=function(actual,expected){if(isUndefined(actual)){return false}if(actual===null||expected===null){return actual===expected}if(isObject(expected)||isObject(actual)&&!hasCustomToString(actual)){return false}actual=lowercase(""+actual);expected=lowercase(""+expected);return actual.indexOf(expected)!==-1}}predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item)){return deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,false)}return deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)};return predicateFn}function deepCompare(actual,expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual);var expectedType=getTypeForFilter(expected);if(expectedType==="string"&&expected.charAt(0)==="!"){return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp)}else if(isArray(actual)){return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)})}switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual){if(key.charAt(0)!=="$"&&deepCompare(actual[key],expected,comparator,anyPropertyKey,true)){return true}}return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,anyPropertyKey,false)}else if(expectedType==="object"){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal)){continue}var matchAnyProperty=key===anyPropertyKey;var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,anyPropertyKey,matchAnyProperty,matchAnyProperty)){return false}}return true}else{return comparator(actual,expected)}break;case"function":return false;default:return comparator(actual,expected)}}function getTypeForFilter(val){return val===null?"null":typeof val}var MAX_DIGITS=22;var DECIMAL_SEP=".";var ZERO_CHAR="0";currencyFilter.$inject=["$locale"];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(isUndefined(currencySymbol)){currencySymbol=formats.CURRENCY_SYM}if(isUndefined(fractionSize)){fractionSize=formats.PATTERNS[1].maxFrac}return amount==null?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}numberFilter.$inject=["$locale"];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return number==null?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var exponent=0,digits,numberOfIntegerDigits;var i,j,zeros;if((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1){numStr=numStr.replace(DECIMAL_SEP,"")}if((i=numStr.search(/e/i))>0){if(numberOfIntegerDigits<0)numberOfIntegerDigits=i;numberOfIntegerDigits+=+numStr.slice(i+1);numStr=numStr.substring(0,i)}else if(numberOfIntegerDigits<0){numberOfIntegerDigits=numStr.length}for(i=0;numStr.charAt(i)==ZERO_CHAR;i++){}if(i==(zeros=numStr.length)){digits=[0];numberOfIntegerDigits=1}else{zeros--;while(numStr.charAt(zeros)==ZERO_CHAR)zeros--;numberOfIntegerDigits-=i;digits=[];for(j=0;i<=zeros;i++,j++){digits[j]=+numStr.charAt(i)}}if(numberOfIntegerDigits>MAX_DIGITS){digits=digits.splice(0,MAX_DIGITS-1);exponent=numberOfIntegerDigits-1;numberOfIntegerDigits=1}return{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d;var fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i;var digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++){digits[j]=0}}else{fractionLen=Math.max(0,fractionLen);parsedNumber.i=1;digits.length=Math.max(1,roundAt=fractionSize+1);digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=5){if(roundAt-1<0){for(var k=0;k>roundAt;k--){digits.unshift(0);parsedNumber.i++}digits.unshift(1);parsedNumber.i++}else{digits[roundAt-1]++}}for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){d=d+carry;digits[i]=d%10;return Math.floor(d/10)},0);if(carry){digits.unshift(carry);parsedNumber.i++}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!(isString(number)||isNumber(number))||isNaN(number))return"";var isInfinity=!isFinite(number);var isZero=false;var numStr=Math.abs(number)+"",formattedText="",parsedNumber;if(isInfinity){formattedText=""}else{parsedNumber=parse(numStr);roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d;var integerLen=parsedNumber.i;var exponent=parsedNumber.e;var decimals=[];isZero=digits.reduce(function(isZero,d){return isZero&&!d},true);while(integerLen<0){digits.unshift(0);integerLen++}if(integerLen>0){decimals=digits.splice(integerLen,digits.length)}else{decimals=digits;digits=[0]}var groups=[];if(digits.length>=pattern.lgSize){groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""))}while(digits.length>pattern.gSize){groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""))}if(digits.length){groups.unshift(digits.join(""))}formattedText=groups.join(groupSep);if(decimals.length){formattedText+=decimalSep+decimals.join("")}if(exponent){formattedText+="e+"+exponent}}if(number<0&&!isZero){return pattern.negPre+formattedText+pattern.negSuf}else{return pattern.posPre+formattedText+pattern.posSuf}}function padNumber(num,digits,trim,negWrap){var neg="";if(num<0||negWrap&&num<=0){if(negWrap){num=-num+1}else{num=-num;neg="-"}}num=""+num;while(num.length<digits)num=ZERO_CHAR+num;if(trim){num=num.substr(num.length-digits)}return neg+num}function dateGetter(name,size,offset,trim,negWrap){offset=offset||0;return function(date){var value=date["get"+name]();if(offset>0||value>-offset){value+=offset}if(value===0&&offset==-12)value=12;return padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name]();var propPrefix=(standAlone?"STANDALONE":"")+(shortForm?"SHORT":"");var get=uppercase(propPrefix+name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset;var paddedZone=zone>=0?"+":"";paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2);return paddedZone}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,false,true),yy:dateGetter("FullYear",2,0,true,true),y:dateGetter("FullYear",1,0,false,true),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",true),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",false,true),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=toInt(match[9]+match[10]);tzMin=toInt(match[9]+match[11])}dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour;var m=toInt(match[5]||0)-tzMin;var s=toInt(match[6]||0);var ms=Math.round(parseFloat("0."+(match[7]||0))*1e3);timeSetter.call(date,h,m,s,ms);return date}return string}return function(date,format,timezone){var text="",parts=[],fn,match;format=format||"mediumDate";format=$locale.DATETIME_FORMATS[format]||format;if(isString(date)){date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)}if(isNumber(date)){date=new Date(date)}if(!isDate(date)||!isFinite(date.getTime())){return date}while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop()}else{parts.push(format);format=null}}var dateTimezoneOffset=date.getTimezoneOffset();if(timezone){dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);date=convertTimezoneToLocal(date,timezone,true)}forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value==="''"?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return text}}function jsonFilter(){return function(object,spacing){if(isUndefined(spacing)){spacing=2}return toJson(object,spacing)}}var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit,begin){if(Math.abs(Number(limit))===Infinity){limit=Number(limit)}else{limit=toInt(limit)}if(isNaN(limit))return input;if(isNumber(input))input=input.toString();if(!isArrayLike(input))return input;begin=!begin||isNaN(begin)?0:toInt(begin);begin=begin<0?Math.max(0,input.length+begin):begin;if(limit>=0){return sliceFn(input,begin,begin+limit)}else{if(begin===0){return sliceFn(input,limit,input.length)}else{return sliceFn(input,Math.max(0,begin+limit),begin)}}}}function sliceFn(input,begin,end){if(isString(input))return input.slice(begin,end);return slice.call(input,begin,end)}orderByFilter.$inject=["$parse"];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder,compareFn){if(array==null)return array;if(!isArrayLike(array)){throw minErr("orderBy")("notarray","Expected array but received: {0}",array)}if(!isArray(sortPredicate)){sortPredicate=[sortPredicate]}if(sortPredicate.length===0){sortPredicate=["+"]}var predicates=processPredicates(sortPredicate);var descending=reverseOrder?-1:1;var compare=isFunction(compareFn)?compareFn:defaultCompare;var compareValues=Array.prototype.map.call(array,getComparisonObject);compareValues.sort(doComparison);array=compareValues.map(function(item){return item.value});return array;function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],v2.predicateValues[i]);if(result){return result*predicates[i].descending*descending}}return compare(v1.tieBreaker,v2.tieBreaker)*descending}};function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate)){get=predicate}else if(isString(predicate)){if(predicate.charAt(0)=="+"||predicate.charAt(0)=="-"){descending=predicate.charAt(0)=="-"?-1:1;predicate=predicate.substring(1)}if(predicate!==""){get=$parse(predicate);if(get.constant){var key=get();get=function(value){return value[key]}}}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return true;default:return false}}function objectValue(value){if(isFunction(value.valueOf)){value=value.valueOf();if(isPrimitive(value))return value}if(hasCustomToString(value)){value=value.toString();if(isPrimitive(value))return value}return value}function getPredicateValue(value,index){var type=typeof value;if(value===null){type="string";value="null"}else if(type==="object"){value=objectValue(value)}return{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0;var type1=v1.type;var type2=v2.type;if(type1===type2){var value1=v1.value;var value2=v2.value;if(type1==="string"){value1=value1.toLowerCase();value2=value2.toLowerCase()}else if(type1==="object"){if(isObject(value1))value1=v1.index;if(isObject(value2))value2=v2.index}if(value1!==value2){result=value1<value2?-1:1}}else{result=type1<type2?-1:1}return result}}function ngDirective(directive){if(isFunction(directive)){directive={link:directive}}directive.restrict=directive.restrict||"AC";return valueFn(directive)}var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref){return function(scope,element){if(element[0].nodeName.toLowerCase()!=="a")return;var href=toString.call(element.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";element.on("click",function(event){if(!element.attr(href)){event.preventDefault()}})}}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName=="multiple")return;function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value)})}var normalized=directiveNormalize("ng-"+attrName);var linkFn=defaultLinkFn;if(propName==="checked"){linkFn=function(scope,element,attr){if(attr.ngModel!==attr[normalized]){defaultLinkFn(scope,element,attr)}}}ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)=="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return}}scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value)})}}}});forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==="href"&&toString.call(element.prop("href"))==="[object SVGAnimatedString]"){name="xlinkHref";attr.$attr[name]="xlink:href";propName=null}attr.$observe(normalized,function(value){if(!value){if(attrName==="href"){attr.$set(name,null)}return}attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name])})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";function nullFormRenameControl(control,name){control.$name=name}FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[];form.$error={};form.$$success={};form.$pending=undefined;form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope);form.$dirty=false;form.$pristine=true;form.$valid=true;form.$invalid=false;form.$submitted=false;form.$$parentForm=nullFormCtrl;form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})};form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})};form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input");controls.push(control);if(control.$name){form[control.$name]=control}control.$$parentForm=form};form.$$renameControl=function(control,newName){var oldName=control.$name;if(form[oldName]===control){delete form[oldName]}form[newName]=control;control.$name=newName};form.$removeControl=function(control){if(control.$name&&form[control.$name]===control){delete form[control.$name]}forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)});forEach(form.$error,function(value,name){form.$setValidity(name,null,control)});forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)});arrayRemove(controls,control);control.$$parentForm=nullFormCtrl};addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(!list){object[property]=[controller]}else{var index=list.indexOf(controller);if(index===-1){list.push(controller)}}},unset:function(object,property,controller){var list=object[property];if(!list){return}arrayRemove(list,controller);if(list.length===0){delete object[property]}},$animate:$animate});form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS);$animate.addClass(element,DIRTY_CLASS);form.$dirty=true;form.$pristine=false;form.$$parentForm.$setDirty()};form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS);form.$dirty=false;form.$pristine=true;form.$submitted=false;forEach(controls,function(control){control.$setPristine()})};form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})};form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS);form.$submitted=true;form.$$parentForm.$setSubmitted()}}var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":false;return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted()});event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission);formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,false)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;if(nameAttr){setter(scope,controller);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,undefined);controller.$$parentForm.$$renameControl(controller,newValue);setter=getSetter(controller.$name);setter(scope,controller)})}formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller);setter(scope,undefined);extend(controller,nullFormCtrl)})}}}};return formDirective;function getSetter(expression){if(expression===""){return $parse('this[""]').assign}return $parse(expression).assign||noop}}]};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);var ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4,})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown";var PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=true});var inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=false;element.on("compositionstart",function(){composing=true});element.on("compositionend",function(){composing=false;listener()})}var timeout;var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null}if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=="password"&&(!attr.ngTrim||attr.ngTrim!=="false")){value=trim(value)}if(ctrl.$viewValue!==value||value===""&&ctrl.$$hasNativeValidators){ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input")){element.on("input",listener)}else{var deferListener=function(ev,input,origValue){if(!timeout){timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue){listener(ev)}})}};element.on("keydown",function(event){var key=event.keyCode;if(key===91||15<key&&key<19||37<=key&&key<=40)return;deferListener(event,this,this.value)});if($sniffer.hasEvent("paste")){element.on("paste cut",deferListener)}}element.on("change",listener);if(PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type){element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY];var origBadInput=validity.badInput;var origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null;if(validity.badInput!==origBadInput||validity.typeMismatch!==origTypeMismatch){listener(ev)}})}})}ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;if(element.val()!==value){element.val(value)}}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek)){return isoWeek}if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds()}return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso)){return iso}if(isString(iso)){if(iso.charAt(0)=='"'&&iso.charAt(iso.length-1)=='"'){iso=iso.substring(1,iso.length-1)}if(ISO_DATE_REGEXP.test(iso)){return new Date(iso)}regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(date){map={yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}}else{map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}forEach(parts,function(part,index){if(index<mapping.length){map[mapping[index]]=+part}});return new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1e3||0)}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;var previousDate;ctrl.$$parserName=type;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);if(timezone){parsedDate=convertTimezoneToLocal(parsedDate,timezone)}return parsedDate}return undefined});ctrl.$formatters.push(function(value){if(value&&!isDate(value)){throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value)}if(isValidDate(value)){previousDate=value;if(previousDate&&timezone){previousDate=convertTimezoneToLocal(previousDate,timezone,true)}return $filter("date")(value,format,timezone)}else{previousDate=null;return""}});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal};attr.$observe("min",function(val){minVal=parseObservedDateValue(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal};attr.$observe("max",function(val){maxVal=parseObservedDateValue(val);ctrl.$validate()})}function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDate(val)||undefined:val}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation){ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput||validity.typeMismatch?undefined:value})}}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);ctrl.$$parserName="number";ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value)){throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);
}value=value.toString()}return value});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal};attr.$observe("min",function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val)}minVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal};attr.$observe("max",function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val)}maxVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName="url";ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName="email";ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){if(isUndefined(attr.name)){element.attr("name",nextUid())}var listener=function(ev){if(element[0].checked){ctrl.$setViewValue(attr.value,ev&&ev.type)}};element.on("click",listener);ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue};attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant){throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",name,expression)}return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue};ctrl.$isEmpty=function(value){return value===false};ctrl.$formatters.push(function(value){return equals(value,trueValue)});ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}var inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0]){(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}}];var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)){return function ngValueConstantLink(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}}else{return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){attr.$set("value",value)})}}}}};var ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=isUndefined(value)?"":value})}}}}];var ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}];var ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function sceValueOf(val){return $sce.valueOf(val)});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}];var ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}});function classDirective(name,selector){name="ngClass"+name;return["$animate",function($animate){return{restrict:"AC",link:function(scope,element,attr){var oldVal;scope.$watch(attr[name],ngClassWatchAction,true);attr.$observe("class",function(value){ngClassWatchAction(scope.$eval(attr[name]))});if(name!=="ngClass"){scope.$watch("$index",function($index,old$index){var mod=$index&1;if(mod!==(old$index&1)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||createMap();var classesToUpdate=[];forEach(classes,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0)){classesToUpdate.push(className)}}});element.data("$classCounts",classCounts);return classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses);var toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1);toRemove=digestClassCounts(toRemove,-1);if(toAdd&&toAdd.length){$animate.addClass(element,toAdd)}if(toRemove&&toRemove.length){$animate.removeClass(element,toRemove)}}function ngClassWatchAction(newVal){if(selector===true||(scope.$index&1)===selector){var newClasses=arrayClasses(newVal||[]);if(!oldVal){addClasses(newClasses)}else if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}if(isArray(newVal)){oldVal=newVal.map(function(v){return shallowCopy(v)})}else{oldVal=shallowCopy(newVal)}}}};function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer}values.push(token)}return values}function arrayClasses(classVal){var classes=[];if(isArray(classVal)){forEach(classVal,function(v){classes=classes.concat(arrayClasses(v))});return classes}else if(isString(classVal)){return classVal.split(" ")}else if(isObject(classVal)){forEach(classVal,function(v,k){if(v){classes=classes.concat(k.split(" "))}});return classes}return classVal}}]}var ngClassDirective=classDirective("",true);var ngClassOddDirective=classDirective("Odd",0);var ngClassEvenDirective=classDirective("Even",1);var ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined);element.removeClass("ng-cloak")}});var ngControllerDirective=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var ngEventDirectives={};var forceAsyncEvents={blur:true,focus:true};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,true);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};if(forceAsyncEvents[eventName]&&$rootScope.$$phase){scope.$evalAsync(callback)}else{scope.$apply(callback)}})}}}}]});var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope){$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf);block={clone:clone};$animate.enter(clone,$element.parent(),$element)})}}else{if(previousElements){previousElements.remove();previousElements=null}if(childScope){childScope.$destroy();childScope=null}if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).then(function(){previousElements=null});block=null}}})}}}];var ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(){if(isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(scope.$$destroyed)return;if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src);scope.$eval(onloadExp)},function(){if(scope.$$destroyed)return;if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",src)}else{cleanupLastIncludeContent();ctrl.template=null}})}}}}];var ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/)){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone)},{futureParentElement:$element});return}$element.html(ctrl.template);$compile($element.contents())(scope)}}}];var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}});var ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ";var trimValues=attr.ngTrim!=="false";var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue){forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?trim(value):value)})}return list};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value)){return value.join(ngList)}return undefined});ctrl.$isEmpty=function(value){return!value||!value.length}}}};var VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty";var ngModelMinErr=minErr("ngModel");var NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||"",false)($scope);this.$$parentForm=nullFormCtrl;var parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,parserValid,ctrl=this;this.$$setOptions=function(options){ctrl.$options=options;if(options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);if(isFunction(modelValue)){modelValue=invokeModelGetter($scope)}return modelValue};ngModelSet=function($scope,newValue){if(isFunction(parsedNgModel($scope))){invokeModelSetter($scope,{$$$p:newValue})}else{parsedNgModelAssign($scope,newValue)}}}else if(!parsedNgModel.assign){throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))}};this.$render=noop;this.$isEmpty=function(value){return isUndefined(value)||value===""||value===null||value!==value};this.$$updateEmptyClasses=function(value){if(ctrl.$isEmpty(value)){$animate.removeClass($element,NOT_EMPTY_CLASS);$animate.addClass($element,EMPTY_CLASS)}else{$animate.removeClass($element,EMPTY_CLASS);$animate.addClass($element,NOT_EMPTY_CLASS)}};var currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=true},unset:function(object,property){delete object[property]},$animate:$animate});this.$setPristine=function(){ctrl.$dirty=false;ctrl.$pristine=true;$animate.removeClass($element,DIRTY_CLASS);$animate.addClass($element,PRISTINE_CLASS)};this.$setDirty=function(){ctrl.$dirty=true;ctrl.$pristine=false;$animate.removeClass($element,PRISTINE_CLASS);$animate.addClass($element,DIRTY_CLASS);ctrl.$$parentForm.$setDirty()};this.$setUntouched=function(){ctrl.$touched=false;ctrl.$untouched=true;$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)};this.$setTouched=function(){ctrl.$touched=true;ctrl.$untouched=false;$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)};this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce);ctrl.$viewValue=ctrl.$$lastCommittedViewValue;ctrl.$render()};this.$validate=function(){if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){return}var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=ctrl.$$rawModelValue;var prevValid=ctrl.$valid;var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){ctrl.$modelValue=allValid?modelValue:undefined;if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope()}}})};this.$$runValidators=function(modelValue,viewValue,doneCallback){currentValidationRunId++;var localValidationRunId=currentValidationRunId;if(!processParseErrors()){validationDone(false);return}if(!processSyncValidators()){validationDone(false);return}processAsyncValidators();function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";if(isUndefined(parserValid)){setValidity(errorKey,null)}else{if(!parserValid){forEach(ctrl.$validators,function(v,name){setValidity(name,null)});forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})}setValidity(errorKey,parserValid);return parserValid}return true}function processSyncValidators(){var syncValidatorsValid=true;forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result)});if(!syncValidatorsValid){forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)});return false}return true}function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise)){throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise)}setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,true)},function(){allValid=false;setValidity(name,false)}))});if(!validatorPromises.length){validationDone(true)}else{$q.all(validatorPromises).then(function(){validationDone(allValid)},noop)}}function setValidity(name,isValid){if(localValidationRunId===currentValidationRunId){ctrl.$setValidity(name,isValid)}}function validationDone(allValid){if(localValidationRunId===currentValidationRunId){doneCallback(allValid)}}};this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce);if(ctrl.$$lastCommittedViewValue===viewValue&&(viewValue!==""||!ctrl.$$hasNativeValidators)){return}ctrl.$$updateEmptyClasses(viewValue);ctrl.$$lastCommittedViewValue=viewValue;if(ctrl.$pristine){this.$setDirty()}this.$$parseAndValidate()};this.$$parseAndValidate=function(){var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=viewValue;parserValid=isUndefined(modelValue)?undefined:true;if(parserValid){for(var i=0;i<ctrl.$parsers.length;i++){modelValue=ctrl.$parsers[i](modelValue);if(isUndefined(modelValue)){parserValid=false;break}}}if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){ctrl.$modelValue=ngModelGet($scope)}var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue;if(allowInvalid){ctrl.$modelValue=modelValue;writeToModelIfNeeded()}ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){ctrl.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded()}});function writeToModelIfNeeded(){if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope()}}};this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue);forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})};this.$setViewValue=function(value,trigger){ctrl.$viewValue=value;if(!ctrl.$options||ctrl.$options.updateOnDefault){ctrl.$$debounceViewValueCommit(trigger)}};this.$$debounceViewValueCommit=function(trigger){var debounceDelay=0,options=ctrl.$options,debounce;if(options&&isDefined(options.debounce)){debounce=options.debounce;if(isNumber(debounce)){debounceDelay=debounce}else if(isNumber(debounce[trigger])){debounceDelay=debounce[trigger]}else if(isNumber(debounce["default"])){debounceDelay=debounce["default"]}}$timeout.cancel(pendingDebounce);if(debounceDelay){pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay)}else if($rootScope.$$phase){ctrl.$commitViewValue()}else{$scope.$apply(function(){ctrl.$commitViewValue()})}};$scope.$watch(function ngModelWatch(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue;parserValid=undefined;var formatters=ctrl.$formatters,idx=formatters.length;var viewValue=modelValue;while(idx--){viewValue=formatters[idx](viewValue)}if(ctrl.$viewValue!==viewValue){ctrl.$$updateEmptyClasses(viewValue);ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue;ctrl.$render();ctrl.$$runValidators(modelValue,viewValue,noop)}}return modelValue})}];var ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options);formCtrl.$addControl(modelCtrl);attr.$observe("name",function(newValue){if(modelCtrl.$name!==newValue){modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}});scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];if(modelCtrl.$options&&modelCtrl.$options.updateOn){element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)})}element.on("blur",function(){if(modelCtrl.$touched)return;if($rootScope.$$phase){scope.$evalAsync(modelCtrl.$setTouched)}else{scope.$apply(modelCtrl.$setTouched)}})}}}}}];var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;var ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions));if(isDefined(this.$options.updateOn)){this.$options.updateOnDefault=false;this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){that.$options.updateOnDefault=true;return" "}))}else{this.$options.updateOnDefault=true}}]}};function addSetValidityMethod(context){var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS));ctrl.$setValidity=setValidity;function setValidity(validationErrorKey,state,controller){if(isUndefined(state)){createAndSet("$pending",validationErrorKey,controller)}else{unsetAndCleanup("$pending",validationErrorKey,controller)}if(!isBoolean(state)){unset(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller)}else{if(state){unset(ctrl.$error,validationErrorKey,controller);set(ctrl.$$success,validationErrorKey,controller)}else{set(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller)}}if(ctrl.$pending){cachedToggleClass(PENDING_CLASS,true);ctrl.$valid=ctrl.$invalid=undefined;toggleValidationCss("",null)}else{cachedToggleClass(PENDING_CLASS,false);ctrl.$valid=isObjectEmpty(ctrl.$error);ctrl.$invalid=!ctrl.$valid;toggleValidationCss("",ctrl.$valid)}var combinedState;if(ctrl.$pending&&ctrl.$pending[validationErrorKey]){combinedState=undefined}else if(ctrl.$error[validationErrorKey]){combinedState=false}else if(ctrl.$$success[validationErrorKey]){combinedState=true}else{combinedState=null}toggleValidationCss(validationErrorKey,combinedState);ctrl.$$parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){if(!ctrl[name]){ctrl[name]={}}set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){if(ctrl[name]){unset(ctrl[name],value,controller)}if(isObjectEmpty(ctrl[name])){ctrl[name]=undefined}}function cachedToggleClass(className,switchValue){if(switchValue&&!classCache[className]){$animate.addClass($element,className);classCache[className]=true}else if(!switchValue&&classCache[className]){$animate.removeClass($element,className);classCache[className]=false}}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"";cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===false)}}function isObjectEmpty(obj){if(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false}}}return true}var ngNonBindableDirective=ngDirective({terminal:true,priority:1e3});var ngOptionsMinErr=minErr("ngOptions");var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match){throw ngOptionsMinErr("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement))}var valueName=match[5]||match[7];var keyName=match[6];var selectAs=/ as /.test(match[0])&&match[1];var trackBy=match[9];var valueFn=$parse(match[2]?match[1]:valueName);var selectAsFn=selectAs&&$parse(selectAs);var viewValueFn=selectAsFn||valueFn;var trackByFn=trackBy&&$parse(trackBy);var getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function getHashOfValue(value){return hashKey(value)};var getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))};var displayFn=$parse(match[2]||match[1]);var groupByFn=$parse(match[3]||"");var disableWhenFn=$parse(match[4]||"");var valuesFn=$parse(match[8]);var locals={};var getLocals=keyName?function(value,key){locals[keyName]=key;locals[valueName]=value;return locals}:function(value){locals[valueName]=value;return locals};function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue;this.viewValue=viewValue;this.label=label;this.group=group;this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues)){optionValuesKeys=optionValues}else{optionValuesKeys=[];for(var itemKey in optionValues){if(optionValues.hasOwnProperty(itemKey)&&itemKey.charAt(0)!=="$"){optionValuesKeys.push(itemKey)}}}return optionValuesKeys}return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var selectValue=getTrackByValueFn(value,locals);watchedArray.push(selectValue);if(match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){var optionItems=[];var selectValueMap={};var optionValues=valuesFn(scope)||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var viewValue=viewValueFn(scope,locals);var selectValue=getTrackByValueFn(viewValue,locals);var label=displayFn(scope,locals);var group=groupByFn(scope,locals);var disabled=disableWhenFn(scope,locals);var optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem);selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue}}}}}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");function ngOptionsPostLink(scope,selectElement,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];var multiple=attr.multiple;var emptyOption;for(var i=0,children=selectElement.children(),ii=children.length;i<ii;i++){if(children[i].value===""){emptyOption=children.eq(i);break}}var providedEmptyOption=!!emptyOption;var unknownOption=jqLite(optionTemplate.cloneNode(false));unknownOption.val("?");var options;var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope);var listFragment=$document[0].createDocumentFragment();var renderEmptyOption=function(){if(!providedEmptyOption){selectElement.prepend(emptyOption)}selectElement.val("");emptyOption.prop("selected",true);emptyOption.attr("selected",true)};var removeEmptyOption=function(){if(!providedEmptyOption){emptyOption.remove()}};var renderUnknownOption=function(){selectElement.prepend(unknownOption);selectElement.val("?");unknownOption.prop("selected",true);unknownOption.attr("selected",true)};var removeUnknownOption=function(){unknownOption.remove()};if(!multiple){selectCtrl.writeValue=function writeNgOptionsValue(value){var option=options.getOptionFromViewValue(value);if(option){if(selectElement[0].value!==option.selectValue){removeUnknownOption();removeEmptyOption();selectElement[0].value=option.selectValue;option.element.selected=true}option.element.setAttribute("selected","selected")}else{if(value===null||providedEmptyOption){removeUnknownOption();renderEmptyOption()}else{removeEmptyOption();renderUnknownOption()}}};selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];if(selectedOption&&!selectedOption.disabled){removeEmptyOption();removeUnknownOption();return options.getViewValueFromOption(selectedOption)}return null};if(ngOptions.trackBy){scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})}}else{ngModelCtrl.$isEmpty=function(value){return!value||value.length===0};selectCtrl.writeValue=function writeNgOptionsMultiple(value){options.items.forEach(function(option){option.element.selected=false});if(value){value.forEach(function(item){var option=options.getOptionFromViewValue(item);if(option)option.element.selected=true})}};selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];forEach(selectedValues,function(value){var option=options.selectValueMap[value];if(option&&!option.disabled)selections.push(options.getViewValueFromOption(option))});return selections};if(ngOptions.trackBy){scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue)){return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})}},function(){ngModelCtrl.$render()})}}if(providedEmptyOption){emptyOption.remove();$compile(emptyOption)(scope);emptyOption.removeClass("ng-scope")}else{emptyOption=jqLite(optionTemplate.cloneNode(false))}selectElement.empty();updateOptions();scope.$watchCollection(ngOptions.getWatchables,updateOptions);function addOptionElement(option,parent){var optionElement=optionTemplate.cloneNode(false);parent.appendChild(optionElement);updateOptionElement(option,optionElement)}function updateOptionElement(option,element){option.element=element;element.disabled=option.disabled;if(option.label!==element.label){element.label=option.label;element.textContent=option.label}if(option.value!==element.value)element.value=option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options){for(var i=options.items.length-1;i>=0;i--){var option=options.items[i];if(isDefined(option.group)){jqLiteRemove(option.element.parentNode)}else{jqLiteRemove(option.element)}}}options=ngOptions.getOptions();var groupElementMap={};if(providedEmptyOption){selectElement.prepend(emptyOption);
}options.items.forEach(function addOption(option){var groupElement;if(isDefined(option.group)){groupElement=groupElementMap[option.group];if(!groupElement){groupElement=optGroupTemplate.cloneNode(false);listFragment.appendChild(groupElement);groupElement.label=option.group===null?"null":option.group;groupElementMap[option.group]=groupElement}addOptionElement(option,groupElement)}else{addOptionElement(option,listFragment)}});selectElement[0].appendChild(listFragment);ngModelCtrl.$render();if(!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();var isNotPrimitive=ngOptions.trackBy||multiple;if(isNotPrimitive?!equals(previousValue,nextValue):previousValue!==nextValue){ngModelCtrl.$setViewValue(nextValue);ngModelCtrl.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}];var ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNaN(count);if(!countIsNaN&&!(count in whens)){count=$locale.pluralCat(count-offset)}if(count!==lastCount&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];if(isUndefined(whenExpFn)){if(newVal!=null){$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp)}watchRemover=noop;updateElementText()}else{watchRemover=scope.$watch(whenExpFn,updateElementText)}lastCount=count}});function updateElementText(newText){element.text(newText||"")}}}}];var ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED";var ngRepeatMinErr=minErr("ngRepeat");var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=index===0;scope.$last=index===arrayLength-1;scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0)};var getBlockStart=function(block){return block.clone[0]};var getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression);var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!match){throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs)}var valueIdentifier=match[3]||match[1];var keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))){throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs)}var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn;var hashFnLocals={$id:hashKey};if(trackByExp){trackByExpGetter=$parse(trackByExp)}else{trackByIdArrayFn=function(key,value){return hashKey(value)};trackByIdObjFn=function(key){return key}}return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){if(trackByExpGetter){trackByIdExpFn=function(key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals)}}var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs){$scope[aliasAs]=collection}if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection){if(hasOwnProperty.call(collection,itemKey)&&itemKey.charAt(0)!=="$"){collectionKeys.push(itemKey)}}}collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block});throw ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value)}else{nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true}}for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode){for(index=0,length=elementsToRemove.length;index<length;index++){elementsToRemove[index][NG_REMOVED]=true}}block.scope.$destroy()}for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do{nextNode=nextNode.nextSibling}while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!=nextNode){$animate.move(getBlockNodes(block.clone),null,previousNode)}previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else{$transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);clone[clone.length++]=endNode;$animate.enter(clone,null,previousNode);previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)})}}lastBlockMap=nextBlockMap})}}}}];var NG_HIDE_CLASS="ng-hide";var NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate";var ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){if(oldStyles&&newStyles!==oldStyles){forEach(oldStyles,function(val,style){element.css(style,"")})}if(newStyles)element.css(newStyles)},true)});var ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function ngSwitchController(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;i<ii;++i){$animate.cancel(previousLeaveAnimations[i])}previousLeaveAnimations.length=0;for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0;selectedScopes.length=0;if(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"]){forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor)})})}})}}}];var ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[];ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}});var ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[];ctrl.cases["?"].push({transclude:$transclude,element:element})}});var ngTranscludeMinErr=minErr("ngTransclude");var ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",terminal:true,compile:function ngTranscludeCompile(tElement){var fallbackLinkFn=$compile(tElement.contents());tElement.empty();return function ngTranscludePostLink($scope,$element,$attrs,controller,$transclude){if(!$transclude){throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",startingTag($element))}if($attrs.ngTransclude===$attrs.$attr.ngTransclude){$attrs.ngTransclude=""}var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName);if(slotName&&!$transclude.isSlotFilled(slotName)){useFallbackContent()}function ngTranscludeCloneAttachFn(clone,transcludedScope){if(clone.length){$element.append(clone)}else{useFallbackContent();transcludedScope.$destroy()}}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}}}}}];var scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:true,compile:function(element,attr){if(attr.type=="text/ng-template"){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}];var noopNgModelController={$setViewValue:noop,$render:noop};function chromeHack(optionElement){if(optionElement[0].hasAttribute("selected")){optionElement[0].selected=true}}var SelectController=["$element","$scope",function($element,$scope){var self=this,optionsMap=new HashMap;self.ngModelCtrl=noopNgModelController;self.unknownOption=jqLite(window.document.createElement("option"));self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";self.unknownOption.val(unknownVal);$element.prepend(self.unknownOption);$element.val(unknownVal)};$scope.$on("$destroy",function(){self.renderUnknownOption=noop});self.removeUnknownOption=function(){if(self.unknownOption.parent())self.unknownOption.remove()};self.readValue=function readSingleValue(){self.removeUnknownOption();return $element.val()};self.writeValue=function writeSingleValue(value){if(self.hasOption(value)){self.removeUnknownOption();$element.val(value);if(value==="")self.emptyOption.prop("selected",true)}else{if(value==null&&self.emptyOption){self.removeUnknownOption();$element.val("")}else{self.renderUnknownOption(value)}}};self.addOption=function(value,element){if(element[0].nodeType===NODE_TYPE_COMMENT)return;assertNotHasOwnProperty(value,'"option value"');if(value===""){self.emptyOption=element}var count=optionsMap.get(value)||0;optionsMap.put(value,count+1);self.ngModelCtrl.$render();chromeHack(element)};self.removeOption=function(value){var count=optionsMap.get(value);if(count){if(count===1){optionsMap.remove(value);if(value===""){self.emptyOption=undefined}}else{optionsMap.put(value,count-1)}}};self.hasOption=function(value){return!!optionsMap.get(value)};self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(interpolateValueFn){var oldVal;optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){if(isDefined(oldVal)){self.removeOption(oldVal)}oldVal=newVal;self.addOption(newVal,optionElement)})}else if(interpolateTextFn){optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set("value",newVal);if(oldVal!==newVal){self.removeOption(oldVal)}self.addOption(newVal,optionElement)})}else{self.addOption(optionAttrs.value,optionElement)}optionElement.on("$destroy",function(){self.removeOption(optionAttrs.value);self.ngModelCtrl.$render()})}}];var selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}};function selectPreLink(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];selectCtrl.ngModelCtrl=ngModelCtrl;element.on("change",function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})});if(attr.multiple){selectCtrl.readValue=function readMultipleValue(){var array=[];forEach(element.find("option"),function(option){if(option.selected){array.push(option.value)}});return array};selectCtrl.writeValue=function writeMultipleValue(value){var items=new HashMap(value);forEach(element.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){if(lastViewRef===ngModelCtrl.$viewValue&&!equals(lastView,ngModelCtrl.$viewValue)){lastView=shallowCopy(ngModelCtrl.$viewValue);ngModelCtrl.$render()}lastViewRef=ngModelCtrl.$viewValue});ngModelCtrl.$isEmpty=function(value){return!value||value.length===0}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}};var optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){if(isDefined(attr.value)){var interpolateValueFn=$interpolate(attr.value,true)}else{var interpolateTextFn=$interpolate(element.text(),true);if(!interpolateTextFn){attr.$set("value",element.text())}}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl){selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}}];var styleDirective=valueFn({restrict:"E",terminal:false});var requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)};attr.$observe("required",function(){ctrl.$validate()})}}};var patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0){regex=new RegExp("^"+regex+"$")}if(regex&&!regex.test){throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm))}regexp=regex||undefined;ctrl.$validate()});ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}};var maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal;ctrl.$validate()});ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}};var minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0;ctrl.$validate()});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}};if(window.angular.bootstrap){if(window.console){console.log("WARNING: Tried to load angular more than once.")}return}bindJQuery();publishExternalAPI(angular);angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function getDecimals(n){n=n+"";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;if(undefined===v){v=Math.min(getDecimals(n),3)}var base=Math.pow(10,v);var f=(n*base|0)%base;return{v:v,f:f}}$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,opt_precision){var i=n|0;var vf=getVF(n,opt_precision);if(i==1&&vf.v==0){return PLURAL_CATEGORY.ONE}return PLURAL_CATEGORY.OTHER}})}]);jqLite(window.document).ready(function(){angularInit(window.document,bootstrap)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
(function(window,angular){"use strict";var ngTouch=angular.module("ngTouch",[]);ngTouch.provider("$touch",$TouchProvider);function nodeName_(element){return angular.lowercase(element.nodeName||element[0]&&element[0].nodeName)}$TouchProvider.$inject=["$provide","$compileProvider"];function $TouchProvider($provide,$compileProvider){var ngClickOverrideEnabled=false;var ngClickDirectiveAdded=false;this.ngClickOverrideEnabled=function(enabled){if(angular.isDefined(enabled)){if(enabled&&!ngClickDirectiveAdded){ngClickDirectiveAdded=true;ngTouchClickDirectiveFactory.$$moduleName="ngTouch";$compileProvider.directive("ngClick",ngTouchClickDirectiveFactory);$provide.decorator("ngClickDirective",["$delegate",function($delegate){if(ngClickOverrideEnabled){$delegate.shift()}else{var i=$delegate.length-1;while(i>=0){if($delegate[i].$$moduleName==="ngTouch"){$delegate.splice(i,1);break}i--}}return $delegate}])}ngClickOverrideEnabled=enabled;return this}return ngClickOverrideEnabled};this.$get=function(){return{ngClickOverrideEnabled:function(){return ngClickOverrideEnabled}}}}ngTouch.factory("$swipe",[function(){var MOVE_BUFFER_RADIUS=10;var POINTER_EVENTS={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};function getCoordinates(event){var originalEvent=event.originalEvent||event;var touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent];var e=originalEvent.changedTouches&&originalEvent.changedTouches[0]||touches[0];return{x:e.clientX,y:e.clientY}}function getEvents(pointerTypes,eventType){var res=[];angular.forEach(pointerTypes,function(pointerType){var eventName=POINTER_EVENTS[pointerType][eventType];if(eventName){res.push(eventName)}});return res.join(" ")}return{bind:function(element,eventHandlers,pointerTypes){var totalX,totalY;var startCoords;var lastPos;var active=false;pointerTypes=pointerTypes||["mouse","touch","pointer"];element.on(getEvents(pointerTypes,"start"),function(event){startCoords=getCoordinates(event);active=true;totalX=0;totalY=0;lastPos=startCoords;eventHandlers["start"]&&eventHandlers["start"](startCoords,event)});var events=getEvents(pointerTypes,"cancel");if(events){element.on(events,function(event){active=false;eventHandlers["cancel"]&&eventHandlers["cancel"](event)})}element.on(getEvents(pointerTypes,"move"),function(event){if(!active)return;if(!startCoords)return;var coords=getCoordinates(event);totalX+=Math.abs(coords.x-lastPos.x);totalY+=Math.abs(coords.y-lastPos.y);lastPos=coords;if(totalX<MOVE_BUFFER_RADIUS&&totalY<MOVE_BUFFER_RADIUS){return}if(totalY>totalX){active=false;eventHandlers["cancel"]&&eventHandlers["cancel"](event);return}else{event.preventDefault();eventHandlers["move"]&&eventHandlers["move"](coords,event)}});element.on(getEvents(pointerTypes,"end"),function(event){if(!active)return;active=false;eventHandlers["end"]&&eventHandlers["end"](getCoordinates(event),event)})}}}]);var ngTouchClickDirectiveFactory=["$parse","$timeout","$rootElement",function($parse,$timeout,$rootElement){var TAP_DURATION=750;var MOVE_TOLERANCE=12;var PREVENT_DURATION=2500;var CLICKBUSTER_THRESHOLD=25;var ACTIVE_CLASS_NAME="ng-click-active";var lastPreventedTime;var touchCoordinates;var lastLabelClickCoordinates;function hit(x1,y1,x2,y2){return Math.abs(x1-x2)<CLICKBUSTER_THRESHOLD&&Math.abs(y1-y2)<CLICKBUSTER_THRESHOLD}function checkAllowableRegions(touchCoordinates,x,y){for(var i=0;i<touchCoordinates.length;i+=2){if(hit(touchCoordinates[i],touchCoordinates[i+1],x,y)){touchCoordinates.splice(i,i+2);return true}}return false}function onClick(event){if(Date.now()-lastPreventedTime>PREVENT_DURATION){return}var touches=event.touches&&event.touches.length?event.touches:[event];var x=touches[0].clientX;var y=touches[0].clientY;if(x<1&&y<1){return}if(lastLabelClickCoordinates&&lastLabelClickCoordinates[0]===x&&lastLabelClickCoordinates[1]===y){return}if(lastLabelClickCoordinates){lastLabelClickCoordinates=null}if(nodeName_(event.target)==="label"){lastLabelClickCoordinates=[x,y]}if(checkAllowableRegions(touchCoordinates,x,y)){return}event.stopPropagation();event.preventDefault();event.target&&event.target.blur&&event.target.blur()}function onTouchStart(event){var touches=event.touches&&event.touches.length?event.touches:[event];var x=touches[0].clientX;var y=touches[0].clientY;touchCoordinates.push(x,y);$timeout(function(){for(var i=0;i<touchCoordinates.length;i+=2){if(touchCoordinates[i]==x&&touchCoordinates[i+1]==y){touchCoordinates.splice(i,i+2);return}}},PREVENT_DURATION,false)}function preventGhostClick(x,y){if(!touchCoordinates){$rootElement[0].addEventListener("click",onClick,true);$rootElement[0].addEventListener("touchstart",onTouchStart,true);touchCoordinates=[]}lastPreventedTime=Date.now();checkAllowableRegions(touchCoordinates,x,y)}return function(scope,element,attr){var clickHandler=$parse(attr.ngClick),tapping=false,tapElement,startTime,touchStartX,touchStartY;function resetState(){tapping=false;element.removeClass(ACTIVE_CLASS_NAME)}element.on("touchstart",function(event){tapping=true;tapElement=event.target?event.target:event.srcElement;if(tapElement.nodeType==3){tapElement=tapElement.parentNode}element.addClass(ACTIVE_CLASS_NAME);startTime=Date.now();var originalEvent=event.originalEvent||event;var touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent];var e=touches[0];touchStartX=e.clientX;touchStartY=e.clientY});element.on("touchcancel",function(event){resetState()});element.on("touchend",function(event){var diff=Date.now()-startTime;var originalEvent=event.originalEvent||event;var touches=originalEvent.changedTouches&&originalEvent.changedTouches.length?originalEvent.changedTouches:originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent];var e=touches[0];var x=e.clientX;var y=e.clientY;var dist=Math.sqrt(Math.pow(x-touchStartX,2)+Math.pow(y-touchStartY,2));if(tapping&&diff<TAP_DURATION&&dist<MOVE_TOLERANCE){preventGhostClick(x,y);if(tapElement){tapElement.blur()}if(!angular.isDefined(attr.disabled)||attr.disabled===false){element.triggerHandler("click",[event])}}resetState()});element.onclick=function(event){};element.on("click",function(event,touchend){scope.$apply(function(){clickHandler(scope,{$event:touchend||event})})});element.on("mousedown",function(event){element.addClass(ACTIVE_CLASS_NAME)});element.on("mousemove mouseup",function(event){element.removeClass(ACTIVE_CLASS_NAME)})}}];function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,["$parse","$swipe",function($parse,$swipe){var MAX_VERTICAL_DISTANCE=75;var MAX_VERTICAL_RATIO=.3;var MIN_HORIZONTAL_DISTANCE=30;return function(scope,element,attr){var swipeHandler=$parse(attr[directiveName]);var startCoords,valid;function validSwipe(coords){if(!startCoords)return false;var deltaY=Math.abs(coords.y-startCoords.y);var deltaX=(coords.x-startCoords.x)*direction;return valid&&deltaY<MAX_VERTICAL_DISTANCE&&deltaX>0&&deltaX>MIN_HORIZONTAL_DISTANCE&&deltaY/deltaX<MAX_VERTICAL_RATIO}var pointerTypes=["touch"];if(!angular.isDefined(attr["ngSwipeDisableMouse"])){pointerTypes.push("mouse")}$swipe.bind(element,{start:function(coords,event){startCoords=coords;valid=true},cancel:function(event){valid=false},end:function(coords,event){if(validSwipe(coords)){scope.$apply(function(){element.triggerHandler(eventName);swipeHandler(scope,{$event:event})})}}},pointerTypes)}}])}makeSwipeDirective("ngSwipeLeft",-1,"swipeleft");makeSwipeDirective("ngSwipeRight",1,"swiperight")})(window,window.angular);
(function(window,angular){"use strict";var $resourceMinErr=angular.$$minErr("$resource");var MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function isValidDottedPath(path){return path!=null&&path!==""&&path!=="hasOwnProperty"&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path)){throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path)}var keys=path.split(".");for(var i=0,ii=keys.length;i<ii&&angular.isDefined(obj);i++){var key=keys[i];obj=obj!==null?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{};angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src){if(src.hasOwnProperty(key)&&!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}return dst}angular.module("ngResource",["ng"]).provider("$resource",function(){var PROTOCOL_AND_DOMAIN_REGEX=/^https?:\/\/[^\/]*/;var provider=this;this.defaults={stripTrailingSlashes:true,cancellable:false,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},delete:{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function($http,$log,$q,$timeout){var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template;this.defaults=extend({},provider.defaults,defaults);this.urlParams={}}Route.prototype={setUrlParams:function(config,params,actionUrl){var self=this,url=actionUrl||self.template,val,encodedVal,protocolAndDomain="";var urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if(param==="hasOwnProperty"){throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)){urlParams[param]={isQueryParamValue:new RegExp("\\?.*=:"+param+"(?:\\W|$)").test(url)}}});url=url.replace(/\\:/g,":");url=url.replace(PROTOCOL_AND_DOMAIN_REGEX,function(match){protocolAndDomain=match;return""});params=params||{};forEach(self.urlParams,function(paramInfo,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam];if(angular.isDefined(val)&&val!==null){if(paramInfo.isQueryParamValue){encodedVal=encodeUriQuery(val,true)}else{encodedVal=encodeUriSegment(val)}url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})}else{url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){if(tail.charAt(0)=="/"){return tail}else{return leadingSlashes+tail}})}});if(self.defaults.stripTrailingSlashes){url=url.replace(/\/+$/,"")||"/"}url=url.replace(/\/\.(?=\w+($|\?))/,".");config.url=protocolAndDomain+url.replace(/\/\\\./,"/.");forEach(params,function(value,key){if(!self.urlParams[key]){config.params=config.params||{};config.params[key]=value}})}};function resourceFactory(url,paramDefaults,actions,options){var route=new Route(url,options);actions=extend({},provider.defaults.actions,actions);function extractParams(data,actionParams){var ids={};actionParams=extend({},paramDefaults,actionParams);forEach(actionParams,function(value,key){if(isFunction(value)){value=value(data)}ids[key]=value&&value.charAt&&value.charAt(0)=="@"?lookupDottedPath(data,value.substr(1)):value});return ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}Resource.prototype.toJSON=function(){var data=extend({},this);delete data.$promise;delete data.$resolved;return data};forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);var numericTimeout=action.timeout;var cancellable=angular.isDefined(action.cancellable)?action.cancellable:options&&angular.isDefined(options.cancellable)?options.cancellable:provider.defaults.cancellable;if(numericTimeout&&!angular.isNumber(numericTimeout)){$log.debug("ngResource:\n"+"  Only numeric values are allowed as `timeout`.\n"+"  Promises are not supported in $resource, because the same value would "+"be used for multiple requests. If you are looking for a way to cancel "+"requests, you should use the `cancellable` option.");delete action.timeout;numericTimeout=null}Resource[name]=function(a1,a2,a3,a4){var params={},data,success,error;switch(arguments.length){case 4:error=a4;success=a3;case 3:case 2:if(isFunction(a2)){if(isFunction(a1)){success=a1;error=a2;break}success=a2;error=a3}else{params=a1;data=a2;success=a3;break}case 1:if(isFunction(a1))success=a1;else if(hasBody)data=a1;else params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource;var value=isInstanceCall?data:action.isArray?[]:new Resource(data);var httpConfig={};var responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor;var responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;var timeoutDeferred;var numericTimeoutPromise;forEach(action,function(value,key){switch(key){default:httpConfig[key]=copy(value);break;case"params":case"isArray":case"interceptor":case"cancellable":break}});if(!isInstanceCall&&cancellable){timeoutDeferred=$q.defer();httpConfig.timeout=timeoutDeferred.promise;if(numericTimeout){numericTimeoutPromise=$timeout(timeoutDeferred.resolve,numericTimeout)}}if(hasBody)httpConfig.data=data;route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data;if(data){if(angular.isArray(data)!==!!action.isArray){throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",angular.isArray(data)?"array":"object",httpConfig.method,httpConfig.url)}if(action.isArray){value.length=0;forEach(data,function(item){if(typeof item==="object"){value.push(new Resource(item))}else{value.push(item)}})}else{var promise=value.$promise;shallowClearAndCopy(data,value);value.$promise=promise}}response.resource=value;return response},function(response){(error||noop)(response);return $q.reject(response)});promise["finally"](function(){value.$resolved=true;if(!isInstanceCall&&cancellable){value.$cancelRequest=angular.noop;$timeout.cancel(numericTimeoutPromise);timeoutDeferred=numericTimeoutPromise=httpConfig.timeout=null}});promise=promise.then(function(response){var value=responseInterceptor(response);(success||noop)(value,response.headers);return value},responseErrorInterceptor);if(!isInstanceCall){value.$promise=promise;value.$resolved=false;if(cancellable)value.$cancelRequest=timeoutDeferred.resolve;return value}return promise};Resource.prototype["$"+name]=function(params,success,error){if(isFunction(params)){error=success;success=params;params={}}var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}});Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)};return Resource}return resourceFactory}]})})(window,window.angular);
(function(root,factory){if(typeof define==="function"&&define.amd){define([],function(){return factory()})}else if(typeof exports==="object"){module.exports=factory()}else{factory()}})(this,function(){runTranslate.$inject=["$translate"];$translate.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"];$translateDefaultInterpolation.$inject=["$interpolate","$translateSanitization"];translateDirective.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"];translateAttrDirective.$inject=["$translate","$rootScope"];translateCloakDirective.$inject=["$translate","$rootScope"];translateFilterFactory.$inject=["$parse","$translate"];$translationCache.$inject=["$cacheFactory"];angular.module("pascalprecht.translate",["ng"]).run(runTranslate);function runTranslate($translate){"use strict";var key=$translate.storageKey(),storage=$translate.storage();var fallbackFromIncorrectStorageValue=function(){var preferred=$translate.preferredLanguage();if(angular.isString(preferred)){$translate.use(preferred)}else{storage.put(key,$translate.use())}};fallbackFromIncorrectStorageValue.displayName="fallbackFromIncorrectStorageValue";if(storage){if(!storage.get(key)){fallbackFromIncorrectStorageValue()}else{$translate.use(storage.get(key))["catch"](fallbackFromIncorrectStorageValue)}}else if(angular.isString($translate.preferredLanguage())){$translate.use($translate.preferredLanguage())}}runTranslate.displayName="runTranslate";angular.module("pascalprecht.translate").provider("$translateSanitization",$translateSanitizationProvider);function $translateSanitizationProvider(){"use strict";var $sanitize,$sce,currentStrategy=null,hasConfiguredStrategy=false,hasShownNoStrategyConfiguredWarning=false,strategies;strategies={sanitize:function(value,mode){if(mode==="text"){value=htmlSanitizeValue(value)}return value},escape:function(value,mode){if(mode==="text"){value=htmlEscapeValue(value)}return value},sanitizeParameters:function(value,mode){if(mode==="params"){value=mapInterpolationParameters(value,htmlSanitizeValue)}return value},escapeParameters:function(value,mode){if(mode==="params"){value=mapInterpolationParameters(value,htmlEscapeValue)}return value},sce:function(value,mode,context){if(mode==="text"){value=htmlTrustValue(value)}else if(mode==="params"){if(context!=="filter"){value=mapInterpolationParameters(value,htmlEscapeValue)}}return value},sceParameters:function(value,mode){if(mode==="params"){value=mapInterpolationParameters(value,htmlTrustValue)}return value}};strategies.escaped=strategies.escapeParameters;this.addStrategy=function(strategyName,strategyFunction){strategies[strategyName]=strategyFunction;return this};this.removeStrategy=function(strategyName){delete strategies[strategyName];return this};this.useStrategy=function(strategy){hasConfiguredStrategy=true;currentStrategy=strategy;return this};this.$get=["$injector","$log",function($injector,$log){var cachedStrategyMap={};var applyStrategies=function(value,mode,context,selectedStrategies){angular.forEach(selectedStrategies,function(selectedStrategy){if(angular.isFunction(selectedStrategy)){value=selectedStrategy(value,mode,context)}else if(angular.isFunction(strategies[selectedStrategy])){value=strategies[selectedStrategy](value,mode,context)}else if(angular.isString(strategies[selectedStrategy])){if(!cachedStrategyMap[strategies[selectedStrategy]]){try{cachedStrategyMap[strategies[selectedStrategy]]=$injector.get(strategies[selectedStrategy])}catch(e){cachedStrategyMap[strategies[selectedStrategy]]=function(){};throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+selectedStrategy+"'")}}value=cachedStrategyMap[strategies[selectedStrategy]](value,mode,context)}else{throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+selectedStrategy+"'")}});return value};var showNoStrategyConfiguredWarning=function(){if(!hasConfiguredStrategy&&!hasShownNoStrategyConfiguredWarning){$log.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details.");hasShownNoStrategyConfiguredWarning=true}};if($injector.has("$sanitize")){$sanitize=$injector.get("$sanitize")}if($injector.has("$sce")){$sce=$injector.get("$sce")}return{useStrategy:function(self){return function(strategy){self.useStrategy(strategy)}}(this),sanitize:function(value,mode,strategy,context){if(!currentStrategy){showNoStrategyConfiguredWarning()}if(!strategy&&strategy!==null){strategy=currentStrategy}if(!strategy){return value}if(!context){context="service"}var selectedStrategies=angular.isArray(strategy)?strategy:[strategy];return applyStrategies(value,mode,context,selectedStrategies)}}}];var htmlEscapeValue=function(value){var element=angular.element("<div></div>");element.text(value);return element.html()};var htmlSanitizeValue=function(value){if(!$sanitize){throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.")}return $sanitize(value)};var htmlTrustValue=function(value){if(!$sce){throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.")}return $sce.trustAsHtml(value)};var mapInterpolationParameters=function(value,iteratee,stack){if(angular.isDate(value)){return value}else if(angular.isObject(value)){var result=angular.isArray(value)?[]:{};if(!stack){stack=[]}else{if(stack.indexOf(value)>-1){throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}}stack.push(value);angular.forEach(value,function(propertyValue,propertyKey){if(angular.isFunction(propertyValue)){return}result[propertyKey]=mapInterpolationParameters(propertyValue,iteratee,stack)});stack.splice(-1,1);return result}else if(angular.isNumber(value)){return value}else{return iteratee(value)}}}angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",$translate);function $translate($STORAGE_KEY,$windowProvider,$translateSanitizationProvider,pascalprechtTranslateOverrider){"use strict";var $translationTable={},$preferredLanguage,$availableLanguageKeys=[],$languageKeyAliases,$fallbackLanguage,$fallbackWasString,$uses,$nextLang,$storageFactory,$storageKey=$STORAGE_KEY,$storagePrefix,$missingTranslationHandlerFactory,$interpolationFactory,$interpolatorFactories=[],$loaderFactory,$cloakClassName="translate-cloak",$loaderOptions,$notFoundIndicatorLeft,$notFoundIndicatorRight,$postCompilingEnabled=false,$forceAsyncReloadEnabled=false,$nestedObjectDelimeter=".",$isReady=false,$keepContent=false,loaderCache,directivePriority=0,statefulFilter=true,postProcessFn,uniformLanguageTagResolver="default",languageTagResolver={default:function(tag){return(tag||"").split("-").join("_")},java:function(tag){var temp=(tag||"").split("-").join("_");var parts=temp.split("_");return parts.length>1?parts[0].toLowerCase()+"_"+parts[1].toUpperCase():temp},bcp47:function(tag){var temp=(tag||"").split("_").join("-");var parts=temp.split("-");return parts.length>1?parts[0].toLowerCase()+"-"+parts[1].toUpperCase():temp},"iso639-1":function(tag){var temp=(tag||"").split("_").join("-");var parts=temp.split("-");return parts[0].toLowerCase()}};var version="2.12.1";var getFirstBrowserLanguage=function(){if(angular.isFunction(pascalprechtTranslateOverrider.getLocale)){return pascalprechtTranslateOverrider.getLocale()}var nav=$windowProvider.$get().navigator,browserLanguagePropertyKeys=["language","browserLanguage","systemLanguage","userLanguage"],i,language;if(angular.isArray(nav.languages)){for(i=0;i<nav.languages.length;i++){language=nav.languages[i];if(language&&language.length){return language}}}for(i=0;i<browserLanguagePropertyKeys.length;i++){language=nav[browserLanguagePropertyKeys[i]];if(language&&language.length){return language}}return null};getFirstBrowserLanguage.displayName="angular-translate/service: getFirstBrowserLanguage";var getLocale=function(){var locale=getFirstBrowserLanguage()||"";if(languageTagResolver[uniformLanguageTagResolver]){locale=languageTagResolver[uniformLanguageTagResolver](locale)}return locale};getLocale.displayName="angular-translate/service: getLocale";var indexOf=function(array,searchElement){for(var i=0,len=array.length;i<len;i++){if(array[i]===searchElement){return i}}return-1};var trim=function(){return this.toString().replace(/^\s+|\s+$/g,"")};var negotiateLocale=function(preferred){if(!preferred){return}var avail=[],locale=angular.lowercase(preferred),i=0,n=$availableLanguageKeys.length;for(;i<n;i++){avail.push(angular.lowercase($availableLanguageKeys[i]))}if(indexOf(avail,locale)>-1){return preferred}if($languageKeyAliases){var alias;for(var langKeyAlias in $languageKeyAliases){if($languageKeyAliases.hasOwnProperty(langKeyAlias)){var hasWildcardKey=false;var hasExactKey=Object.prototype.hasOwnProperty.call($languageKeyAliases,langKeyAlias)&&angular.lowercase(langKeyAlias)===angular.lowercase(preferred);if(langKeyAlias.slice(-1)==="*"){hasWildcardKey=langKeyAlias.slice(0,-1)===preferred.slice(0,langKeyAlias.length-1)}if(hasExactKey||hasWildcardKey){alias=$languageKeyAliases[langKeyAlias];if(indexOf(avail,angular.lowercase(alias))>-1){return alias}}}}}var parts=preferred.split("_");if(parts.length>1&&indexOf(avail,angular.lowercase(parts[0]))>-1){return parts[0]}return};var translations=function(langKey,translationTable){if(!langKey&&!translationTable){return $translationTable}if(langKey&&!translationTable){if(angular.isString(langKey)){return $translationTable[langKey]}}else{if(!angular.isObject($translationTable[langKey])){$translationTable[langKey]={}}angular.extend($translationTable[langKey],flatObject(translationTable))}return this};this.translations=translations;this.cloakClassName=function(name){if(!name){return $cloakClassName}$cloakClassName=name;return this};this.nestedObjectDelimeter=function(delimiter){if(!delimiter){return $nestedObjectDelimeter}$nestedObjectDelimeter=delimiter;return this};var flatObject=function(data,path,result,prevKey){var key,keyWithPath,keyWithShortPath,val;if(!path){path=[]}if(!result){result={}}for(key in data){if(!Object.prototype.hasOwnProperty.call(data,key)){continue}val=data[key];if(angular.isObject(val)){flatObject(val,path.concat(key),result,key)}else{keyWithPath=path.length?""+path.join($nestedObjectDelimeter)+$nestedObjectDelimeter+key:key;if(path.length&&key===prevKey){keyWithShortPath=""+path.join($nestedObjectDelimeter);result[keyWithShortPath]="@:"+keyWithPath}result[keyWithPath]=val}}return result};flatObject.displayName="flatObject";this.addInterpolation=function(factory){$interpolatorFactories.push(factory);return this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(factory){$interpolationFactory=factory;return this};this.useSanitizeValueStrategy=function(value){$translateSanitizationProvider.useStrategy(value);return this};this.preferredLanguage=function(langKey){if(langKey){setupPreferredLanguage(langKey);return this}return $preferredLanguage};var setupPreferredLanguage=function(langKey){if(langKey){$preferredLanguage=langKey}return $preferredLanguage};this.translationNotFoundIndicator=function(indicator){this.translationNotFoundIndicatorLeft(indicator);this.translationNotFoundIndicatorRight(indicator);return this};this.translationNotFoundIndicatorLeft=function(indicator){if(!indicator){return $notFoundIndicatorLeft}$notFoundIndicatorLeft=indicator;return this};this.translationNotFoundIndicatorRight=function(indicator){if(!indicator){return $notFoundIndicatorRight}$notFoundIndicatorRight=indicator;return this};this.fallbackLanguage=function(langKey){fallbackStack(langKey);return this};var fallbackStack=function(langKey){if(langKey){if(angular.isString(langKey)){$fallbackWasString=true;$fallbackLanguage=[langKey]}else if(angular.isArray(langKey)){$fallbackWasString=false;$fallbackLanguage=langKey}if(angular.isString($preferredLanguage)&&indexOf($fallbackLanguage,$preferredLanguage)<0){$fallbackLanguage.push($preferredLanguage)}return this}else{if($fallbackWasString){return $fallbackLanguage[0]}else{return $fallbackLanguage}}};this.use=function(langKey){if(langKey){if(!$translationTable[langKey]&&!$loaderFactory){throw new Error("$translateProvider couldn't find translationTable for langKey: '"+langKey+"'")}$uses=langKey;return this}return $uses};this.resolveClientLocale=function(){return getLocale()};var storageKey=function(key){if(!key){if($storagePrefix){return $storagePrefix+$storageKey}return $storageKey}$storageKey=key;return this};this.storageKey=storageKey;this.useUrlLoader=function(url,options){return this.useLoader("$translateUrlLoader",angular.extend({url:url},options))};this.useStaticFilesLoader=function(options){return this.useLoader("$translateStaticFilesLoader",options)};this.useLoader=function(loaderFactory,options){$loaderFactory=loaderFactory;$loaderOptions=options||{};return this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(storageFactory){$storageFactory=storageFactory;return this};this.storagePrefix=function(prefix){if(!prefix){return prefix}$storagePrefix=prefix;return this};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(factory){$missingTranslationHandlerFactory=factory;return this};this.usePostCompiling=function(value){$postCompilingEnabled=!!value;return this};this.forceAsyncReload=function(value){$forceAsyncReloadEnabled=!!value;return this};this.uniformLanguageTag=function(options){if(!options){options={}}else if(angular.isString(options)){options={standard:options}}uniformLanguageTagResolver=options.standard;return this};this.determinePreferredLanguage=function(fn){var locale=fn&&angular.isFunction(fn)?fn():getLocale();if(!$availableLanguageKeys.length){$preferredLanguage=locale}else{$preferredLanguage=negotiateLocale(locale)||locale}return this};this.registerAvailableLanguageKeys=function(languageKeys,aliases){if(languageKeys){$availableLanguageKeys=languageKeys;if(aliases){$languageKeyAliases=aliases}return this}return $availableLanguageKeys};this.useLoaderCache=function(cache){if(cache===false){loaderCache=undefined}else if(cache===true){loaderCache=true}else if(typeof cache==="undefined"){loaderCache="$translationCache"}else if(cache){loaderCache=cache}return this};this.directivePriority=function(priority){if(priority===undefined){return directivePriority}else{directivePriority=priority;return this}};this.statefulFilter=function(state){if(state===undefined){return statefulFilter}else{statefulFilter=state;return this}};this.postProcess=function(fn){if(fn){postProcessFn=fn}else{postProcessFn=undefined}return this};this.keepContent=function(value){$keepContent=!!value;return this};this.$get=["$log","$injector","$rootScope","$q",function($log,$injector,$rootScope,$q){var Storage,defaultInterpolator=$injector.get($interpolationFactory||"$translateDefaultInterpolation"),pendingLoader=false,interpolatorHashMap={},langPromises={},fallbackIndex,startFallbackIteration;var $translate=function(translationId,interpolateParams,interpolationId,defaultTranslationText,forceLanguage){if(!$uses&&$preferredLanguage){$uses=$preferredLanguage}var uses=forceLanguage&&forceLanguage!==$uses?negotiateLocale(forceLanguage)||forceLanguage:$uses;if(forceLanguage){loadTranslationsIfMissing(forceLanguage)}if(angular.isArray(translationId)){var translateAll=function(translationIds){var results={};var promises=[];var translate=function(translationId){var deferred=$q.defer();var regardless=function(value){results[translationId]=value;deferred.resolve([translationId,value])};$translate(translationId,interpolateParams,interpolationId,defaultTranslationText,forceLanguage).then(regardless,regardless);return deferred.promise};for(var i=0,c=translationIds.length;i<c;i++){promises.push(translate(translationIds[i]))}return $q.all(promises).then(function(){return results})};return translateAll(translationId)}var deferred=$q.defer();if(translationId){translationId=trim.apply(translationId)}var promiseToWaitFor=function(){var promise=$preferredLanguage?langPromises[$preferredLanguage]:langPromises[uses];fallbackIndex=0;if($storageFactory&&!promise){var langKey=Storage.get($storageKey);promise=langPromises[langKey];if($fallbackLanguage&&$fallbackLanguage.length){var index=indexOf($fallbackLanguage,langKey);fallbackIndex=index===0?1:0;if(indexOf($fallbackLanguage,$preferredLanguage)<0){$fallbackLanguage.push($preferredLanguage)}}}return promise}();if(!promiseToWaitFor){determineTranslation(translationId,interpolateParams,interpolationId,defaultTranslationText,uses).then(deferred.resolve,deferred.reject)}else{var promiseResolved=function(){if(!forceLanguage){uses=$uses}determineTranslation(translationId,interpolateParams,interpolationId,defaultTranslationText,uses).then(deferred.resolve,deferred.reject)};promiseResolved.displayName="promiseResolved";promiseToWaitFor["finally"](promiseResolved)}return deferred.promise};var applyNotFoundIndicators=function(translationId){if($notFoundIndicatorLeft){translationId=[$notFoundIndicatorLeft,translationId].join(" ")}if($notFoundIndicatorRight){translationId=[translationId,$notFoundIndicatorRight].join(" ")}return translationId};var useLanguage=function(key){$uses=key;if($storageFactory){Storage.put($translate.storageKey(),$uses)}$rootScope.$emit("$translateChangeSuccess",{language:key});defaultInterpolator.setLocale($uses);var eachInterpolator=function(interpolator,id){interpolatorHashMap[id].setLocale($uses)};eachInterpolator.displayName="eachInterpolatorLocaleSetter";angular.forEach(interpolatorHashMap,eachInterpolator);$rootScope.$emit("$translateChangeEnd",{language:key})};var loadAsync=function(key){if(!key){throw"No language key specified for loading."}var deferred=$q.defer();$rootScope.$emit("$translateLoadingStart",{language:key});pendingLoader=true;var cache=loaderCache;if(typeof cache==="string"){cache=$injector.get(cache)}var loaderOptions=angular.extend({},$loaderOptions,{key:key,$http:angular.extend({},{cache:cache},$loaderOptions.$http)});var onLoaderSuccess=function(data){var translationTable={};$rootScope.$emit("$translateLoadingSuccess",{language:key});if(angular.isArray(data)){angular.forEach(data,function(table){angular.extend(translationTable,flatObject(table))})}else{angular.extend(translationTable,flatObject(data))}pendingLoader=false;deferred.resolve({key:key,table:translationTable});$rootScope.$emit("$translateLoadingEnd",{language:key})};onLoaderSuccess.displayName="onLoaderSuccess";var onLoaderError=function(key){$rootScope.$emit("$translateLoadingError",{language:key});deferred.reject(key);$rootScope.$emit("$translateLoadingEnd",{language:key})};onLoaderError.displayName="onLoaderError";$injector.get($loaderFactory)(loaderOptions).then(onLoaderSuccess,onLoaderError);return deferred.promise};if($storageFactory){Storage=$injector.get($storageFactory);if(!Storage.get||!Storage.put){throw new Error("Couldn't use storage '"+$storageFactory+"', missing get() or put() method!")}}if($interpolatorFactories.length){var eachInterpolationFactory=function(interpolatorFactory){var interpolator=$injector.get(interpolatorFactory);interpolator.setLocale($preferredLanguage||$uses);interpolatorHashMap[interpolator.getInterpolationIdentifier()]=interpolator};eachInterpolationFactory.displayName="interpolationFactoryAdder";angular.forEach($interpolatorFactories,eachInterpolationFactory)}var getTranslationTable=function(langKey){var deferred=$q.defer();if(Object.prototype.hasOwnProperty.call($translationTable,langKey)){deferred.resolve($translationTable[langKey])}else if(langPromises[langKey]){var onResolve=function(data){translations(data.key,data.table);deferred.resolve(data.table)};onResolve.displayName="translationTableResolver";langPromises[langKey].then(onResolve,deferred.reject)}else{deferred.reject()}return deferred.promise};var getFallbackTranslation=function(langKey,translationId,interpolateParams,Interpolator){var deferred=$q.defer();var onResolve=function(translationTable){if(Object.prototype.hasOwnProperty.call(translationTable,translationId)){Interpolator.setLocale(langKey);var translation=translationTable[translationId];if(translation.substr(0,2)==="@:"){getFallbackTranslation(langKey,translation.substr(2),interpolateParams,Interpolator).then(deferred.resolve,deferred.reject)}else{var interpolatedValue=Interpolator.interpolate(translationTable[translationId],interpolateParams,"service");interpolatedValue=applyPostProcessing(translationId,translationTable[translationId],interpolatedValue,interpolateParams,langKey);deferred.resolve(interpolatedValue)}Interpolator.setLocale($uses)}else{deferred.reject()}};onResolve.displayName="fallbackTranslationResolver";getTranslationTable(langKey).then(onResolve,deferred.reject);return deferred.promise};var getFallbackTranslationInstant=function(langKey,translationId,interpolateParams,Interpolator){var result,translationTable=$translationTable[langKey];if(translationTable&&Object.prototype.hasOwnProperty.call(translationTable,translationId)){Interpolator.setLocale(langKey);result=Interpolator.interpolate(translationTable[translationId],interpolateParams,"filter");result=applyPostProcessing(translationId,translationTable[translationId],result,interpolateParams,langKey);if(result.substr(0,2)==="@:"){return getFallbackTranslationInstant(langKey,result.substr(2),interpolateParams,Interpolator)}Interpolator.setLocale($uses)}return result};var translateByHandler=function(translationId,interpolateParams,defaultTranslationText){if($missingTranslationHandlerFactory){var resultString=$injector.get($missingTranslationHandlerFactory)(translationId,$uses,interpolateParams,defaultTranslationText);if(resultString!==undefined){return resultString}else{return translationId}}else{return translationId}};var resolveForFallbackLanguage=function(fallbackLanguageIndex,translationId,interpolateParams,Interpolator,defaultTranslationText){var deferred=$q.defer();if(fallbackLanguageIndex<$fallbackLanguage.length){var langKey=$fallbackLanguage[fallbackLanguageIndex];getFallbackTranslation(langKey,translationId,interpolateParams,Interpolator).then(function(data){deferred.resolve(data)},function(){return resolveForFallbackLanguage(fallbackLanguageIndex+1,translationId,interpolateParams,Interpolator,defaultTranslationText).then(deferred.resolve,deferred.reject)})}else{if(defaultTranslationText){deferred.resolve(defaultTranslationText)}else{if($missingTranslationHandlerFactory){deferred.resolve(translateByHandler(translationId,interpolateParams))}else{deferred.reject(translateByHandler(translationId,interpolateParams))}}}return deferred.promise};var resolveForFallbackLanguageInstant=function(fallbackLanguageIndex,translationId,interpolateParams,Interpolator){var result;if(fallbackLanguageIndex<$fallbackLanguage.length){var langKey=$fallbackLanguage[fallbackLanguageIndex];result=getFallbackTranslationInstant(langKey,translationId,interpolateParams,Interpolator);if(!result){result=resolveForFallbackLanguageInstant(fallbackLanguageIndex+1,translationId,interpolateParams,Interpolator)}}return result};var fallbackTranslation=function(translationId,interpolateParams,Interpolator,defaultTranslationText){return resolveForFallbackLanguage(startFallbackIteration>0?startFallbackIteration:fallbackIndex,translationId,interpolateParams,Interpolator,defaultTranslationText)};var fallbackTranslationInstant=function(translationId,interpolateParams,Interpolator){return resolveForFallbackLanguageInstant(startFallbackIteration>0?startFallbackIteration:fallbackIndex,translationId,interpolateParams,Interpolator)};var determineTranslation=function(translationId,interpolateParams,interpolationId,defaultTranslationText,uses){var deferred=$q.defer();var table=uses?$translationTable[uses]:$translationTable,Interpolator=interpolationId?interpolatorHashMap[interpolationId]:defaultInterpolator;if(table&&Object.prototype.hasOwnProperty.call(table,translationId)){var translation=table[translationId];if(translation.substr(0,2)==="@:"){$translate(translation.substr(2),interpolateParams,interpolationId,defaultTranslationText,uses).then(deferred.resolve,deferred.reject)}else{var resolvedTranslation=Interpolator.interpolate(translation,interpolateParams,"service");resolvedTranslation=applyPostProcessing(translationId,translation,resolvedTranslation,interpolateParams,uses);deferred.resolve(resolvedTranslation)}}else{var missingTranslationHandlerTranslation;if($missingTranslationHandlerFactory&&!pendingLoader){missingTranslationHandlerTranslation=translateByHandler(translationId,interpolateParams,defaultTranslationText)}if(uses&&$fallbackLanguage&&$fallbackLanguage.length){fallbackTranslation(translationId,interpolateParams,Interpolator,defaultTranslationText).then(function(translation){deferred.resolve(translation)},function(_translationId){deferred.reject(applyNotFoundIndicators(_translationId))})}else if($missingTranslationHandlerFactory&&!pendingLoader&&missingTranslationHandlerTranslation){if(defaultTranslationText){deferred.resolve(defaultTranslationText)}else{deferred.resolve(missingTranslationHandlerTranslation)}}else{if(defaultTranslationText){deferred.resolve(defaultTranslationText)}else{deferred.reject(applyNotFoundIndicators(translationId))}}}return deferred.promise};var determineTranslationInstant=function(translationId,interpolateParams,interpolationId,uses){var result,table=uses?$translationTable[uses]:$translationTable,Interpolator=defaultInterpolator;if(interpolatorHashMap&&Object.prototype.hasOwnProperty.call(interpolatorHashMap,interpolationId)){Interpolator=interpolatorHashMap[interpolationId]}if(table&&Object.prototype.hasOwnProperty.call(table,translationId)){var translation=table[translationId];if(translation.substr(0,2)==="@:"){result=determineTranslationInstant(translation.substr(2),interpolateParams,interpolationId,uses)}else{result=Interpolator.interpolate(translation,interpolateParams,"filter");result=applyPostProcessing(translationId,translation,result,interpolateParams,uses)}}else{var missingTranslationHandlerTranslation;if($missingTranslationHandlerFactory&&!pendingLoader){missingTranslationHandlerTranslation=translateByHandler(translationId,interpolateParams)}if(uses&&$fallbackLanguage&&$fallbackLanguage.length){fallbackIndex=0;result=fallbackTranslationInstant(translationId,interpolateParams,Interpolator)}else if($missingTranslationHandlerFactory&&!pendingLoader&&missingTranslationHandlerTranslation){result=missingTranslationHandlerTranslation}else{result=applyNotFoundIndicators(translationId)}}return result};var clearNextLangAndPromise=function(key){if($nextLang===key){$nextLang=undefined}langPromises[key]=undefined};var applyPostProcessing=function(translationId,translation,resolvedTranslation,interpolateParams,uses){var fn=postProcessFn;if(fn){if(typeof fn==="string"){fn=$injector.get(fn)}if(fn){return fn(translationId,translation,resolvedTranslation,interpolateParams,uses)}}return resolvedTranslation};var loadTranslationsIfMissing=function(key){if(!$translationTable[key]&&$loaderFactory&&!langPromises[key]){langPromises[key]=loadAsync(key).then(function(translation){translations(translation.key,translation.table);return translation})}};$translate.preferredLanguage=function(langKey){if(langKey){setupPreferredLanguage(langKey)}return $preferredLanguage};$translate.cloakClassName=function(){return $cloakClassName};$translate.nestedObjectDelimeter=function(){return $nestedObjectDelimeter};$translate.fallbackLanguage=function(langKey){if(langKey!==undefined&&langKey!==null){fallbackStack(langKey);if($loaderFactory){if($fallbackLanguage&&$fallbackLanguage.length){for(var i=0,len=$fallbackLanguage.length;i<len;i++){if(!langPromises[$fallbackLanguage[i]]){langPromises[$fallbackLanguage[i]]=loadAsync($fallbackLanguage[i])}}}}$translate.use($translate.use())}if($fallbackWasString){return $fallbackLanguage[0]}else{return $fallbackLanguage}};$translate.useFallbackLanguage=function(langKey){if(langKey!==undefined&&langKey!==null){if(!langKey){startFallbackIteration=0}else{var langKeyPosition=indexOf($fallbackLanguage,langKey);if(langKeyPosition>-1){startFallbackIteration=langKeyPosition}}}};$translate.proposedLanguage=function(){return $nextLang};$translate.storage=function(){return Storage};$translate.negotiateLocale=negotiateLocale;$translate.use=function(key){if(!key){return $uses}var deferred=$q.defer();$rootScope.$emit("$translateChangeStart",{language:key});var aliasedKey=negotiateLocale(key);if($availableLanguageKeys.length>0&&!aliasedKey){return $q.reject(key)}if(aliasedKey){key=aliasedKey}$nextLang=key;if(($forceAsyncReloadEnabled||!$translationTable[key])&&$loaderFactory&&!langPromises[key]){langPromises[key]=loadAsync(key).then(function(translation){translations(translation.key,translation.table);deferred.resolve(translation.key);if($nextLang===key){useLanguage(translation.key)}return translation},function(key){$rootScope.$emit("$translateChangeError",{language:key});deferred.reject(key);$rootScope.$emit("$translateChangeEnd",{language:key});return $q.reject(key)});langPromises[key]["finally"](function(){clearNextLangAndPromise(key)})}else if(langPromises[key]){langPromises[key].then(function(translation){if($nextLang===translation.key){useLanguage(translation.key)}deferred.resolve(translation.key);return translation},function(key){if(!$uses&&$fallbackLanguage&&$fallbackLanguage.length>0&&$fallbackLanguage[0]!==key){return $translate.use($fallbackLanguage[0]).then(deferred.resolve,deferred.reject)}else{return deferred.reject(key)}})}else{deferred.resolve(key);useLanguage(key)}return deferred.promise};$translate.resolveClientLocale=function(){return getLocale()};$translate.storageKey=function(){return storageKey()};$translate.isPostCompilingEnabled=function(){return $postCompilingEnabled};$translate.isForceAsyncReloadEnabled=function(){return $forceAsyncReloadEnabled};$translate.isKeepContent=function(){return $keepContent};$translate.refresh=function(langKey){if(!$loaderFactory){throw new Error("Couldn't refresh translation table, no loader registered!")}var deferred=$q.defer();function resolve(){deferred.resolve();$rootScope.$emit("$translateRefreshEnd",{language:langKey})}function reject(){deferred.reject();$rootScope.$emit("$translateRefreshEnd",{language:langKey})}$rootScope.$emit("$translateRefreshStart",{language:langKey});if(!langKey){var tables=[],loadingKeys={};if($fallbackLanguage&&$fallbackLanguage.length){for(var i=0,len=$fallbackLanguage.length;i<len;i++){tables.push(loadAsync($fallbackLanguage[i]));loadingKeys[$fallbackLanguage[i]]=true}}if($uses&&!loadingKeys[$uses]){tables.push(loadAsync($uses))}var allTranslationsLoaded=function(tableData){$translationTable={};angular.forEach(tableData,function(data){translations(data.key,data.table)});if($uses){useLanguage($uses)}resolve()};allTranslationsLoaded.displayName="refreshPostProcessor";$q.all(tables).then(allTranslationsLoaded,reject)}else if($translationTable[langKey]){var oneTranslationsLoaded=function(data){translations(data.key,data.table);if(langKey===$uses){useLanguage($uses)}resolve();return data};oneTranslationsLoaded.displayName="refreshPostProcessor";loadAsync(langKey).then(oneTranslationsLoaded,reject)}else{reject()}return deferred.promise};$translate.instant=function(translationId,interpolateParams,interpolationId,forceLanguage){
var uses=forceLanguage&&forceLanguage!==$uses?negotiateLocale(forceLanguage)||forceLanguage:$uses;if(translationId===null||angular.isUndefined(translationId)){return translationId}if(forceLanguage){loadTranslationsIfMissing(forceLanguage)}if(angular.isArray(translationId)){var results={};for(var i=0,c=translationId.length;i<c;i++){results[translationId[i]]=$translate.instant(translationId[i],interpolateParams,interpolationId,forceLanguage)}return results}if(angular.isString(translationId)&&translationId.length<1){return translationId}if(translationId){translationId=trim.apply(translationId)}var result,possibleLangKeys=[];if($preferredLanguage){possibleLangKeys.push($preferredLanguage)}if(uses){possibleLangKeys.push(uses)}if($fallbackLanguage&&$fallbackLanguage.length){possibleLangKeys=possibleLangKeys.concat($fallbackLanguage)}for(var j=0,d=possibleLangKeys.length;j<d;j++){var possibleLangKey=possibleLangKeys[j];if($translationTable[possibleLangKey]){if(typeof $translationTable[possibleLangKey][translationId]!=="undefined"){result=determineTranslationInstant(translationId,interpolateParams,interpolationId,uses)}}if(typeof result!=="undefined"){break}}if(!result&&result!==""){if($notFoundIndicatorLeft||$notFoundIndicatorRight){result=applyNotFoundIndicators(translationId)}else{result=defaultInterpolator.interpolate(translationId,interpolateParams,"filter");if($missingTranslationHandlerFactory&&!pendingLoader){result=translateByHandler(translationId,interpolateParams)}}}return result};$translate.versionInfo=function(){return version};$translate.loaderCache=function(){return loaderCache};$translate.directivePriority=function(){return directivePriority};$translate.statefulFilter=function(){return statefulFilter};$translate.isReady=function(){return $isReady};var $onReadyDeferred=$q.defer();$onReadyDeferred.promise.then(function(){$isReady=true});$translate.onReady=function(fn){var deferred=$q.defer();if(angular.isFunction(fn)){deferred.promise.then(fn)}if($isReady){deferred.resolve()}else{$onReadyDeferred.promise.then(deferred.resolve)}return deferred.promise};$translate.getAvailableLanguageKeys=function(){if($availableLanguageKeys.length>0){return $availableLanguageKeys}return null};var globalOnReadyListener=$rootScope.$on("$translateReady",function(){$onReadyDeferred.resolve();globalOnReadyListener();globalOnReadyListener=null});var globalOnChangeListener=$rootScope.$on("$translateChangeEnd",function(){$onReadyDeferred.resolve();globalOnChangeListener();globalOnChangeListener=null});if($loaderFactory){if(angular.equals($translationTable,{})){if($translate.use()){$translate.use($translate.use())}}if($fallbackLanguage&&$fallbackLanguage.length){var processAsyncResult=function(translation){translations(translation.key,translation.table);$rootScope.$emit("$translateChangeEnd",{language:translation.key});return translation};for(var i=0,len=$fallbackLanguage.length;i<len;i++){var fallbackLanguageId=$fallbackLanguage[i];if($forceAsyncReloadEnabled||!$translationTable[fallbackLanguageId]){langPromises[fallbackLanguageId]=loadAsync(fallbackLanguageId).then(processAsyncResult)}}}}else{$rootScope.$emit("$translateReady",{language:$translate.use()})}return $translate}]}$translate.displayName="displayName";angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",$translateDefaultInterpolation);function $translateDefaultInterpolation($interpolate,$translateSanitization){"use strict";var $translateInterpolator={},$locale,$identifier="default";$translateInterpolator.setLocale=function(locale){$locale=locale};$translateInterpolator.getInterpolationIdentifier=function(){return $identifier};$translateInterpolator.useSanitizeValueStrategy=function(value){$translateSanitization.useStrategy(value);return this};$translateInterpolator.interpolate=function(value,interpolationParams,context){interpolationParams=interpolationParams||{};interpolationParams=$translateSanitization.sanitize(interpolationParams,"params",undefined,context);var interpolatedText;if(angular.isNumber(value)){interpolatedText=""+value}else if(angular.isString(value)){interpolatedText=$interpolate(value)(interpolationParams);interpolatedText=$translateSanitization.sanitize(interpolatedText,"text",undefined,context)}else{interpolatedText=""}return interpolatedText};return $translateInterpolator}$translateDefaultInterpolation.displayName="$translateDefaultInterpolation";angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY");angular.module("pascalprecht.translate").directive("translate",translateDirective);function translateDirective($translate,$interpolate,$compile,$parse,$rootScope){"use strict";var trim=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:true,priority:$translate.directivePriority(),compile:function(tElement,tAttr){var translateValuesExist=tAttr.translateValues?tAttr.translateValues:undefined;var translateInterpolation=tAttr.translateInterpolation?tAttr.translateInterpolation:undefined;var translateValueExist=tElement[0].outerHTML.match(/translate-value-+/i);var interpolateRegExp="^(.*)("+$interpolate.startSymbol()+".*"+$interpolate.endSymbol()+")(.*)",watcherRegExp="^(.*)"+$interpolate.startSymbol()+"(.*)"+$interpolate.endSymbol()+"(.*)";return function linkFn(scope,iElement,iAttr){scope.interpolateParams={};scope.preText="";scope.postText="";scope.translateNamespace=getTranslateNamespace(scope);var translationIds={};var initInterpolationParams=function(interpolateParams,iAttr,tAttr){if(iAttr.translateValues){angular.extend(interpolateParams,$parse(iAttr.translateValues)(scope.$parent))}if(translateValueExist){for(var attr in tAttr){if(Object.prototype.hasOwnProperty.call(iAttr,attr)&&attr.substr(0,14)==="translateValue"&&attr!=="translateValues"){var attributeName=angular.lowercase(attr.substr(14,1))+attr.substr(15);interpolateParams[attributeName]=tAttr[attr]}}}};var observeElementTranslation=function(translationId){if(angular.isFunction(observeElementTranslation._unwatchOld)){observeElementTranslation._unwatchOld();observeElementTranslation._unwatchOld=undefined}if(angular.equals(translationId,"")||!angular.isDefined(translationId)){var iElementText=trim.apply(iElement.text());var interpolateMatches=iElementText.match(interpolateRegExp);if(angular.isArray(interpolateMatches)){scope.preText=interpolateMatches[1];scope.postText=interpolateMatches[3];translationIds.translate=$interpolate(interpolateMatches[2])(scope.$parent);var watcherMatches=iElementText.match(watcherRegExp);if(angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length){observeElementTranslation._unwatchOld=scope.$watch(watcherMatches[2],function(newValue){translationIds.translate=newValue;updateTranslations()})}}else{translationIds.translate=!iElementText?undefined:iElementText}}else{translationIds.translate=translationId}updateTranslations()};var observeAttributeTranslation=function(translateAttr){iAttr.$observe(translateAttr,function(translationId){translationIds[translateAttr]=translationId;updateTranslations()})};initInterpolationParams(scope.interpolateParams,iAttr,tAttr);var firstAttributeChangedEvent=true;iAttr.$observe("translate",function(translationId){if(typeof translationId==="undefined"){observeElementTranslation("")}else{if(translationId!==""||!firstAttributeChangedEvent){translationIds.translate=translationId;updateTranslations()}}firstAttributeChangedEvent=false});for(var translateAttr in iAttr){if(iAttr.hasOwnProperty(translateAttr)&&translateAttr.substr(0,13)==="translateAttr"&&translateAttr.length>13){observeAttributeTranslation(translateAttr)}}iAttr.$observe("translateDefault",function(value){scope.defaultText=value;updateTranslations()});if(translateValuesExist){iAttr.$observe("translateValues",function(interpolateParams){if(interpolateParams){scope.$parent.$watch(function(){angular.extend(scope.interpolateParams,$parse(interpolateParams)(scope.$parent))})}})}if(translateValueExist){var observeValueAttribute=function(attrName){iAttr.$observe(attrName,function(value){var attributeName=angular.lowercase(attrName.substr(14,1))+attrName.substr(15);scope.interpolateParams[attributeName]=value})};for(var attr in iAttr){if(Object.prototype.hasOwnProperty.call(iAttr,attr)&&attr.substr(0,14)==="translateValue"&&attr!=="translateValues"){observeValueAttribute(attr)}}}var updateTranslations=function(){for(var key in translationIds){if(translationIds.hasOwnProperty(key)&&translationIds[key]!==undefined){updateTranslation(key,translationIds[key],scope,scope.interpolateParams,scope.defaultText,scope.translateNamespace)}}};var updateTranslation=function(translateAttr,translationId,scope,interpolateParams,defaultTranslationText,translateNamespace){if(translationId){if(translateNamespace&&translationId.charAt(0)==="."){translationId=translateNamespace+translationId}$translate(translationId,interpolateParams,translateInterpolation,defaultTranslationText,scope.translateLanguage).then(function(translation){applyTranslation(translation,scope,true,translateAttr)},function(translationId){applyTranslation(translationId,scope,false,translateAttr)})}else{applyTranslation(translationId,scope,false,translateAttr)}};var applyTranslation=function(value,scope,successful,translateAttr){if(!successful){if(typeof scope.defaultText!=="undefined"){value=scope.defaultText}}if(translateAttr==="translate"){if(successful||!successful&&!$translate.isKeepContent()&&typeof iAttr.translateKeepContent==="undefined"){iElement.empty().append(scope.preText+value+scope.postText)}var globallyEnabled=$translate.isPostCompilingEnabled();var locallyDefined=typeof tAttr.translateCompile!=="undefined";var locallyEnabled=locallyDefined&&tAttr.translateCompile!=="false";if(globallyEnabled&&!locallyDefined||locallyEnabled){$compile(iElement.contents())(scope)}}else{var attributeName=iAttr.$attr[translateAttr];if(attributeName.substr(0,5)==="data-"){attributeName=attributeName.substr(5)}attributeName=attributeName.substr(15);iElement.attr(attributeName,value)}};if(translateValuesExist||translateValueExist||iAttr.translateDefault){scope.$watch("interpolateParams",updateTranslations,true)}scope.$on("translateLanguageChanged",updateTranslations);var unbind=$rootScope.$on("$translateChangeSuccess",updateTranslations);if(iElement.text().length){if(iAttr.translate){observeElementTranslation(iAttr.translate)}else{observeElementTranslation("")}}else if(iAttr.translate){observeElementTranslation(iAttr.translate)}updateTranslations();scope.$on("$destroy",unbind)}}}}function getTranslateNamespace(scope){"use strict";if(scope.translateNamespace){return scope.translateNamespace}if(scope.$parent){return getTranslateNamespace(scope.$parent)}}translateDirective.displayName="translateDirective";angular.module("pascalprecht.translate").directive("translateAttr",translateAttrDirective);function translateAttrDirective($translate,$rootScope){"use strict";return{restrict:"A",priority:$translate.directivePriority(),link:function linkFn(scope,element,attr){var translateAttr,translateValues,previousAttributes={};var updateTranslations=function(){angular.forEach(translateAttr,function(translationId,attributeName){if(!translationId){return}previousAttributes[attributeName]=true;if(scope.translateNamespace&&translationId.charAt(0)==="."){translationId=scope.translateNamespace+translationId}$translate(translationId,translateValues,attr.translateInterpolation,undefined,scope.translateLanguage).then(function(translation){element.attr(attributeName,translation)},function(translationId){element.attr(attributeName,translationId)})});angular.forEach(previousAttributes,function(flag,attributeName){if(!translateAttr[attributeName]){element.removeAttr(attributeName);delete previousAttributes[attributeName]}})};watchAttribute(scope,attr.translateAttr,function(newValue){translateAttr=newValue},updateTranslations);watchAttribute(scope,attr.translateValues,function(newValue){translateValues=newValue},updateTranslations);if(attr.translateValues){scope.$watch(attr.translateValues,updateTranslations,true)}scope.$on("translateLanguageChanged",updateTranslations);var unbind=$rootScope.$on("$translateChangeSuccess",updateTranslations);updateTranslations();scope.$on("$destroy",unbind)}}}function watchAttribute(scope,attribute,valueCallback,changeCallback){"use strict";if(!attribute){return}if(attribute.substr(0,2)==="::"){attribute=attribute.substr(2)}else{scope.$watch(attribute,function(newValue){valueCallback(newValue);changeCallback()},true)}valueCallback(scope.$eval(attribute))}translateAttrDirective.displayName="translateAttrDirective";angular.module("pascalprecht.translate").directive("translateCloak",translateCloakDirective);function translateCloakDirective($translate,$rootScope){"use strict";return{compile:function(tElement){var applyCloak=function(){tElement.addClass($translate.cloakClassName())},removeCloak=function(){tElement.removeClass($translate.cloakClassName())};$translate.onReady(function(){removeCloak()});applyCloak();return function linkFn(scope,iElement,iAttr){if(iAttr.translateCloak&&iAttr.translateCloak.length){iAttr.$observe("translateCloak",function(translationId){$translate(translationId).then(removeCloak,applyCloak)});$rootScope.$on("$translateChangeSuccess",function(){$translate(iAttr.translateCloak).then(removeCloak,applyCloak)})}}}}}translateCloakDirective.displayName="translateCloakDirective";angular.module("pascalprecht.translate").directive("translateNamespace",translateNamespaceDirective);function translateNamespaceDirective(){"use strict";return{restrict:"A",scope:true,compile:function(){return{pre:function(scope,iElement,iAttrs){scope.translateNamespace=getTranslateNamespace(scope);if(scope.translateNamespace&&iAttrs.translateNamespace.charAt(0)==="."){scope.translateNamespace+=iAttrs.translateNamespace}else{scope.translateNamespace=iAttrs.translateNamespace}}}}}}function getTranslateNamespace(scope){"use strict";if(scope.translateNamespace){return scope.translateNamespace}if(scope.$parent){return getTranslateNamespace(scope.$parent)}}translateNamespaceDirective.displayName="translateNamespaceDirective";angular.module("pascalprecht.translate").directive("translateLanguage",translateLanguageDirective);function translateLanguageDirective(){"use strict";return{restrict:"A",scope:true,compile:function(){return function linkFn(scope,iElement,iAttrs){iAttrs.$observe("translateLanguage",function(newTranslateLanguage){scope.translateLanguage=newTranslateLanguage});scope.$watch("translateLanguage",function(){scope.$broadcast("translateLanguageChanged")})}}}}translateLanguageDirective.displayName="translateLanguageDirective";angular.module("pascalprecht.translate").filter("translate",translateFilterFactory);function translateFilterFactory($parse,$translate){"use strict";var translateFilter=function(translationId,interpolateParams,interpolation,forceLanguage){if(!angular.isObject(interpolateParams)){interpolateParams=$parse(interpolateParams)(this)}return $translate.instant(translationId,interpolateParams,interpolation,forceLanguage)};if($translate.statefulFilter()){translateFilter.$stateful=true}return translateFilter}translateFilterFactory.displayName="translateFilterFactory";angular.module("pascalprecht.translate").factory("$translationCache",$translationCache);function $translationCache($cacheFactory){"use strict";return $cacheFactory("translations")}$translationCache.displayName="$translationCache";return"pascalprecht.translate"});
(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();
(function(window,angular){"use strict";angular.module("ngCookies",["ng"]).provider("$cookies",[function $CookiesProvider(){var defaults=this.defaults={};function calcOptions(options){return options?angular.extend({},defaults,options):defaults}this.$get=["$$cookieReader","$$cookieWriter",function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key]},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value},getAll:function(){return $$cookieReader()},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options))},putObject:function(key,value,options){this.put(key,angular.toJson(value),options)},remove:function(key,options){$$cookieWriter(key,undefined,calcOptions(options))}}}]}]);angular.module("ngCookies").factory("$cookieStore",["$cookies",function($cookies){return{get:function(key){return $cookies.getObject(key)},put:function(key,value){$cookies.putObject(key,value)},remove:function(key){$cookies.remove(key)}}}]);function $$CookieWriter($document,$log,$browser){var cookiePath=$browser.baseHref();var rawDocument=$document[0];function buildCookieString(name,value,options){var path,expires;options=options||{};expires=options.expires;path=angular.isDefined(options.path)?options.path:cookiePath;if(angular.isUndefined(value)){expires="Thu, 01 Jan 1970 00:00:00 GMT";value=""}if(angular.isString(expires)){expires=new Date(expires)}var str=encodeURIComponent(name)+"="+encodeURIComponent(value);str+=path?";path="+path:"";str+=options.domain?";domain="+options.domain:"";str+=expires?";expires="+expires.toUTCString():"";str+=options.secure?";secure":"";var cookieLength=str.length+1;if(cookieLength>4096){$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!")}return str}return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options)}}$$CookieWriter.$inject=["$document","$log","$browser"];angular.module("ngCookies").provider("$$cookieWriter",function $$CookieWriterProvider(){this.$get=$$CookieWriter})})(window,window.angular);
"use strict";(function(){angular.module("angularHwcrypto",[]).service("hwcrypto",["$window",function($window){if($window.hwcrypto){$window._thirdParty=$window._thirdParty||{};$window._thirdParty.hwcrypto=$window.hwcrypto;try{delete $window.hwcrypto}catch(e){$window.hwcrypto=undefined}}return $window._thirdParty.hwcrypto}])})();
angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function($document,$q,$timeout){var document=$document[0];var promises={};function loader(createElement){return function(url){if(typeof promises[url]==="undefined"){var deferred=$q.defer();var element=createElement(url);element.onload=element.onreadystatechange=function(e){if(element.readyState&&element.readyState!=="complete"&&element.readyState!=="loaded"){return}$timeout(function(){deferred.resolve(e)})};element.onerror=function(e){$timeout(function(){deferred.reject(e)})};promises[url]=deferred.promise}return promises[url]}}this.loadScript=loader(function(src){var script=document.createElement("script");script.src=src;document.body.appendChild(script);return script});this.loadCSS=loader(function(href){var style=document.createElement("link");style.rel="stylesheet";style.type="text/css";style.href=href;document.head.appendChild(style);return style});this.unloadCSS=function(href){delete promises[href];var docHead=document.head;if(docHead){var targetCss=docHead.querySelector('[href="'+href+'"]');if(targetCss){targetCss.remove();return true}}return false}}]);
"format amd";(function(){"use strict";function isUndefinedOrNull(val){return angular.isUndefined(val)||val===null}function requireMoment(){try{return require("moment")}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function angularMoment(angular,moment){if(typeof moment==="undefined"){if(typeof require==="function"){moment=requireMoment()}else{throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment")}}angular.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:true}).constant("moment",moment).constant("amTimeAgoConfig",{withoutSuffix:false,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function($window,moment,amMoment,amTimeAgoConfig){return function(scope,element,attr){var activeTimeout=null;var currentValue;var withoutSuffix=amTimeAgoConfig.withoutSuffix;var titleFormat=amTimeAgoConfig.titleFormat;var fullDateThreshold=amTimeAgoConfig.fullDateThreshold;var fullDateFormat=amTimeAgoConfig.fullDateFormat;var fullDateThresholdUnit=amTimeAgoConfig.fullDateThresholdUnit;var localDate=(new Date).getTime();var modelName=attr.amTimeAgo;var currentFrom;var isTimeElement="TIME"===element[0].nodeName.toUpperCase();var setTitleTime=!element.attr("title");function getNow(){var now;if(currentFrom){now=currentFrom}else if(amTimeAgoConfig.serverTime){var localNow=(new Date).getTime();var nowMillis=localNow-localDate+amTimeAgoConfig.serverTime;now=moment(nowMillis)}else{now=moment()}return now}function cancelTimer(){if(activeTimeout){$window.clearTimeout(activeTimeout);activeTimeout=null}}function updateTime(momentInstance){var timeAgo=getNow().diff(momentInstance,fullDateThresholdUnit);var showFullDate=fullDateThreshold&&timeAgo>=fullDateThreshold;if(showFullDate){element.text(momentInstance.format(fullDateFormat))}else{element.text(momentInstance.from(getNow(),withoutSuffix))}if(titleFormat&&setTitleTime){element.attr("title",momentInstance.format(titleFormat))}if(!showFullDate){var howOld=Math.abs(getNow().diff(momentInstance,"minute"));var secondsUntilUpdate=3600;if(howOld<1){secondsUntilUpdate=1}else if(howOld<60){secondsUntilUpdate=30}else if(howOld<180){secondsUntilUpdate=300}activeTimeout=$window.setTimeout(function(){updateTime(momentInstance)},secondsUntilUpdate*1e3)}}function updateDateTimeAttr(value){if(isTimeElement){element.attr("datetime",value)}}function updateMoment(){cancelTimer();if(currentValue){var momentValue=amMoment.preprocessDate(currentValue);updateTime(momentValue);updateDateTimeAttr(momentValue.toISOString())}}scope.$watch(modelName,function(value){if(isUndefinedOrNull(value)||value===""){cancelTimer();if(currentValue){element.text("");updateDateTimeAttr("");currentValue=null}return}currentValue=value;updateMoment()});if(angular.isDefined(attr.amFrom)){scope.$watch(attr.amFrom,function(value){if(isUndefinedOrNull(value)||value===""){currentFrom=null}else{currentFrom=moment(value)}updateMoment()})}if(angular.isDefined(attr.amWithoutSuffix)){scope.$watch(attr.amWithoutSuffix,function(value){if(typeof value==="boolean"){withoutSuffix=value;updateMoment()}else{withoutSuffix=amTimeAgoConfig.withoutSuffix}})}attr.$observe("amFullDateThreshold",function(newValue){fullDateThreshold=newValue;updateMoment()});attr.$observe("amFullDateFormat",function(newValue){fullDateFormat=newValue;updateMoment()});attr.$observe("amFullDateThresholdUnit",function(newValue){fullDateThresholdUnit=newValue;updateMoment()});scope.$on("$destroy",function(){cancelTimer()});scope.$on("amMoment:localeChanged",function(){updateMoment()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(moment,$rootScope,$log,angularMomentConfig){var defaultTimezone=null;this.changeLocale=function(locale,customization){var result=moment.locale(locale,customization);if(angular.isDefined(locale)){$rootScope.$broadcast("amMoment:localeChanged")}return result};this.changeTimezone=function(timezone){if(moment.tz&&moment.tz.setDefault){moment.tz.setDefault(timezone);$rootScope.$broadcast("amMoment:timezoneChanged")}else{$log.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.")}angularMomentConfig.timezone=timezone;defaultTimezone=timezone};this.preprocessDate=function(value){if(defaultTimezone!==angularMomentConfig.timezone){this.changeTimezone(angularMomentConfig.timezone)}if(angularMomentConfig.preprocess){return angularMomentConfig.preprocess(value)}if(!isNaN(parseFloat(value))&&isFinite(value)){return moment(parseInt(value,10))}return moment(value)}}]).filter("amParse",["moment",function(moment){return function(value,format){return moment(value,format)}}]).filter("amFromUnix",["moment",function(moment){return function(value){return moment.unix(value)}}]).filter("amUtc",["moment",function(moment){return function(value){return moment.utc(value)}}]).filter("amUtcOffset",["amMoment",function(amMoment){function amUtcOffset(value,offset){return amMoment.preprocessDate(value).utcOffset(offset)}return amUtcOffset}]).filter("amLocal",["moment",function(moment){return function(value){return moment.isMoment(value)?value.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(amMoment,angularMomentConfig,$log){function amTimezone(value,timezone){var aMoment=amMoment.preprocessDate(value);if(!timezone){return aMoment}if(aMoment.tz){return aMoment.tz(timezone)}else{$log.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?");return aMoment}}return amTimezone}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amCalendarFilter(value,referenceTime,formats){if(isUndefinedOrNull(value)){return""}var date=amMoment.preprocessDate(value);return date.isValid()?date.calendar(referenceTime,formats):""}amCalendarFilter.$stateful=angularMomentConfig.statefulFilters;return amCalendarFilter}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amDifferenceFilter(value,otherValue,unit,usePrecision){if(isUndefinedOrNull(value)){return""}var date=amMoment.preprocessDate(value);var date2=!isUndefinedOrNull(otherValue)?amMoment.preprocessDate(otherValue):moment();if(!date.isValid()||!date2.isValid()){return""}return date.diff(date2,unit,usePrecision)}amDifferenceFilter.$stateful=angularMomentConfig.statefulFilters;return amDifferenceFilter}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amDateFormatFilter(value,format){if(isUndefinedOrNull(value)){return""}var date=amMoment.preprocessDate(value);if(!date.isValid()){return""}return date.format(format)}amDateFormatFilter.$stateful=angularMomentConfig.statefulFilters;return amDateFormatFilter}]).filter("amDurationFormat",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amDurationFormatFilter(value,format,suffix){if(isUndefinedOrNull(value)){return""}return moment.duration(value,format).humanize(suffix)}amDurationFormatFilter.$stateful=angularMomentConfig.statefulFilters;return amDurationFormatFilter}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amTimeAgoFilter(value,suffix,from){var date,dateFrom;if(isUndefinedOrNull(value)){return""}value=amMoment.preprocessDate(value);date=moment(value);if(!date.isValid()){return""}dateFrom=moment(from);if(!isUndefinedOrNull(from)&&dateFrom.isValid()){return date.from(dateFrom,suffix)}return date.fromNow(suffix)}amTimeAgoFilter.$stateful=angularMomentConfig.statefulFilters;return amTimeAgoFilter}]).filter("amSubtract",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amSubtractFilter(value,amount,type){if(isUndefinedOrNull(value)){return""}return moment(value).subtract(parseInt(amount,10),type)}amSubtractFilter.$stateful=angularMomentConfig.statefulFilters;return amSubtractFilter}]).filter("amAdd",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amAddFilter(value,amount,type){if(isUndefinedOrNull(value)){return""}return moment(value).add(parseInt(amount,10),type)}amAddFilter.$stateful=angularMomentConfig.statefulFilters;return amAddFilter}]).filter("amStartOf",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amStartOfFilter(value,type){if(isUndefinedOrNull(value)){return""}return moment(value).startOf(type)}amStartOfFilter.$stateful=angularMomentConfig.statefulFilters;return amStartOfFilter}]).filter("amEndOf",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amEndOfFilter(value,type){if(isUndefinedOrNull(value)){return""}return moment(value).endOf(type)}amEndOfFilter.$stateful=angularMomentConfig.statefulFilters;return amEndOfFilter}]);return"angularMoment"}var isElectron=window&&window.process&&window.process.type;if(typeof define==="function"&&define.amd){define(["angular","moment"],angularMoment)}else if(typeof module!=="undefined"&&module&&module.exports&&typeof require==="function"&&!isElectron){module.exports=angularMoment(require("angular"),require("moment"))}else{angularMoment(angular,(typeof global!=="undefined"&&typeof global.moment!=="undefined"?global:window).moment)}})();
var qrcode=function(){var qrcode=function(typeNumber,errorCorrectLevel){var PAD0=236;var PAD1=17;var _typeNumber=typeNumber;var _errorCorrectLevel=QRErrorCorrectLevel[errorCorrectLevel];var _modules=null;var _moduleCount=0;var _dataCache=null;var _dataList=new Array;var _this={};var makeImpl=function(test,maskPattern){_moduleCount=_typeNumber*4+17;_modules=function(moduleCount){var modules=new Array(moduleCount);for(var row=0;row<moduleCount;row+=1){modules[row]=new Array(moduleCount);for(var col=0;col<moduleCount;col+=1){modules[row][col]=null}}return modules}(_moduleCount);setupPositionProbePattern(0,0);setupPositionProbePattern(_moduleCount-7,0);setupPositionProbePattern(0,_moduleCount-7);setupPositionAdjustPattern();setupTimingPattern();setupTypeInfo(test,maskPattern);if(_typeNumber>=7){setupTypeNumber(test)}if(_dataCache==null){_dataCache=createData(_typeNumber,_errorCorrectLevel,_dataList)}mapData(_dataCache,maskPattern)};var setupPositionProbePattern=function(row,col){for(var r=-1;r<=7;r+=1){if(row+r<=-1||_moduleCount<=row+r)continue;for(var c=-1;c<=7;c+=1){if(col+c<=-1||_moduleCount<=col+c)continue;if(0<=r&&r<=6&&(c==0||c==6)||0<=c&&c<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=c&&c<=4){_modules[row+r][col+c]=true}else{_modules[row+r][col+c]=false}}}};var getBestMaskPattern=function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i+=1){makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(_this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i}}return pattern};var setupTimingPattern=function(){for(var r=8;r<_moduleCount-8;r+=1){if(_modules[r][6]!=null){continue}_modules[r][6]=r%2==0}for(var c=8;c<_moduleCount-8;c+=1){if(_modules[6][c]!=null){continue}_modules[6][c]=c%2==0}};var setupPositionAdjustPattern=function(){var pos=QRUtil.getPatternPosition(_typeNumber);for(var i=0;i<pos.length;i+=1){for(var j=0;j<pos.length;j+=1){var row=pos[i];var col=pos[j];if(_modules[row][col]!=null){continue}for(var r=-2;r<=2;r+=1){for(var c=-2;c<=2;c+=1){if(r==-2||r==2||c==-2||c==2||r==0&&c==0){_modules[row+r][col+c]=true}else{_modules[row+r][col+c]=false}}}}}};var setupTypeNumber=function(test){var bits=QRUtil.getBCHTypeNumber(_typeNumber);for(var i=0;i<18;i+=1){var mod=!test&&(bits>>i&1)==1;_modules[Math.floor(i/3)][i%3+_moduleCount-8-3]=mod}for(var i=0;i<18;i+=1){var mod=!test&&(bits>>i&1)==1;_modules[i%3+_moduleCount-8-3][Math.floor(i/3)]=mod}};var setupTypeInfo=function(test,maskPattern){var data=_errorCorrectLevel<<3|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i+=1){var mod=!test&&(bits>>i&1)==1;if(i<6){_modules[i][8]=mod}else if(i<8){_modules[i+1][8]=mod}else{_modules[_moduleCount-15+i][8]=mod}}for(var i=0;i<15;i+=1){var mod=!test&&(bits>>i&1)==1;if(i<8){_modules[8][_moduleCount-i-1]=mod}else if(i<9){_modules[8][15-i-1+1]=mod}else{_modules[8][15-i-1]=mod}}_modules[_moduleCount-8][8]=!test};var mapData=function(data,maskPattern){var inc=-1;var row=_moduleCount-1;var bitIndex=7;var byteIndex=0;var maskFunc=QRUtil.getMaskFunction(maskPattern);for(var col=_moduleCount-1;col>0;col-=2){if(col==6)col-=1;while(true){for(var c=0;c<2;c+=1){if(_modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(data[byteIndex]>>>bitIndex&1)==1}var mask=maskFunc(row,col-c);if(mask){dark=!dark}_modules[row][col-c]=dark;bitIndex-=1;if(bitIndex==-1){byteIndex+=1;bitIndex=7}}}row+=inc;if(row<0||_moduleCount<=row){row-=inc;inc=-inc;break}}}};var createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r+=1){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i+=1){dcdata[r][i]=255&buffer.getBuffer()[i+offset]}offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=qrPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i+=1){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.getAt(modIndex):0}}var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i+=1){totalCodeCount+=rsBlocks[i].totalCount}var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i+=1){for(var r=0;r<rsBlocks.length;r+=1){if(i<dcdata[r].length){data[index]=dcdata[r][i];index+=1}}}for(var i=0;i<maxEcCount;i+=1){for(var r=0;r<rsBlocks.length;r+=1){if(i<ecdata[r].length){data[index]=ecdata[r][i];index+=1}}}return data};var createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=qrBitBuffer();for(var i=0;i<dataList.length;i+=1){var data=dataList[i];buffer.put(data.getMode(),4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.getMode(),typeNumber));data.write(buffer)}var totalDataCount=0;for(var i=0;i<rsBlocks.length;i+=1){totalDataCount+=rsBlocks[i].dataCount}if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+totalDataCount*8+")")}if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4)}while(buffer.getLengthInBits()%8!=0){buffer.putBit(false)}while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(PAD1,8)}return createBytes(buffer,rsBlocks)};_this.addData=function(data){var newData=qr8BitByte(data);_dataList.push(newData);_dataCache=null};_this.isDark=function(row,col){if(row<0||_moduleCount<=row||col<0||_moduleCount<=col){throw new Error(row+","+col)}return _modules[row][col]};_this.getModuleCount=function(){return _moduleCount};_this.make=function(){makeImpl(false,getBestMaskPattern())};_this.createTableTag=function(cellSize,margin){cellSize=cellSize||2;margin=typeof margin=="undefined"?cellSize*4:margin;var qrHtml="";qrHtml+='<table style="';qrHtml+=" border-width: 0px; border-style: none;";qrHtml+=" border-collapse: collapse;";qrHtml+=" padding: 0px; margin: "+margin+"px;";qrHtml+='">';qrHtml+="<tbody>";for(var r=0;r<_this.getModuleCount();r+=1){qrHtml+="<tr>";for(var c=0;c<_this.getModuleCount();c+=1){qrHtml+='<td style="';qrHtml+=" border-width: 0px; border-style: none;";qrHtml+=" border-collapse: collapse;";qrHtml+=" padding: 0px; margin: 0px;";qrHtml+=" width: "+cellSize+"px;";qrHtml+=" height: "+cellSize+"px;";qrHtml+=" background-color: ";qrHtml+=_this.isDark(r,c)?"#000000":"#ffffff";qrHtml+=";";qrHtml+='"/>'}qrHtml+="</tr>"}qrHtml+="</tbody>";qrHtml+="</table>";return qrHtml};_this.createImgTag=function(cellSize,margin){cellSize=cellSize||2;margin=typeof margin=="undefined"?cellSize*4:margin;var size=_this.getModuleCount()*cellSize+margin*2;var min=margin;var max=size-margin;return createImgTag(size,size,function(x,y){if(min<=x&&x<max&&min<=y&&y<max){var c=Math.floor((x-min)/cellSize);var r=Math.floor((y-min)/cellSize);return _this.isDark(r,c)?0:1}else{return 1}})};return _this};qrcode.stringToBytes=function(s){var bytes=new Array;for(var i=0;i<s.length;i+=1){var c=s.charCodeAt(i);bytes.push(c&255)}return bytes};qrcode.createStringToBytes=function(unicodeData,numChars){var unicodeMap=function(){var bin=base64DecodeInputStream(unicodeData);var read=function(){var b=bin.read();if(b==-1)throw new Error;return b};var count=0;var unicodeMap={};while(true){var b0=bin.read();if(b0==-1)break;var b1=read();var b2=read();var b3=read();var k=String.fromCharCode(b0<<8|b1);var v=b2<<8|b3;unicodeMap[k]=v;count+=1}if(count!=numChars){throw new Error(count+" != "+numChars)}return unicodeMap}();var unknownChar="?".charCodeAt(0);return function(s){var bytes=new Array;for(var i=0;i<s.length;i+=1){var c=s.charCodeAt(i);if(c<128){bytes.push(c)}else{var b=unicodeMap[s.charAt(i)];if(typeof b=="number"){if((b&255)==b){bytes.push(b)}else{bytes.push(b>>>8);bytes.push(b&255)}}else{bytes.push(unknownChar)}}}return bytes}};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil=function(){var PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]];var G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0;var G18=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0;var G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1;var _this={};var getBCHDigit=function(data){var digit=0;while(data!=0){digit+=1;data>>>=1}return digit};_this.getBCHTypeInfo=function(data){var d=data<<10;while(getBCHDigit(d)-getBCHDigit(G15)>=0){d^=G15<<getBCHDigit(d)-getBCHDigit(G15)}return(data<<10|d)^G15_MASK};_this.getBCHTypeNumber=function(data){var d=data<<12;while(getBCHDigit(d)-getBCHDigit(G18)>=0){d^=G18<<getBCHDigit(d)-getBCHDigit(G18)}return data<<12|d};_this.getPatternPosition=function(typeNumber){return PATTERN_POSITION_TABLE[typeNumber-1]};_this.getMaskFunction=function(maskPattern){switch(maskPattern){case QRMaskPattern.PATTERN000:return function(i,j){return(i+j)%2==0};case QRMaskPattern.PATTERN001:return function(i,j){return i%2==0};case QRMaskPattern.PATTERN010:return function(i,j){return j%3==0};case QRMaskPattern.PATTERN011:return function(i,j){return(i+j)%3==0};case QRMaskPattern.PATTERN100:return function(i,j){return(Math.floor(i/2)+Math.floor(j/3))%2==0};case QRMaskPattern.PATTERN101:return function(i,j){return i*j%2+i*j%3==0};case QRMaskPattern.PATTERN110:return function(i,j){return(i*j%2+i*j%3)%2==0};case QRMaskPattern.PATTERN111:return function(i,j){return(i*j%3+(i+j)%2)%2==0};default:throw new Error("bad maskPattern:"+maskPattern)}};_this.getErrorCorrectPolynomial=function(errorCorrectLength){var a=qrPolynomial([1],0);for(var i=0;i<errorCorrectLength;i+=1){a=a.multiply(qrPolynomial([1,QRMath.gexp(i)],0))}return a};_this.getLengthInBits=function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}else{throw new Error("type:"+type)}};_this.getLostPoint=function(qrcode){var moduleCount=qrcode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row+=1){for(var col=0;col<moduleCount;col+=1){var sameCount=0;var dark=qrcode.isDark(row,col);for(var r=-1;r<=1;r+=1){if(row+r<0||moduleCount<=row+r){continue}for(var c=-1;c<=1;c+=1){if(col+c<0||moduleCount<=col+c){continue}if(r==0&&c==0){continue}if(dark==qrcode.isDark(row+r,col+c)){sameCount+=1}}}if(sameCount>5){lostPoint+=3+sameCount-5}}}for(var row=0;row<moduleCount-1;row+=1){for(var col=0;col<moduleCount-1;col+=1){var count=0;if(qrcode.isDark(row,col))count+=1;if(qrcode.isDark(row+1,col))count+=1;if(qrcode.isDark(row,col+1))count+=1;if(qrcode.isDark(row+1,col+1))count+=1;if(count==0||count==4){lostPoint+=3}}}for(var row=0;row<moduleCount;row+=1){for(var col=0;col<moduleCount-6;col+=1){if(qrcode.isDark(row,col)&&!qrcode.isDark(row,col+1)&&qrcode.isDark(row,col+2)&&qrcode.isDark(row,col+3)&&qrcode.isDark(row,col+4)&&!qrcode.isDark(row,col+5)&&qrcode.isDark(row,col+6)){lostPoint+=40}}}for(var col=0;col<moduleCount;col+=1){for(var row=0;row<moduleCount-6;row+=1){if(qrcode.isDark(row,col)&&!qrcode.isDark(row+1,col)&&qrcode.isDark(row+2,col)&&qrcode.isDark(row+3,col)&&qrcode.isDark(row+4,col)&&!qrcode.isDark(row+5,col)&&qrcode.isDark(row+6,col)){lostPoint+=40}}}var darkCount=0;for(var col=0;col<moduleCount;col+=1){for(var row=0;row<moduleCount;row+=1){if(qrcode.isDark(row,col)){darkCount+=1}}}var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint};return _this}();var QRMath=function(){var EXP_TABLE=new Array(256);var LOG_TABLE=new Array(256);for(var i=0;i<8;i+=1){EXP_TABLE[i]=1<<i}for(var i=8;i<256;i+=1){EXP_TABLE[i]=EXP_TABLE[i-4]^EXP_TABLE[i-5]^EXP_TABLE[i-6]^EXP_TABLE[i-8]}for(var i=0;i<255;i+=1){LOG_TABLE[EXP_TABLE[i]]=i}var _this={};_this.glog=function(n){if(n<1){throw new Error("glog("+n+")")}return LOG_TABLE[n]};_this.gexp=function(n){while(n<0){n+=255}while(n>=256){n-=255}return EXP_TABLE[n]};return _this}();function qrPolynomial(num,shift){if(typeof num.length=="undefined"){throw new Error(num.length+"/"+shift)}var _num=function(){var offset=0;while(offset<num.length&&num[offset]==0){offset+=1}var _num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i+=1){_num[i]=num[i+offset]}return _num}();var _this={};_this.getAt=function(index){return _num[index]};_this.getLength=function(){return _num.length};_this.multiply=function(e){var num=new Array(_this.getLength()+e.getLength()-1);for(var i=0;i<_this.getLength();i+=1){for(var j=0;j<e.getLength();j+=1){num[i+j]^=QRMath.gexp(QRMath.glog(_this.getAt(i))+QRMath.glog(e.getAt(j)))}}return qrPolynomial(num,0)};_this.mod=function(e){if(_this.getLength()-e.getLength()<0){return _this}var ratio=QRMath.glog(_this.getAt(0))-QRMath.glog(e.getAt(0));var num=new Array(_this.getLength());for(var i=0;i<_this.getLength();i+=1){num[i]=_this.getAt(i)}for(var i=0;i<e.getLength();i+=1){num[i]^=QRMath.gexp(QRMath.glog(e.getAt(i))+ratio)}return qrPolynomial(num,0).mod(e)};return _this}var QRRSBlock=function(){var RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];var qrRSBlock=function(totalCount,dataCount){var _this={};_this.totalCount=totalCount;_this.dataCount=dataCount;return _this};var _this={};var getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined}};_this.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=getRsBlockTable(typeNumber,errorCorrectLevel);if(typeof rsBlock=="undefined"){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel)}var length=rsBlock.length/3;var list=new Array;for(var i=0;i<length;i+=1){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j+=1){list.push(qrRSBlock(totalCount,dataCount))}}return list};return _this}();var qrBitBuffer=function(){var _buffer=new Array;var _length=0;var _this={};_this.getBuffer=function(){return _buffer};_this.getAt=function(index){var bufIndex=Math.floor(index/8);return(_buffer[bufIndex]>>>7-index%8&1)==1};_this.put=function(num,length){for(var i=0;i<length;i+=1){_this.putBit((num>>>length-i-1&1)==1)}};_this.getLengthInBits=function(){return _length};_this.putBit=function(bit){var bufIndex=Math.floor(_length/8);if(_buffer.length<=bufIndex){_buffer.push(0)}if(bit){_buffer[bufIndex]|=128>>>_length%8}_length+=1};return _this};var qr8BitByte=function(data){var _mode=QRMode.MODE_8BIT_BYTE;var _data=data;var _bytes=qrcode.stringToBytes(data);var _this={};_this.getMode=function(){return _mode};_this.getLength=function(buffer){return _bytes.length};_this.write=function(buffer){for(var i=0;i<_bytes.length;i+=1){buffer.put(_bytes[i],8)}};return _this};var byteArrayOutputStream=function(){var _bytes=new Array;var _this={};_this.writeByte=function(b){_bytes.push(b&255)};_this.writeShort=function(i){_this.writeByte(i);_this.writeByte(i>>>8)};_this.writeBytes=function(b,off,len){off=off||0;len=len||b.length;for(var i=0;i<len;i+=1){_this.writeByte(b[i+off])}};_this.writeString=function(s){for(var i=0;i<s.length;i+=1){_this.writeByte(s.charCodeAt(i))}};_this.toByteArray=function(){return _bytes};_this.toString=function(){var s="";s+="[";for(var i=0;i<_bytes.length;i+=1){if(i>0){s+=","}s+=_bytes[i]}s+="]";return s};return _this};var base64EncodeOutputStream=function(){var _buffer=0;var _buflen=0;var _length=0;var _base64="";var _this={};var writeEncoded=function(b){_base64+=String.fromCharCode(encode(b&63))};var encode=function(n){if(n<0){}else if(n<26){return 65+n}else if(n<52){return 97+(n-26)}else if(n<62){return 48+(n-52)}else if(n==62){return 43}else if(n==63){return 47}throw new Error("n:"+n)};_this.writeByte=function(n){_buffer=_buffer<<8|n&255;_buflen+=8;_length+=1;while(_buflen>=6){writeEncoded(_buffer>>>_buflen-6);_buflen-=6}};_this.flush=function(){if(_buflen>0){writeEncoded(_buffer<<6-_buflen);_buffer=0;_buflen=0}if(_length%3!=0){var padlen=3-_length%3;for(var i=0;i<padlen;i+=1){_base64+="="}}};_this.toString=function(){return _base64};return _this};var base64DecodeInputStream=function(str){var _str=str;var _pos=0;var _buffer=0;var _buflen=0;var _this={};_this.read=function(){while(_buflen<8){if(_pos>=_str.length){if(_buflen==0){return-1}throw new Error("unexpected end of file./"+_buflen)}var c=_str.charAt(_pos);_pos+=1;if(c=="="){_buflen=0;return-1}else if(c.match(/^\s$/)){continue}_buffer=_buffer<<6|decode(c.charCodeAt(0));_buflen+=6}var n=_buffer>>>_buflen-8&255;_buflen-=8;return n};var decode=function(c){if(65<=c&&c<=90){return c-65}else if(97<=c&&c<=122){return c-97+26}else if(48<=c&&c<=57){return c-48+52}else if(c==43){return 62}else if(c==47){return 63}else{throw new Error("c:"+c)}};return _this};var gifImage=function(width,height){var _width=width;var _height=height;var _data=new Array(width*height);var _this={};_this.setPixel=function(x,y,pixel){_data[y*_width+x]=pixel};_this.write=function(out){out.writeString("GIF87a");out.writeShort(_width);out.writeShort(_height);out.writeByte(128);out.writeByte(0);out.writeByte(0);out.writeByte(0);out.writeByte(0);out.writeByte(0);out.writeByte(255);out.writeByte(255);out.writeByte(255);out.writeString(",");out.writeShort(0);out.writeShort(0);out.writeShort(_width);out.writeShort(_height);out.writeByte(0);var lzwMinCodeSize=2;var raster=getLZWRaster(lzwMinCodeSize);out.writeByte(lzwMinCodeSize);var offset=0;while(raster.length-offset>255){out.writeByte(255);out.writeBytes(raster,offset,255);offset+=255}out.writeByte(raster.length-offset);out.writeBytes(raster,offset,raster.length-offset);out.writeByte(0);out.writeString(";")};var bitOutputStream=function(out){var _out=out;var _bitLength=0;var _bitBuffer=0;var _this={};_this.write=function(data,length){if(data>>>length!=0){throw new Error("length over")}while(_bitLength+length>=8){_out.writeByte(255&(data<<_bitLength|_bitBuffer));length-=8-_bitLength;data>>>=8-_bitLength;_bitBuffer=0;_bitLength=0}_bitBuffer=data<<_bitLength|_bitBuffer;_bitLength=_bitLength+length};_this.flush=function(){if(_bitLength>0){_out.writeByte(_bitBuffer)}};return _this};var getLZWRaster=function(lzwMinCodeSize){var clearCode=1<<lzwMinCodeSize;var endCode=(1<<lzwMinCodeSize)+1;var bitLength=lzwMinCodeSize+1;var table=lzwTable();for(var i=0;i<clearCode;i+=1){table.add(String.fromCharCode(i))}table.add(String.fromCharCode(clearCode));table.add(String.fromCharCode(endCode));var byteOut=byteArrayOutputStream();var bitOut=bitOutputStream(byteOut);bitOut.write(clearCode,bitLength);var dataIndex=0;var s=String.fromCharCode(_data[dataIndex]);dataIndex+=1;while(dataIndex<_data.length){var c=String.fromCharCode(_data[dataIndex]);dataIndex+=1;if(table.contains(s+c)){s=s+c}else{bitOut.write(table.indexOf(s),bitLength);if(table.size()<4095){if(table.size()==1<<bitLength){bitLength+=1}table.add(s+c)}s=c}}bitOut.write(table.indexOf(s),bitLength);bitOut.write(endCode,bitLength);bitOut.flush();return byteOut.toByteArray()};var lzwTable=function(){var _map={};var _size=0;var _this={};_this.add=function(key){if(_this.contains(key)){throw new Error("dup key:"+key)}_map[key]=_size;_size+=1};_this.size=function(){return _size};_this.indexOf=function(key){return _map[key]};_this.contains=function(key){return typeof _map[key]!="undefined"};return _this};return _this};var createImgTag=function(width,height,getPixel,alt){var gif=gifImage(width,height);for(var y=0;y<height;y+=1){for(var x=0;x<width;x+=1){gif.setPixel(x,y,getPixel(x,y))}}var b=byteArrayOutputStream();gif.write(b);var base64=base64EncodeOutputStream();var bytes=b.toByteArray();for(var i=0;i<bytes.length;i+=1){base64.writeByte(bytes[i])}base64.flush();var img="";img+="<img";img+=' src="';img+="data:image/gif;base64,";img+=base64;img+='"';img+=' width="';img+=width;img+='"';img+=' height="';img+=height;img+='"';if(alt){img+=' alt="';img+=alt;img+='"'}img+="/>";return img};return qrcode}();(function(factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}})(function(){return qrcode});angular.module("monospaced.qrcode",[]).directive("qrcode",["$window",function($window){var canvas2D=!!$window.CanvasRenderingContext2D,levels={L:"Low",M:"Medium",Q:"Quartile",H:"High"},draw=function(context,qr,modules,tile){for(var row=0;row<modules;row++){for(var col=0;col<modules;col++){var w=Math.ceil((col+1)*tile)-Math.floor(col*tile),h=Math.ceil((row+1)*tile)-Math.floor(row*tile);context.fillStyle=qr.isDark(row,col)?"#000":"#fff";context.fillRect(Math.round(col*tile),Math.round(row*tile),w,h)}}};return{restrict:"E",template:'<canvas class="qrcode"></canvas>',link:function(scope,element,attrs){var domElement=element[0],$canvas=element.find("canvas"),canvas=$canvas[0],context=canvas2D?canvas.getContext("2d"):null,download="download"in attrs,href=attrs.href,link=download||href?document.createElement("a"):"",trim=/^\s+|\s+$/g,error,version,errorCorrectionLevel,data,size,modules,tile,qr,$img,setVersion=function(value){version=Math.max(1,Math.min(parseInt(value,10),10))||4},setErrorCorrectionLevel=function(value){errorCorrectionLevel=value in levels?value:"M"},setData=function(value){if(!value){return}data=value.replace(trim,"");qr=qrcode(version,errorCorrectionLevel);qr.addData(data);try{qr.make()}catch(e){error=e.message;return}error=false;modules=qr.getModuleCount()},setSize=function(value){size=parseInt(value,10)||modules*2;tile=size/modules;canvas.width=canvas.height=size},render=function(){if(!qr){return}if(error){if(link){link.removeAttribute("download");link.title="";link.href="#_"}if(!canvas2D){domElement.innerHTML='<img src width="'+size+'"'+'height="'+size+'"'+'class="qrcode">'}scope.$emit("qrcode:error",error);return}if(download){domElement.download="qrcode.png";domElement.title="Download QR code"}if(canvas2D){draw(context,qr,modules,tile);if(download){domElement.href=canvas.toDataURL("image/png");return}}else{domElement.innerHTML=qr.createImgTag(tile,0);$img=element.find("img");$img.addClass("qrcode");if(download){domElement.href=$img[0].src;return}}if(href){domElement.href=href}};if(link){link.className="qrcode-link";$canvas.wrap(link);domElement=link}setVersion(attrs.version);setErrorCorrectionLevel(attrs.errorCorrectionLevel);setSize(attrs.size);attrs.$observe("version",function(value){if(!value){return}setVersion(value);setData(data);setSize(size);render()});attrs.$observe("errorCorrectionLevel",function(value){if(!value){return}setErrorCorrectionLevel(value);setData(data);setSize(size);render()});attrs.$observe("data",function(value){if(!value){return}setData(value);setSize(size);render()});attrs.$observe("size",function(value){if(!value){return}setSize(value);render()});attrs.$observe("href",function(value){if(!value){return}href=value;render()})}}}]);
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isDefined;var lowercase;var noop;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isDefined=angular.isDefined;lowercase=angular.lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;var voidElements=toMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=toMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,toMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,toMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=toMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=toMap("background,cite,href,longdesc,src,xlink:href");var htmlAttrs=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function toMap(str,lowercaseKeys){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}var inertBodyElement;(function(window){var doc;if(window.document&&window.document.implementation){doc=window.document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var docElement=doc.documentElement||doc.getDocumentElement();var bodyElements=docElement.getElementsByTagName("body");if(bodyElements.length===1){inertBodyElement=bodyElements[0]}else{var html=doc.createElement("html");inertBodyElement=doc.createElement("body");html.appendChild(inertBodyElement);doc.appendChild(html)}})(window);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}inertBodyElement.innerHTML=html;var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;if(window.document.documentMode){stripCustomNsAttrs(inertBodyElement)}html=inertBodyElement.innerHTML;inertBodyElement.innerHTML=html}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType==1){handler.end(node.nodeName.toLowerCase())}nextNode=node.nextSibling;if(!nextNode){while(nextNode==null){node=node.parentNode;if(node===inertBodyElement)break;nextNode=node.nextSibling;if(node.nodeType==1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}nextNode=node.nextSibling;if(nextNode){stripCustomNsAttrs(nextNode)}}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular);
(function withAngular(angular,window){"use strict";var directiveName="tooltips",resizeObserver=function resizeObserver(){var callbacks=[],lastTime=0,runCallbacks=function runCallbacks(currentTime){if(currentTime-lastTime>=15){callbacks.forEach(function iterator(callback){callback()});lastTime=currentTime}else{window.console.log("Skipped!")}},resizeTimeout,resize=function resize(){window.clearTimeout(resizeTimeout);resizeTimeout=window.setTimeout(function onResizeTimeout(){window.requestAnimationFrame(runCallbacks)},500)},addCallback=function addCallback(callback){if(callback){callbacks.push(callback)}};return{add:function add(callback){if(!callbacks.length){window.addEventListener("resize",resize)}addCallback(callback)},remove:function remove(){if(!callbacks.length){window.clearTimeout(resizeTimeout);window.removeEventListener("resize",resize)}}}}(),getAttributesToAdd=function getAttributesToAdd(element){var attributesToAdd={};element.removeAttr(directiveName);if(element.attr("tooltip-template")!==undefined){attributesToAdd["tooltip-template"]=element.attr("tooltip-template");element.removeAttr("tooltip-template")}if(element.attr("tooltip-template-url")!==undefined){attributesToAdd["tooltip-template-url"]=element.attr("tooltip-template-url");element.removeAttr("tooltip-template-url")}if(element.attr("tooltip-template-url-cache")!==undefined){attributesToAdd["tooltip-template-url-cache"]=element.attr("tooltip-template-url-cache");element.removeAttr("tooltip-template-url-cache")}if(element.attr("tooltip-controller")!==undefined){attributesToAdd["tooltip-controller"]=element.attr("tooltip-controller");element.removeAttr("tooltip-controller")}if(element.attr("tooltip-side")!==undefined){attributesToAdd["tooltip-side"]=element.attr("tooltip-side");element.removeAttr("tooltip-side")}if(element.attr("tooltip-show-trigger")!==undefined){attributesToAdd["tooltip-show-trigger"]=element.attr("tooltip-show-trigger");element.removeAttr("tooltip-show-trigger")}if(element.attr("tooltip-hide-trigger")!==undefined){attributesToAdd["tooltip-hide-trigger"]=element.attr("tooltip-hide-trigger");element.removeAttr("tooltip-hide-trigger")}if(element.attr("tooltip-smart")!==undefined){attributesToAdd["tooltip-smart"]=element.attr("tooltip-smart");element.removeAttr("tooltip-smart")}if(element.attr("tooltip-class")!==undefined){attributesToAdd["tooltip-class"]=element.attr("tooltip-class");element.removeAttr("tooltip-class")}if(element.attr("tooltip-show")!==undefined){attributesToAdd["tooltip-show"]=element.attr("tooltip-show");element.removeAttr("tooltip-show")}if(element.attr("tooltip-close-button")!==undefined){attributesToAdd["tooltip-close-button"]=element.attr("tooltip-close-button");element.removeAttr("tooltip-close-button")}if(element.attr("tooltip-size")!==undefined){attributesToAdd["tooltip-size"]=element.attr("tooltip-size");element.removeAttr("tooltip-size")}if(element.attr("tooltip-speed")!==undefined){attributesToAdd["tooltip-speed"]=element.attr("tooltip-speed");element.removeAttr("tooltip-speed")}return attributesToAdd},getStyle=function getStyle(anElement){if(window.getComputedStyle){return window.getComputedStyle(anElement,"")}else if(anElement.currentStyle){return anElement.currentStyle}},getAppendedTip=function getAppendedTip(theTooltipElement){var tipsInBody=window.document.querySelectorAll("._exradicated-tooltip"),aTipInBody,tipsInBodyIndex=0,tipsInBodyLength=tipsInBody.length,angularizedElement;for(;tipsInBodyIndex<tipsInBodyLength;tipsInBodyIndex+=1){aTipInBody=tipsInBody.item(tipsInBodyIndex);if(aTipInBody){angularizedElement=angular.element(aTipInBody);if(angularizedElement.data("_tooltip-parent")&&angularizedElement.data("_tooltip-parent")===theTooltipElement){return angularizedElement}}}},removeAppendedTip=function removeAppendedTip(theTooltipElement){var tipElement=getAppendedTip(theTooltipElement);if(tipElement){tipElement.remove()}},isOutOfPage=function isOutOfPage(theTipElement){if(theTipElement){var squarePosition=theTipElement[0].getBoundingClientRect();if(squarePosition.top<0||squarePosition.top>window.document.body.offsetHeight||squarePosition.left<0||squarePosition.left>window.document.body.offsetWidth||squarePosition.bottom<0||squarePosition.bottom>window.document.body.offsetHeight||squarePosition.right<0||squarePosition.right>window.document.body.offsetWidth){theTipElement.css({top:"",left:"",bottom:"",right:""});return true}return false}throw new Error("You must provide a position")},getSideClasses=function getSideClasses(sides){return sides.split(" ").map(function mapSideClasses(side){return"_"+side}).join(" ")},directions=["_top","_top _left","_left","_bottom _left","_bottom","_bottom _right","_right","_top _right"],smartPosition=function smartPosition(tipElement,tooltipElement,startSide){var directionsIndex=directions.indexOf(getSideClasses(startSide)),directionsLength=directions.length,directionsCount=0;for(;directionsCount<directionsLength&&isOutOfPage(tipElement);directionsCount+=1){directionsIndex+=1;if(directionsIndex>=directions.length){directionsIndex=0}tooltipElement.removeClass("_top _left _bottom _right");tooltipElement.addClass(directions[directionsIndex])}},tooltipConfigurationProvider=function tooltipConfigurationProvider(){var tooltipConfiguration={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave",class:"",smart:false,closeButton:false,size:"",speed:"steady",tooltipTemplateUrlCache:false,show:null};return{configure:function configure(configuration){var configurationKeys=Object.keys(tooltipConfiguration),configurationIndex=0,aConfigurationKey;if(configuration){for(;configurationIndex<configurationKeys.length;configurationIndex+=1){aConfigurationKey=configurationKeys[configurationIndex];if(aConfigurationKey&&configuration[aConfigurationKey]){tooltipConfiguration[aConfigurationKey]=configuration[aConfigurationKey]}}}},$get:function instantiateProvider(){return tooltipConfiguration}}},tooltipDirective=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache","$q",function tooltipDirective($log,$http,$compile,$timeout,$controller,$injector,tooltipsConf,$templateCache,$q){var linkingFunction=function linkingFunction($scope,$element,$attrs,$controllerDirective,$transcludeFunc){if($attrs.tooltipTemplate&&$attrs.tooltipTemplateUrl){throw new Error("You can not define tooltip-template and tooltip-template-url together")}if(!($attrs.tooltipTemplateUrl||$attrs.tooltipTemplate)&&$attrs.tooltipController){throw new Error("You can not have a controller without a template or templateUrl defined")}var oldTooltipSide=getSideClasses(tooltipsConf.side),oldTooltipShowTrigger=tooltipsConf.showTrigger,oldTooltipHideTrigger=tooltipsConf.hideTrigger,oldTooltipClass,oldSize=tooltipsConf.size,oldSpeed="_"+tooltipsConf.speed;$attrs.tooltipSide=$attrs.tooltipSide||tooltipsConf.side;$attrs.tooltipShowTrigger=$attrs.tooltipShowTrigger||tooltipsConf.showTrigger;$attrs.tooltipHideTrigger=$attrs.tooltipHideTrigger||tooltipsConf.hideTrigger;$attrs.tooltipShow=$attrs.tooltipShow||tooltipsConf.show;$attrs.tooltipClass=$attrs.tooltipClass||tooltipsConf.class;$attrs.tooltipSmart=$attrs.tooltipSmart==="true"||tooltipsConf.smart;$attrs.tooltipCloseButton=$attrs.tooltipCloseButton||tooltipsConf.closeButton.toString();$attrs.tooltipSize=$attrs.tooltipSize||tooltipsConf.size;$attrs.tooltipSpeed=$attrs.tooltipSpeed||tooltipsConf.speed;$attrs.tooltipAppendToBody=$attrs.tooltipAppendToBody==="true";$transcludeFunc($scope,function onTransclusionDone(element,scope){var attributes=getAttributesToAdd(element),tooltipElement=angular.element(window.document.createElement("tooltip")),tipContElement=angular.element(window.document.createElement("tip-cont")),tipElement=angular.element(window.document.createElement("tip")),tipTipElement=angular.element(window.document.createElement("tip-tip")),closeButtonElement=angular.element(window.document.createElement("span")),tipArrowElement=angular.element(window.document.createElement("tip-arrow")),whenActivateMultilineCalculation=function whenActivateMultilineCalculation(){return tipContElement.html()},calculateIfMultiLine=function calculateIfMultiLine(newValue){if(newValue!==undefined&&tipContElement[0].getClientRects().length>1){tooltipElement.addClass("_multiline")}else{tooltipElement.removeClass("_multiline")}},onTooltipShow=function onTooltipShow(event){if(event&&!tooltipElement.hasClass("active")){event.stopImmediatePropagation()}tipElement.addClass("_hidden");if($attrs.tooltipSmart){switch($attrs.tooltipSide){case"top":case"left":case"bottom":case"right":case"top left":case"top right":case"bottom left":case"bottom right":{smartPosition(tipElement,tooltipElement,$attrs.tooltipSide);break}default:{throw new Error("Position not supported")}}}if($attrs.tooltipAppendToBody){var tipTipElementStyle=getStyle(tipTipElement[0]),tipArrowElementStyle=getStyle(tipArrowElement[0]),tipElementStyle=getStyle(tipElement[0]),tipElementBoundingClientRect=tipElement[0].getBoundingClientRect(),exradicatedTipElement=angular.copy(tipElement),tipTipStyleIndex=0,tipTipStyleLength=tipTipElementStyle.length,tipArrowStyleIndex=0,tipArrowStyleLength=tipArrowElementStyle.length,tipStyleIndex=0,tipStyleLength=tipElementStyle.length,aStyleKey,tipTipCssToSet={},tipCssToSet={},tipArrowCssToSet={},paddingTopValue,paddingBottomValue,paddingLeftValue,paddingRightValue;tipElement.removeClass("_hidden");exradicatedTipElement.removeClass("_hidden");exradicatedTipElement.data("_tooltip-parent",tooltipElement);removeAppendedTip(tooltipElement);for(;tipTipStyleIndex<tipTipStyleLength;tipTipStyleIndex+=1){aStyleKey=tipTipElementStyle[tipTipStyleIndex];if(aStyleKey&&tipTipElementStyle.getPropertyValue(aStyleKey)){tipTipCssToSet[aStyleKey]=tipTipElementStyle.getPropertyValue(aStyleKey)}}for(;tipArrowStyleIndex<tipArrowStyleLength;tipArrowStyleIndex+=1){aStyleKey=tipArrowElementStyle[tipArrowStyleIndex];if(aStyleKey&&tipArrowElementStyle.getPropertyValue(aStyleKey)){tipArrowCssToSet[aStyleKey]=tipArrowElementStyle.getPropertyValue(aStyleKey)}}for(;tipStyleIndex<tipStyleLength;tipStyleIndex+=1){aStyleKey=tipElementStyle[tipStyleIndex];if(aStyleKey&&aStyleKey!=="position"&&aStyleKey!=="display"&&aStyleKey!=="opacity"&&aStyleKey!=="z-index"&&aStyleKey!=="bottom"&&aStyleKey!=="height"&&aStyleKey!=="left"&&aStyleKey!=="right"&&aStyleKey!=="top"&&aStyleKey!=="width"&&tipElementStyle.getPropertyValue(aStyleKey)){tipCssToSet[aStyleKey]=tipElementStyle.getPropertyValue(aStyleKey)}}paddingTopValue=window.parseInt(tipElementStyle.getPropertyValue("padding-top"),10);paddingBottomValue=window.parseInt(tipElementStyle.getPropertyValue("padding-bottom"),10);paddingLeftValue=window.parseInt(tipElementStyle.getPropertyValue("padding-left"),10);paddingRightValue=window.parseInt(tipElementStyle.getPropertyValue("padding-right"),10);tipCssToSet.top=tipElementBoundingClientRect.top+window.pageYOffset+"px";tipCssToSet.left=tipElementBoundingClientRect.left+window.pageXOffset+"px";tipCssToSet.height=tipElementBoundingClientRect.height-(paddingTopValue+paddingBottomValue)+"px";tipCssToSet.width=tipElementBoundingClientRect.width-(paddingLeftValue+paddingRightValue)+"px";exradicatedTipElement.css(tipCssToSet);exradicatedTipElement.children().css(tipTipCssToSet);exradicatedTipElement.children().next().css(tipArrowCssToSet);if(event&&$attrs.tooltipHidden!=="true"){exradicatedTipElement.addClass("_exradicated-tooltip");angular.element(window.document.body).append(exradicatedTipElement)}}else{tipElement.removeClass("_hidden");if(event&&$attrs.tooltipHidden!=="true"){tooltipElement.addClass("active")}}},onTooltipHide=function onTooltipHide(event){if(event&&tooltipElement.hasClass("active")){event.stopImmediatePropagation()}if($attrs.tooltipAppendToBody){removeAppendedTip(tooltipElement)}else{tooltipElement.removeClass("active")}},registerOnScrollFrom=function registerOnScrollFrom(theElement){var parentElement=theElement.parent(),timer;if(theElement[0]&&(theElement[0].scrollHeight>theElement[0].clientHeight||theElement[0].scrollWidth>theElement[0].clientWidth)){theElement.on("scroll",function onScroll(){var that=this;if(timer){$timeout.cancel(timer)}timer=$timeout(function doLater(){var theTipElement=getAppendedTip(tooltipElement),tooltipBoundingRect=tooltipElement[0].getBoundingClientRect(),thatBoundingRect=that.getBoundingClientRect();if(tooltipBoundingRect.top<thatBoundingRect.top||tooltipBoundingRect.bottom>thatBoundingRect.bottom||tooltipBoundingRect.left<thatBoundingRect.left||tooltipBoundingRect.right>thatBoundingRect.right){removeAppendedTip(tooltipElement)}else if(theTipElement){onTooltipShow(true)}})})}if(parentElement&&parentElement.length){registerOnScrollFrom(parentElement)}},showTemplate=function showTemplate(template){tooltipElement.removeClass("_force-hidden");tipTipElement.empty();tipTipElement.append(closeButtonElement);tipTipElement.append(template);$timeout(function doLater(){onTooltipShow()})},hideTemplate=function hideTemplate(){tipTipElement.empty();tooltipElement.addClass("_force-hidden")},getTemplate=function getTemplate(tooltipTemplateUrl){var template=$templateCache.get(tooltipTemplateUrl);if(typeof template!=="undefined"){return $q.resolve(template)}return $http.get(tooltipTemplateUrl).then(function onGetTemplateSuccess(response){$templateCache.put(tooltipTemplateUrl,response.data);return response.data})},onTooltipTemplateChange=function onTooltipTemplateChange(newValue){if(newValue){showTemplate(newValue)}else{hideTemplate()}},onTooltipTemplateUrlChange=function onTooltipTemplateUrlChange(newValue){if(newValue&&!$attrs.tooltipTemplateUrlCache){getTemplate(newValue).then(function onGetTemplateSuccess(template){showTemplate($compile(template)(scope))}).catch(function onGetTemplateFailure(reason){$log.error(reason)})}else{hideTemplate()}},onTooltipTemplateUrlCacheChange=function onTooltipTemplateUrlCacheChange(newValue){if(newValue&&$attrs.tooltipTemplateUrl){getTemplate($attrs.tooltipTemplateUrl).then(function onGetTemplateSuccess(template){showTemplate($compile(template)(scope))}).catch(function onGetTemplateFailure(reason){$log.error(reason)})}else{hideTemplate()}},onTooltipSideChange=function onTooltipSideChange(newValue){if(newValue){if(oldTooltipSide){tooltipElement.removeClass(oldTooltipSide)}tooltipElement.addClass(getSideClasses(newValue));oldTooltipSide=newValue}},onTooltipShowTrigger=function onTooltipShowTrigger(newValue){if(newValue){if(oldTooltipShowTrigger){tooltipElement.off(oldTooltipShowTrigger)}tooltipElement.on(newValue,onTooltipShow);oldTooltipShowTrigger=newValue}},onTooltipHideTrigger=function onTooltipHideTrigger(newValue){if(newValue){if(oldTooltipHideTrigger){tooltipElement.off(oldTooltipHideTrigger)}tooltipElement.on(newValue,onTooltipHide);oldTooltipHideTrigger=newValue}},onTooltipShowTooltip=function onTooltipShowTooltip(newValue){if(newValue==="true"){tooltipElement.addClass("active")}else{tooltipElement.removeClass("active")}},onTooltipClassChange=function onTooltipClassChange(newValue){if(newValue){if(oldTooltipClass){tipElement.removeClass(oldTooltipClass)}tipElement.addClass(newValue);oldTooltipClass=newValue}},onTooltipSmartChange=function onTooltipSmartChange(){if(typeof $attrs.tooltipSmart!=="boolean"){$attrs.tooltipSmart=$attrs.tooltipSmart==="true"}},onTooltipCloseButtonChange=function onTooltipCloseButtonChange(newValue){var enableButton=newValue==="true";if(enableButton){closeButtonElement.on("click",onTooltipHide);closeButtonElement.css("display","block")}else{closeButtonElement.off("click");closeButtonElement.css("display","none")}},onTooltipTemplateControllerChange=function onTooltipTemplateControllerChange(newValue){if(newValue){var tipController=$controller(newValue,{$scope:scope}),newScope=scope.$new(false,scope),indexOfAs=newValue.indexOf("as"),controllerName;if(indexOfAs>=0){controllerName=newValue.substr(indexOfAs+3);newScope[controllerName]=tipController}else{angular.extend(newScope,tipController)}tipTipElement.replaceWith($compile(tipTipElement)(newScope));unregisterOnTooltipControllerChange()}},onTooltipSizeChange=function onTooltipSizeChange(newValue){if(newValue){if(oldSize){tipTipElement.removeClass("_"+oldSize)}tipTipElement.addClass("_"+newValue);oldSize=newValue}},onTooltipSpeedChange=function onTooltipSpeedChange(newValue){if(newValue){if(oldSpeed){tooltipElement.removeClass("_"+oldSpeed)}tooltipElement.addClass("_"+newValue);oldSpeed=newValue}},unregisterOnTooltipTemplateChange=$attrs.$observe("tooltipTemplate",onTooltipTemplateChange),unregisterOnTooltipTemplateUrlChange=$attrs.$observe("tooltipTemplateUrl",onTooltipTemplateUrlChange),unregisterOnTooltipTemplateUrlCacheChange=$attrs.$observe("tooltipTemplateUrlCache",onTooltipTemplateUrlCacheChange),unregisterOnTooltipSideChangeObserver=$attrs.$observe("tooltipSide",onTooltipSideChange),unregisterOnTooltipShowTrigger=$attrs.$observe("tooltipShowTrigger",onTooltipShowTrigger),unregisterOnTooltipHideTrigger=$attrs.$observe("tooltipHideTrigger",onTooltipHideTrigger),unregisterOnTooltipShowTooltip=$attrs.$observe("tooltipShow",onTooltipShowTooltip),unregisterOnTooltipClassChange=$attrs.$observe("tooltipClass",onTooltipClassChange),unregisterOnTooltipSmartChange=$attrs.$observe("tooltipSmart",onTooltipSmartChange),unregisterOnTooltipCloseButtonChange=$attrs.$observe("tooltipCloseButton",onTooltipCloseButtonChange),unregisterOnTooltipControllerChange=$attrs.$observe("tooltipController",onTooltipTemplateControllerChange),unregisterOnTooltipSizeChange=$attrs.$observe("tooltipSize",onTooltipSizeChange),unregisterOnTooltipSpeedChange=$attrs.$observe("tooltipSpeed",onTooltipSpeedChange),unregisterTipContentChangeWatcher=scope.$watch(whenActivateMultilineCalculation,calculateIfMultiLine);closeButtonElement.addClass("close-button");closeButtonElement.html("&times;");tipElement.addClass("_hidden");tipTipElement.append(closeButtonElement);tipTipElement.append($attrs.tooltipTemplate);tipElement.append(tipTipElement);tipElement.append(tipArrowElement);tipContElement.append(element);tooltipElement.attr(attributes);tooltipElement.addClass("tooltips");tooltipElement.append(tipContElement);tooltipElement.append(tipElement);$element.after(tooltipElement);if($attrs.tooltipAppendToBody){resizeObserver.add(function onResize(){registerOnScrollFrom(tooltipElement)});registerOnScrollFrom(tooltipElement)}resizeObserver.add(function registerResize(){calculateIfMultiLine();onTooltipShow()});$timeout(function doLater(){onTooltipShow();tipElement.removeClass("_hidden");tooltipElement.addClass("_ready")});scope.$on("$destroy",function unregisterListeners(){unregisterOnTooltipTemplateChange();unregisterOnTooltipTemplateUrlChange();unregisterOnTooltipTemplateUrlCacheChange();unregisterOnTooltipSideChangeObserver();unregisterOnTooltipShowTrigger();unregisterOnTooltipHideTrigger();unregisterOnTooltipShowTooltip();unregisterOnTooltipClassChange();unregisterOnTooltipSmartChange();unregisterOnTooltipCloseButtonChange();unregisterOnTooltipSizeChange();unregisterOnTooltipSpeedChange();unregisterTipContentChangeWatcher();resizeObserver.remove();element.off($attrs.tooltipShowTrigger+" "+$attrs.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:true,link:linkingFunction}}];angular.module("720kb.tooltips",[]).provider(directiveName+"Conf",tooltipConfigurationProvider).directive(directiveName,tooltipDirective)})(angular,window);
angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",["$log",function($log){return function(translationId,lang){if(translationId.indexOf("VIEWS.TOPICS_TOPICID.VOTE_LBL_OPTION_")===-1){$log.warn("$translateMissingTranslationHandlerLog","Translation for '"+translationId+"' doesn't exist in language '"+lang+"'")}}}]);
angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function($q,$http){return function(options){if(!options||(!angular.isString(options.prefix)||!angular.isString(options.suffix))){throw new Error("Couldn't load static files, no prefix or suffix specified!")}var deferred=$q.defer();$http(angular.extend({url:[options.prefix,options.key,options.suffix].join(""),method:"GET",params:""},options.$http)).success(function(data){deferred.resolve(data)}).error(function(data){deferred.reject(options.key)});return deferred.promise}}]);
angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function($cookieStore){var $translateCookieStorage={get:function(name){return $cookieStore.get(name)},set:function(name,value){$cookieStore.put(name,value)},put:function(name,value){$cookieStore.put(name,value)}};return $translateCookieStorage}]);
angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function($window,$translateCookieStorage){var localStorageAdapter=function(){var langKey;return{get:function(name){if(!langKey){langKey=$window.localStorage.getItem(name)}return langKey},set:function(name,value){langKey=value;$window.localStorage.setItem(name,value)},put:function(name,value){langKey=value;$window.localStorage.setItem(name,value)}}}();var hasLocalStorageSupport="localStorage"in $window;if(hasLocalStorageSupport){var testKey="pascalprecht.translate.storageTest";try{if($window.localStorage!==null){$window.localStorage.setItem(testKey,"foo");$window.localStorage.removeItem(testKey);hasLocalStorageSupport=true}else{hasLocalStorageSupport=false}}catch(e){hasLocalStorageSupport=false}}var $translateLocalStorage=hasLocalStorageSupport?localStorageAdapter:$translateCookieStorage;return $translateLocalStorage}]);
if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="ui.router"}(function(window,angular,undefined){"use strict";var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,toJson=angular.toJson;function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){forEach(arguments,function(obj){if(obj!==dst){forEach(obj,function(value,key){if(!dst.hasOwnProperty(key))dst[key]=value})}});return dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys){return Object.keys(object)}var result=[];forEach(object,function(val,key){result.push(key)});return result}function indexOf(array,value){if(Array.prototype.indexOf){return array.indexOf(value,Number(arguments[2])||0)}var len=array.length>>>0,from=Number(arguments[2])||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0)from+=len;for(;from<len;from++){if(from in array&&array[from]===value)return from}return-1}function inheritParams(currentParams,newParams,$current,$to){var parents=ancestors($current,$to),parentParams,inherited={},inheritList=[];for(var i in parents){if(!parents[i]||!parents[i].params)continue;parentParams=objectKeys(parents[i].params);if(!parentParams.length)continue;for(var j in parentParams){if(indexOf(inheritList,parentParams[j])>=0)continue;inheritList.push(parentParams[j]);inherited[parentParams[j]]=currentParams[parentParams[j]]}}return extend({},inherited,newParams)}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return false}return true}function filterByKeys(keys,values){var filtered={};forEach(keys,function(name){filtered[name]=values[name]});return filtered}function indexBy(array,propName){var result={};forEach(array,function(item){result[item[propName]]=item});return result}function pick(obj){var copy={};var keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));forEach(keys,function(key){if(key in obj)copy[key]=obj[key]});return copy}function omit(obj){var copy={};var keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var key in obj){if(indexOf(keys,key)==-1)copy[key]=obj[key]}return copy}function pluck(collection,key){var result=isArray(collection)?[]:{};forEach(collection,function(val,i){result[i]=isFunction(key)?key(val):val[key]});return result}function filter(collection,callback){var array=isArray(collection);var result=array?[]:{};forEach(collection,function(val,i){if(callback(val,i)){result[array?result.length:i]=val}});return result}function map(collection,callback){var result=isArray(collection)?[]:{};forEach(collection,function(val,i){result[i]=callback(val,i)});return result}angular.module("ui.router.util",["ng"]);angular.module("ui.router.router",["ui.router.util"]);angular.module("ui.router.state",["ui.router.router","ui.router.util"]);angular.module("ui.router",["ui.router.state"]);angular.module("ui.router.compat",["ui.router"]);$Resolve.$inject=["$q","$injector"];function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){if(!isObject(invocables))throw new Error("'invocables' must be an object");var invocableKeys=objectKeys(invocables||{});var plan=[],cycle=[],visited={};function visit(value,key){if(visited[key]===VISIT_DONE)return;cycle.push(key);if(visited[key]===VISIT_IN_PROGRESS){cycle.splice(0,indexOf(cycle,key));throw new Error("Cyclic dependency: "+cycle.join(" -> "))}visited[key]=VISIT_IN_PROGRESS;if(isString(value)){plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES)}else{var params=$injector.annotate(value);forEach(params,function(param){if(param!==key&&invocables.hasOwnProperty(param))visit(invocables[param],param)});plan.push(key,value,params)}cycle.pop();visited[key]=VISIT_DONE}forEach(invocables,visit);invocables=cycle=visited=null;function isResolve(value){return isObject(value)&&value.then&&value.$$promises}return function(locals,parent,self){if(isResolve(locals)&&self===undefined){self=parent;parent=locals;locals=null}if(!locals)locals=NO_LOCALS;else if(!isObject(locals)){throw new Error("'locals' must be an object")}if(!parent)parent=NO_PARENT;else if(!isResolve(parent)){throw new Error("'parent' must be a promise returned by $resolve.resolve()")}var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=false;function done(){if(!--wait){if(!merged)merge(values,parent.$$values);result.$$values=values;result.$$promises=result.$$promises||true;delete result.$$inheritedValues;resolution.resolve(values)}}function fail(reason){result.$$failure=reason;resolution.reject(reason)}if(isDefined(parent.$$failure)){fail(parent.$$failure);return result}if(parent.$$inheritedValues){merge(values,omit(parent.$$inheritedValues,invocableKeys))}extend(promises,parent.$$promises);if(parent.$$values){merged=merge(values,omit(parent.$$values,invocableKeys));result.$$inheritedValues=omit(parent.$$values,invocableKeys);done()}else{if(parent.$$inheritedValues){result.$$inheritedValues=omit(parent.$$inheritedValues,invocableKeys)}parent.then(done,fail)}for(var i=0,ii=plan.length;i<ii;i+=3){if(locals.hasOwnProperty(plan[i]))done();else invoke(plan[i],plan[i+1],plan[i+2])}function invoke(key,invocable,params){var invocation=$q.defer(),waitParams=0;function onfailure(reason){invocation.reject(reason);fail(reason)}forEach(params,function(dep){if(promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)){waitParams++;promises[dep].then(function(result){values[dep]=result;if(!--waitParams)proceed()},onfailure)}});if(!waitParams)proceed();function proceed(){if(isDefined(result.$$failure))return;try{invocation.resolve($injector.invoke(invocable,self,values));invocation.promise.then(function(result){values[key]=result;done()},onfailure)}catch(e){onfailure(e)}}promises[key]=invocation.promise}return result}};this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}angular.module("ui.router.util").service("$resolve",$Resolve);$TemplateFactory.$inject=["$http","$templateCache","$injector"];function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null};this.fromString=function(template,params){return isFunction(template)?template(params):template};this.fromUrl=function(url,params){if(isFunction(url))url=url(params);if(url==null)return null;else return $http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data})};this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}angular.module("ui.router.util").service("$templateFactory",$TemplateFactory);var $$UMFP;function UrlMatcher(pattern,config,parentMatcher){config=extend({params:{}},isObject(config)?config:{});var placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,compiled="^",last=0,m,segments=this.segments=[],parentParams=parentMatcher?parentMatcher.params:{},params=this.params=parentMatcher?parentMatcher.params.$$new():new $$UMFP.ParamSet,paramNames=[];function addParameter(id,type,config,location){paramNames.push(id);if(parentParams[id])return parentParams[id];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(params[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");params[id]=new $$UMFP.Param(id,type,config,location);return params[id]}function quoteRegExp(string,pattern,squash,optional){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!pattern)return result;switch(squash){case false:surroundPattern=["(",")"+(optional?"?":"")];break;case true:result=result.replace(/\/$/,"");surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+squash+"|",")?"];break}return result+surroundPattern[0]+pattern+surroundPattern[1]}this.source=pattern;function matchDetails(m,isSearch){var id,regexp,segment,type,cfg,arrayMode;id=m[2]||m[3];cfg=config.params[id];segment=pattern.substring(last,m.index);regexp=isSearch?m[4]:m[4]||(m[1]=="*"?".*":null);if(regexp){type=$$UMFP.type(regexp)||inherit($$UMFP.type("string"),{pattern:new RegExp(regexp,config.caseInsensitive?"i":undefined)})}return{id:id,regexp:regexp,segment:segment,type:type,cfg:cfg}}var p,param,segment;while(m=placeholder.exec(pattern)){p=matchDetails(m,false);if(p.segment.indexOf("?")>=0)break;param=addParameter(p.id,p.type,p.cfg,"path");compiled+=quoteRegExp(p.segment,param.type.pattern.source,param.squash,param.isOptional);segments.push(p.segment);last=placeholder.lastIndex}segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);segment=segment.substring(0,i);this.sourcePath=pattern.substring(0,last+i);if(search.length>0){last=0;while(m=searchPlaceholder.exec(search)){p=matchDetails(m,true);param=addParameter(p.id,p.type,p.cfg,"search");last=placeholder.lastIndex}}}else{this.sourcePath=pattern;this.sourceSearch=""}compiled+=quoteRegExp(segment)+(config.strict===false?"/?":"")+"$";segments.push(segment);this.regexp=new RegExp(compiled,config.caseInsensitive?"i":undefined);this.prefix=segments[0];this.$$paramNames=paramNames}UrlMatcher.prototype.concat=function(pattern,config){var defaultConfig={caseInsensitive:$$UMFP.caseInsensitive(),strict:$$UMFP.strictMode(),squash:$$UMFP.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch,extend(defaultConfig,config),this)};UrlMatcher.prototype.toString=function(){return this.source};UrlMatcher.prototype.exec=function(path,searchParams){var m=this.regexp.exec(path);if(!m)return null;searchParams=searchParams||{};var paramNames=this.parameters(),nTotal=paramNames.length,nPath=this.segments.length-1,values={},i,j,cfg,paramName;if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function decodePathArray(string){function reverseString(str){return str.split("").reverse().join("")}function unquoteDashes(str){return str.replace(/\\-/g,"-")}var split=reverseString(string).split(/-(?!\\)/);var allReversed=map(split,reverseString);return map(allReversed,unquoteDashes).reverse()}var param,paramVal;for(i=0;i<nPath;i++){paramName=paramNames[i];param=this.params[paramName];paramVal=m[i+1];for(j=0;j<param.replace.length;j++){if(param.replace[j].from===paramVal)paramVal=param.replace[j].to}if(paramVal&&param.array===true)paramVal=decodePathArray(paramVal);if(isDefined(paramVal))paramVal=param.type.decode(paramVal);values[paramName]=param.value(paramVal)}for(;i<nTotal;i++){paramName=paramNames[i];values[paramName]=this.params[paramName].value(searchParams[paramName]);param=this.params[paramName];paramVal=searchParams[paramName];for(j=0;j<param.replace.length;j++){if(param.replace[j].from===paramVal)paramVal=param.replace[j].to}if(isDefined(paramVal))paramVal=param.type.decode(paramVal);values[paramName]=param.value(paramVal)}return values};UrlMatcher.prototype.parameters=function(param){if(!isDefined(param))return this.$$paramNames;return this.params[param]||null};UrlMatcher.prototype.validates=function(params){return this.params.$$validates(params)};UrlMatcher.prototype.format=function(values){values=values||{};var segments=this.segments,params=this.parameters(),paramset=this.params;if(!this.validates(values))return null;var i,search=false,nPath=segments.length-1,nTotal=params.length,result=segments[0];function encodeDashes(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}for(i=0;i<nTotal;i++){var isPathParam=i<nPath;var name=params[i],param=paramset[name],value=param.value(values[name]);var isDefaultValue=param.isOptional&&param.type.equals(param.value(),value);var squash=isDefaultValue?param.squash:false;var encoded=param.type.encode(value);if(isPathParam){var nextSegment=segments[i+1];var isFinalPathParam=i+1===nPath;if(squash===false){if(encoded!=null){if(isArray(encoded)){result+=map(encoded,encodeDashes).join("-")}else{result+=encodeURIComponent(encoded)}}result+=nextSegment}else if(squash===true){var capture=result.match(/\/$/)?/\/?(.*)/:/(.*)/;result+=nextSegment.match(capture)[1]}else if(isString(squash)){result+=squash+nextSegment}if(isFinalPathParam&&param.squash===true&&result.slice(-1)==="/")result=result.slice(0,-1)}else{if(encoded==null||isDefaultValue&&squash!==false)continue;if(!isArray(encoded))encoded=[encoded];if(encoded.length===0)continue;encoded=map(encoded,encodeURIComponent).join("&"+name+"=");result+=(search?"&":"?")+(name+"="+encoded);search=true}}return result};function Type(config){extend(this,config)}Type.prototype.is=function(val,key){return true};Type.prototype.encode=function(val,key){return val};Type.prototype.decode=function(val,key){return val};Type.prototype.equals=function(a,b){return a==b};Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)};Type.prototype.pattern=/.*/;Type.prototype.toString=function(){return"{Type:"+this.name+"}"};Type.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)};Type.prototype.$asArray=function(mode,isSearch){if(!mode)return this;if(mode==="auto"&&!isSearch)throw new Error("'auto' array mode is for query parameters only");function ArrayType(type,mode){function bindTo(type,callbackName){return function(){return type[callbackName].apply(type,arguments)}}function arrayWrap(val){return isArray(val)?val:isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return mode==="auto"?val[0]:val;default:return val}}function falsey(val){return!val}function arrayHandler(callback,allTruthyMode){return function handleArray(val){if(isArray(val)&&val.length===0)return val;val=arrayWrap(val);var result=map(val,callback);if(allTruthyMode===true)return filter(result,falsey).length===0;return arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function handleArray(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return false;for(var i=0;i<left.length;i++){if(!callback(left[i],right[i]))return false}return true}}this.encode=arrayHandler(bindTo(type,"encode"));this.decode=arrayHandler(bindTo(type,"decode"));this.is=arrayHandler(bindTo(type,"is"),true);this.equals=arrayEqualsHandler(bindTo(type,"equals"));this.pattern=type.pattern;this.$normalize=arrayHandler(bindTo(type,"$normalize"));this.name=type.name;this.$arrayMode=mode}return new ArrayType(this,mode)};function $UrlMatcherFactory(){$$UMFP=this;var isCaseInsensitive=false,isStrictMode=true,defaultSquashPolicy=false;function valToString(val){return val!=null?val.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):val}function valFromString(val){return val!=null?val.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):val}var $types={},enqueue=true,typeQueue=[],injector,defaultTypes={string:{encode:valToString,decode:valFromString,is:function(val){return val==null||!isDefined(val)||typeof val==="string"},pattern:/[^\/]*/},int:{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return isDefined(val)&&this.decode(val.toString())===val},pattern:/\d+/},bool:{encode:function(val){return val?1:0},decode:function(val){return parseInt(val,10)!==0},is:function(val){return val===true||val===false},pattern:/0|1/},date:{encode:function(val){if(!this.is(val))return undefined;return[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-")},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:angular.toJson,decode:angular.fromJson,is:angular.isObject,equals:angular.equals,pattern:/[^\/]*/},any:{encode:angular.identity,decode:angular.identity,equals:angular.equals,pattern:/.*/}};function getDefaultConfig(){return{strict:isStrictMode,caseInsensitive:isCaseInsensitive}}function isInjectable(value){return isFunction(value)||isArray(value)&&isFunction(value[value.length-1])}$UrlMatcherFactory.$$getDefaultValue=function(config){if(!isInjectable(config.value))return config.value;if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.value)};this.caseInsensitive=function(value){if(isDefined(value))isCaseInsensitive=value;return isCaseInsensitive};this.strictMode=function(value){if(isDefined(value))isStrictMode=value;return isStrictMode};this.defaultSquashPolicy=function(value){if(!isDefined(value))return defaultSquashPolicy;if(value!==true&&value!==false&&!isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");defaultSquashPolicy=value;return value};this.compile=function(pattern,config){return new UrlMatcher(pattern,extend(getDefaultConfig(),config))};this.isMatcher=function(o){if(!isObject(o))return false;var result=true;forEach(UrlMatcher.prototype,function(val,name){if(isFunction(val)){result=result&&(isDefined(o[name])&&isFunction(o[name]))}});return result};this.type=function(name,definition,definitionFn){if(!isDefined(definition))return $types[name];if($types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");$types[name]=new Type(extend({name:name},definition));if(definitionFn){typeQueue.push({name:name,def:definitionFn});if(!enqueue)flushTypeQueue()}return this};function flushTypeQueue(){while(typeQueue.length){var type=typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");angular.extend($types[type.name],injector.invoke(type.def))}}forEach(defaultTypes,function(type,name){$types[name]=new Type(extend({name:name},type))});$types=inherit($types,{});this.$get=["$injector",function($injector){injector=$injector;enqueue=false;flushTypeQueue();forEach(defaultTypes,function(type,name){if(!$types[name])$types[name]=new Type(type)});return this}];this.Param=function Param(id,type,config,location){var self=this;config=unwrapShorthand(config);type=getType(config,type,location);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,location==="search"):type;if(type.name==="string"&&!arrayMode&&location==="path"&&config.value===undefined)config.value="";var isOptional=config.value!==undefined;var squash=getSquashPolicy(config,isOptional);var replace=getReplace(config,arrayMode,isOptional,squash);function unwrapShorthand(config){var keys=isObject(config)?objectKeys(config):[];var isShorthand=indexOf(keys,"value")===-1&&indexOf(keys,"type")===-1&&indexOf(keys,"squash")===-1&&indexOf(keys,"array")===-1;if(isShorthand)config={value:config};config.$$fn=isInjectable(config.value)?config.value:function(){return config.value};return config}function getType(config,urlType,location){if(config.type&&urlType)throw new Error("Param '"+id+"' has two type configurations.");if(urlType)return urlType;if(!config.type)return location==="config"?$types.any:$types.string;if(angular.isString(config.type))return $types[config.type];if(config.type instanceof Type)return config.type;return new Type(config.type)}function getArrayMode(){var arrayDefaults={array:location==="search"?"auto":false};var arrayParamNomenclature=id.match(/\[\]$/)?{array:true}:{};return extend(arrayDefaults,arrayParamNomenclature,config).array}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===false)return false;if(!isDefined(squash)||squash==null)return defaultSquashPolicy;if(squash===true||isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];replace=isArray(config.replace)?config.replace:[];if(isString(squash))replace.push({from:squash,to:undefined});configuredKeys=map(replace,function(item){return item.from});return filter(defaultPolicy,function(item){return indexOf(configuredKeys,item.from)===-1}).concat(replace)}function $$getDefaultValue(){if(!injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=injector.invoke(config.$$fn);if(defaultValue!==null&&defaultValue!==undefined&&!self.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+self.id+"' is not an instance of Type ("+self.type.name+")");return defaultValue}function $value(value){function hasReplaceVal(val){return function(obj){return obj.from===val}}function $replace(value){var replacement=map(filter(self.replace,hasReplaceVal(value)),function(obj){return obj.to});return replacement.length?replacement[0]:value}value=$replace(value);return!isDefined(value)?$$getDefaultValue():self.type.$normalize(value)}function toString(){return"{Param:"+id+" "+type+" squash: '"+squash+"' optional: "+isOptional+"}"}extend(this,{id:id,type:type,location:location,array:arrayMode,squash:squash,replace:replace,isOptional:isOptional,value:$value,dynamic:undefined,config:config,toString:toString})};function ParamSet(params){extend(this,params||{})}ParamSet.prototype={$$new:function(){return inherit(this,extend(new ParamSet,{$$parent:this}))},$$keys:function(){var keys=[],chain=[],parent=this,ignore=objectKeys(ParamSet.prototype);while(parent){chain.push(parent);parent=parent.$$parent}chain.reverse();forEach(chain,function(paramset){forEach(objectKeys(paramset),function(key){if(indexOf(keys,key)===-1&&indexOf(ignore,key)===-1)keys.push(key)})});return keys},$$values:function(paramValues){var values={},self=this;forEach(self.$$keys(),function(key){values[key]=self[key].value(paramValues&&paramValues[key])});return values},$$equals:function(paramValues1,paramValues2){var equal=true,self=this;forEach(self.$$keys(),function(key){var left=paramValues1&&paramValues1[key],right=paramValues2&&paramValues2[key];if(!self[key].type.equals(left,right))equal=false});return equal},$$validates:function $$validate(paramValues){var keys=this.$$keys(),i,param,rawVal,normalized,encoded;for(i=0;i<keys.length;i++){param=this[keys[i]];rawVal=paramValues[keys[i]];if((rawVal===undefined||rawVal===null)&&param.isOptional)break;normalized=param.type.$normalize(rawVal);if(!param.type.is(normalized))return false;encoded=param.type.encode(normalized);if(angular.isString(encoded)&&!param.type.pattern.exec(encoded))return false}return true},$$parent:undefined};this.ParamSet=ParamSet}angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory);angular.module("ui.router.util").run(["$urlMatcherFactory",function($urlMatcherFactory){}]);$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"];function $UrlRouterProvider($locationProvider,$urlMatcherFactory){var rules=[],otherwise=null,interceptDeferred=false,listener,optionsOverride={};function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return prefix!=null?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match[what==="$"?0:Number(what)]})}this.config=function(options){angular.extend(optionsOverride,options)};this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");rules.push(rule);return this};this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");otherwise=rule;return this};function handleIfMatch($injector,handler,match){if(!match)return false;var result=$injector.invoke(handler,handler,{$match:match});return isDefined(result)?result:true}this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what))what=$urlMatcherFactory.compile(what);if(!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){if(handlerIsString){redirect=$urlMatcherFactory.compile(handler);handler=["$match",function($match){return redirect.format($match)}]}return extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");if(handlerIsString){redirect=handler;handler=["$match",function($match){return interpolate(redirect,$match)}]}return extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}};var check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check){if(check[n])return this.rule(strategies[n](what,handler))}throw new Error("invalid 'what' in when()")};this.deferIntercept=function(defer){if(defer===undefined)defer=true;interceptDeferred=defer};this.$get=$get;$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"];function $get($location,$rootScope,$injector,$browser,$sniffer){var baseHref=$browser.baseHref(),location=$location.url(),lastPushedUrl;function appendBasePath(url,isHtml5,absolute){if(baseHref==="/")return url;if(isHtml5)return baseHref.slice(0,-1)+url;if(absolute)return baseHref.slice(1)+url;return url}function update(evt){if(evt&&evt.defaultPrevented)return;var ignoreUpdate=lastPushedUrl&&$location.url()===lastPushedUrl;lastPushedUrl=undefined;function check(rule){var handled=rule($injector,$location);if(!handled)return false;if(isString(handled))$location.replace().url(handled);return true}var n=rules.length,i;for(i=0;i<n;i++){if(check(rules[i]))return}if(otherwise)check(otherwise)}function listen(){listener=listener||$rootScope.$on("$locationChangeSuccess",update);return listener}if(!interceptDeferred)listen();return{sync:function(){update()},listen:function(){return listen()},update:function(read){if(read){location=$location.url();return}if($location.url()===location)return;$location.url(location);$location.replace()},push:function(urlMatcher,params,options){var url=urlMatcher.format(params||{});if(url!==null&&params&&params["#"]){url+="#"+params["#"]}$location.url(url);lastPushedUrl=options&&options.$$avoidResync?$location.url():undefined;if(options&&options.replace)$location.replace()},href:function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var isHtml5=$locationProvider.html5Mode();if(angular.isObject(isHtml5)){isHtml5=isHtml5.enabled}isHtml5=isHtml5&&$sniffer.history;var url=urlMatcher.format(params);options=angular.extend({},options,optionsOverride);if(!isHtml5&&url!==null){url="#"+$locationProvider.hashPrefix()+url}if(url!==null&&params&&params["#"]){url+="#"+params["#"]}url=appendBasePath(url,isHtml5,options.absolute);if(!options.absolute||!url){return url}var slash=!isHtml5&&url?"/":"",port=$location.port();port=port===80||port===443?"":":"+port;return[$location.protocol(),"://",$location.host(),port,slash,url].join("")}}}}angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider);$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];function $StateProvider($urlRouterProvider,$urlMatcherFactory){var root,states={},$state,queue={},abstractKey="abstract";var stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){if(state.parent&&state.parent.data){state.data=state.self.data=inherit(state.parent.data,state.data)}return state.data},url:function(state){var url=state.url,config={params:state.params||{}};if(isString(url)){if(url.charAt(0)=="^")return $urlMatcherFactory.compile(url.substring(1),config);return(state.parent.navigable||root).url.concat(url,config)}if(!url||$urlMatcherFactory.isMatcher(url))return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},ownParams:function(state){var params=state.url&&state.url.params||new $$UMFP.ParamSet;forEach(state.params||{},function(config,id){if(!params[id])params[id]=new $$UMFP.Param(id,null,config,"config")});return params},params:function(state){var ownParams=pick(state.ownParams,state.ownParams.$$keys());return state.parent&&state.parent.params?extend(state.parent.params.$$new(),ownParams):new $$UMFP.ParamSet},views:function(state){var views={};forEach(isDefined(state.views)?state.views:{"":state},function(view,name){if(name.indexOf("@")<0)name+="@"+state.parent.name;view.resolveAs=view.resolveAs||state.resolveAs||"$resolve";views[name]=view});return views},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};includes[state.name]=true;return includes},$delegates:{}};function isRelative(stateName){return stateName.indexOf(".")===0||stateName.indexOf("^")===0}function findState(stateOrName,base){if(!stateOrName)return undefined;var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");base=findState(base);var rel=name.split("."),i=0,pathLength=rel.length,current=base;for(;i<pathLength;i++){if(rel[i]===""&&i===0){current=base;continue}if(rel[i]==="^"){if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent;continue}break}rel=rel.slice(i).join(".");name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];if(state&&(isStr||!isStr&&(state===stateOrName||state.self===stateOrName))){return state}return undefined}function queueState(parentName,state){if(!queue[parentName]){queue[parentName]=[]}queue[parentName].push(state)}function flushQueuedChildren(parentName){var queued=queue[parentName]||[];while(queued.length){registerState(queued.shift())}}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"' is already defined");var parentName=name.indexOf(".")!==-1?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:isObject(state.parent)&&isString(state.parent.name)?state.parent.name:"";if(parentName&&!states[parentName]){
return queueState(parentName,state.self)}for(var key in stateBuilder){if(isFunction(stateBuilder[key]))state[key]=stateBuilder[key](state,stateBuilder.$delegates[key])}states[name]=state;if(!state[abstractKey]&&state.url){$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){if($state.$current.navigable!=state||!equalForKeys($match,$stateParams)){$state.transitionTo(state,$match,{inherit:true,location:false})}}])}flushQueuedChildren(name);return state}function isGlob(text){return text.indexOf("*")>-1}function doesStateMatchGlob(glob){var globSegments=glob.split("."),segments=$state.$current.name.split(".");for(var i=0,l=globSegments.length;i<l;i++){if(globSegments[i]==="*"){segments[i]="*"}}if(globSegments[0]==="**"){segments=segments.slice(indexOf(segments,globSegments[1]));segments.unshift("**")}if(globSegments[globSegments.length-1]==="**"){segments.splice(indexOf(segments,globSegments[globSegments.length-2])+1,Number.MAX_VALUE);segments.push("**")}if(globSegments.length!=segments.length){return false}return segments.join("")===globSegments.join("")}root=registerState({name:"",url:"^",views:null,abstract:true});root.navigable=null;this.decorator=decorator;function decorator(name,func){if(isString(name)&&!isDefined(func)){return stateBuilder[name]}if(!isFunction(func)||!isString(name)){return this}if(stateBuilder[name]&&!stateBuilder.$delegates[name]){stateBuilder.$delegates[name]=stateBuilder[name]}stateBuilder[name]=func;return this}this.state=state;function state(name,definition){if(isObject(name))definition=name;else definition.name=name;registerState(definition);return this}this.$get=$get;$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"];function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$urlRouter,$location,$urlMatcherFactory){var TransitionSuperseded=$q.reject(new Error("transition superseded"));var TransitionPrevented=$q.reject(new Error("transition prevented"));var TransitionAborted=$q.reject(new Error("transition aborted"));var TransitionFailed=$q.reject(new Error("transition failed"));function handleRedirect(redirect,state,params,options){var evt=$rootScope.$broadcast("$stateNotFound",redirect,state,params);if(evt.defaultPrevented){$urlRouter.update();return TransitionAborted}if(!evt.retry){return null}if(options.$retry){$urlRouter.update();return TransitionFailed}var retryTransition=$state.transition=$q.when(evt.retry);retryTransition.then(function(){if(retryTransition!==$state.transition)return TransitionSuperseded;redirect.options.$retry=true;return $state.transitionTo(redirect.to,redirect.toParams,redirect.options)},function(){return TransitionAborted});$urlRouter.update();return retryTransition}root.locals={resolve:null,globals:{$stateParams:{}}};$state={params:{},current:root.self,$current:root,transition:null};$state.reload=function reload(state){return $state.transitionTo($state.current,$stateParams,{reload:state||true,inherit:false,notify:true})};$state.go=function go(to,params,options){return $state.transitionTo(to,params,extend({inherit:true,relative:$state.$current},options))};$state.transitionTo=function transitionTo(to,toParams,options){toParams=toParams||{};options=extend({location:true,inherit:false,relative:null,notify:true,reload:false,$retry:false},options||{});var from=$state.$current,fromParams=$state.params,fromPath=from.path;var evt,toState=findState(to,options.relative);var hash=toParams["#"];if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options};var redirectResult=handleRedirect(redirect,from.self,fromParams,options);if(redirectResult){return redirectResult}to=redirect.to;toParams=redirect.toParams;options=redirect.options;toState=findState(to,options.relative);if(!isDefined(toState)){if(!options.relative)throw new Error("No such state '"+to+"'");throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");if(options.inherit)toParams=inheritParams($stateParams,toParams||{},$state.$current,toState);if(!toState.params.$$validates(toParams))return TransitionFailed;toParams=toState.params.$$values(toParams);to=toState;var toPath=to.path;var keep=0,state=toPath[keep],locals=root.locals,toLocals=[];if(!options.reload){while(state&&state===fromPath[keep]&&state.ownParams.$$equals(toParams,fromParams)){locals=toLocals[keep]=state.locals;keep++;state=toPath[keep]}}else if(isString(options.reload)||isObject(options.reload)){if(isObject(options.reload)&&!options.reload.name){throw new Error("Invalid reload state object")}var reloadState=options.reload===true?fromPath[0]:findState(options.reload);if(options.reload&&!reloadState){throw new Error("No such reload state '"+(isString(options.reload)?options.reload:options.reload.name)+"'")}while(state&&state===fromPath[keep]&&state!==reloadState){locals=toLocals[keep]=state.locals;keep++;state=toPath[keep]}}if(shouldSkipReload(to,toParams,from,fromParams,locals,options)){if(hash)toParams["#"]=hash;$state.params=toParams;copy($state.params,$stateParams);copy(filterByKeys(to.params.$$keys(),$stateParams),to.locals.globals.$stateParams);if(options.location&&to.navigable&&to.navigable.url){$urlRouter.push(to.navigable.url,toParams,{$$avoidResync:true,replace:options.location==="replace"});$urlRouter.update(true)}$state.transition=null;return $q.when($state.current)}toParams=filterByKeys(to.params.$$keys(),toParams||{});if(hash)toParams["#"]=hash;if(options.notify){if($rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams,options).defaultPrevented){$rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams);if($state.transition==null)$urlRouter.update();return TransitionPrevented}}var resolved=$q.when(locals);for(var l=keep;l<toPath.length;l++,state=toPath[l]){locals=toLocals[l]=inherit(locals);resolved=resolveState(state,toParams,state===to,resolved,locals,options)}var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--){exiting=fromPath[l];if(exiting.self.onExit){$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals)}exiting.locals=null}for(l=keep;l<toPath.length;l++){entering=toPath[l];entering.locals=toLocals[l];if(entering.self.onEnter){$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals)}}if($state.transition!==transition)return TransitionSuperseded;$state.$current=to;$state.current=to.self;$state.params=toParams;copy($state.params,$stateParams);$state.transition=null;if(options.location&&to.navigable){$urlRouter.push(to.navigable.url,to.navigable.locals.globals.$stateParams,{$$avoidResync:true,replace:options.location==="replace"})}if(options.notify){$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams)}$urlRouter.update(true);return $state.current}).then(null,function(error){if($state.transition!==transition)return TransitionSuperseded;$state.transition=null;evt=$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error);if(!evt.defaultPrevented){$urlRouter.update()}return $q.reject(error)});return transition};$state.is=function is(stateOrName,params,options){options=extend({relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state)){return undefined}if($state.$current!==state){return false}return params?equalForKeys(state.params.$$values(params),$stateParams):true};$state.includes=function includes(stateOrName,params,options){options=extend({relative:$state.$current},options||{});if(isString(stateOrName)&&isGlob(stateOrName)){if(!doesStateMatchGlob(stateOrName)){return false}stateOrName=$state.$current.name}var state=findState(stateOrName,options.relative);if(!isDefined(state)){return undefined}if(!isDefined($state.$current.includes[state.name])){return false}return params?equalForKeys(state.params.$$values(params),$stateParams,objectKeys(params)):true};$state.href=function href(stateOrName,params,options){options=extend({lossy:true,inherit:true,absolute:false,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;if(options.inherit)params=inheritParams($stateParams,params||{},$state.$current,state);var nav=state&&options.lossy?state.navigable:state;if(!nav||nav.url===undefined||nav.url===null){return null}return $urlRouter.href(nav.url,filterByKeys(state.params.$$keys().concat("#"),params||{}),{absolute:options.absolute})};$state.get=function(stateOrName,context){if(arguments.length===0)return map(objectKeys(states),function(name){return states[name].self});var state=findState(stateOrName,context||$state.$current);return state&&state.self?state.self:null};function resolveState(state,params,paramsAreFiltered,inherited,dst,options){var $stateParams=paramsAreFiltered?params:filterByKeys(state.params.$$keys(),params);var locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];if(inherited)promises.push(inherited);function resolveViews(){var viewsPromises=[];forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:dst.globals,params:$stateParams,notify:options.notify})||""}];viewsPromises.push($resolve.resolve(injectables,dst.globals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,dst.globals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else{result.$$controller=view.controller}result.$$state=state;result.$$controllerAs=view.controllerAs;result.$$resolveAs=view.resolveAs;dst[name]=result}))});return $q.all(viewsPromises).then(function(){return dst.globals})}return $q.all(promises).then(resolveViews).then(function(values){return dst})}return $state}function shouldSkipReload(to,toParams,from,fromParams,locals,options){function nonSearchParamsEqual(fromAndToState,fromParams,toParams){function notSearchParam(key){return fromAndToState.params[key].location!="search"}var nonQueryParamKeys=fromAndToState.params.$$keys().filter(notSearchParam);var nonQueryParams=pick.apply({},[fromAndToState.params].concat(nonQueryParamKeys));var nonQueryParamSet=new $$UMFP.ParamSet(nonQueryParams);return nonQueryParamSet.$$equals(fromParams,toParams)}if(!options.reload&&to===from&&(locals===from.locals||to.self.reloadOnSearch===false&&nonSearchParamsEqual(from,fromParams,toParams))){return true}}}angular.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:true}).provider("$state",$StateProvider).run(["$injector",function($injector){if($injector.get("$state.runtime").autoinject){$injector.get("$state")}}]);$ViewProvider.$inject=[];function $ViewProvider(){this.$get=$get;$get.$inject=["$rootScope","$templateFactory"];function $get($rootScope,$templateFactory){return{load:function load(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:true,async:true,params:{}};options=extend(defaults,options);if(options.view){result=$templateFactory.fromConfig(options.view,options.params,options.locals)}return result}}}}angular.module("ui.router.state").provider("$view",$ViewProvider);function $ViewScrollProvider(){var useAnchorScroll=false;this.useAnchorScroll=function(){useAnchorScroll=true};this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){if(useAnchorScroll){return $anchorScroll}return function($element){return $timeout(function(){$element[0].scrollIntoView()},0,false)}}]}angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider);$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"];function $ViewDirective($state,$injector,$uiViewScroll,$interpolate,$q){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}var service=getService(),$animator=service("$animator"),$animate=service("$animate");function getRenderer(attrs,scope){var statics=function(){return{enter:function(element,target,cb){target.after(element);cb()},leave:function(element,cb){element.remove();cb()}}};if($animate){return{enter:function(element,target,cb){if(angular.version.minor>2){$animate.enter(element,null,target).then(cb)}else{$animate.enter(element,null,target,cb)}},leave:function(element,cb){if(angular.version.minor>2){$animate.leave(element).then(cb)}else{$animate.leave(element,cb)}}}}if($animator){var animate=$animator&&$animator(scope,attrs);return{enter:function(element,target,cb){animate.enter(element,null,target);cb()},leave:function(element,cb){animate.leave(element);cb()}}}return statics()}var directive={restrict:"ECA",terminal:true,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){var previousEl,currentEl,currentScope,latestLocals,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope),inherited=$element.inheritedData("$uiView");scope.$on("$stateChangeSuccess",function(){updateView(false)});updateView(true);function cleanupLastView(){if(previousEl){previousEl.remove();previousEl=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentEl){var $uiViewData=currentEl.data("$uiViewAnim");renderer.leave(currentEl,function(){$uiViewData.$$animLeave.resolve();previousEl=null});previousEl=currentEl;currentEl=null}}function updateView(firstTime){var newScope,name=getUiViewName(scope,attrs,$element,$interpolate),previousLocals=name&&$state.$current&&$state.$current.locals[name];if(!firstTime&&previousLocals===latestLocals)return;newScope=scope.$new();latestLocals=$state.$current.locals[name];newScope.$emit("$viewContentLoading",name);var clone=$transclude(newScope,function(clone){var animEnter=$q.defer(),animLeave=$q.defer();var viewAnimData={$animEnter:animEnter.promise,$animLeave:animLeave.promise,$$animLeave:animLeave};clone.data("$uiViewAnim",viewAnimData);renderer.enter(clone,$element,function onUiViewEnter(){animEnter.resolve();if(currentScope){currentScope.$emit("$viewContentAnimationEnded")}if(angular.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp)){$uiViewScroll(clone)}});cleanupLastView()});currentEl=clone;currentScope=newScope;currentScope.$emit("$viewContentLoaded",name);currentScope.$eval(onloadExp)}}}};return directive}$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"];function $ViewDirectiveFill($compile,$controller,$state,$interpolate){return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return function(scope,$element,attrs){var current=$state.$current,name=getUiViewName(scope,attrs,$element,$interpolate),locals=current&&current.locals[name];if(!locals){return}$element.data("$uiView",{name:name,state:locals.$$state});$element.html(locals.$template?locals.$template:initial);var resolveData=angular.extend({},locals);scope[locals.$$resolveAs]=resolveData;var link=$compile($element.contents());if(locals.$$controller){locals.$scope=scope;locals.$element=$element;var controller=$controller(locals.$$controller,locals);if(locals.$$controllerAs){scope[locals.$$controllerAs]=controller;scope[locals.$$controllerAs][locals.$$resolveAs]=resolveData}if(isFunction(controller.$onInit))controller.$onInit();$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}link(scope)}}}}function getUiViewName(scope,attrs,element,$interpolate){var name=$interpolate(attrs.uiView||attrs.name||"")(scope);var uiViewCreatedBy=element.inheritedData("$uiView");return name.indexOf("@")>=0?name:name+"@"+(uiViewCreatedBy?uiViewCreatedBy.state.name:"")}angular.module("ui.router.state").directive("uiView",$ViewDirective);angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill);function parseStateRef(ref,current){var preparsed=ref.match(/^\s*({[^}]*})\s*$/),parsed;if(preparsed)ref=current+"("+preparsed[1]+")";parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!parsed||parsed.length!==4)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");if(stateData&&stateData.state&&stateData.state.name){return stateData.state}}function getTypeInfo(el){var isSvg=Object.prototype.toString.call(el.prop("href"))==="[object SVGAnimatedString]";var isForm=el[0].nodeName==="FORM";return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:el.prop("tagName").toUpperCase()==="A",clickable:!isForm}}function clickHook(el,$state,$timeout,type,current){return function(e){var button=e.which||e.button,target=current();if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition=$timeout(function(){$state.go(target.state,target.params,target.options)});e.preventDefault();var ignorePreventDefaultCount=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){if(ignorePreventDefaultCount--<=0)$timeout.cancel(transition)}}}}function defaultOpts(el,$state){return{relative:stateContext(el)||$state.$current,inherit:true}}$StateRefDirective.$inject=["$state","$timeout"];function $StateRefDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref,$state.current.name);var def={state:ref.state,href:null,params:null};var type=getTypeInfo(element);var active=uiSrefActive[1]||uiSrefActive[0];var unlinkInfoFn=null;var hookFn;def.options=extend(defaultOpts(element,$state),attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{});var update=function(val){if(val)def.params=angular.copy(val);def.href=$state.href(ref.state,def.params,def.options);if(unlinkInfoFn)unlinkInfoFn();if(active)unlinkInfoFn=active.$$addStateInfo(ref.state,def.params);if(def.href!==null)attrs.$set(type.attr,def.href)};if(ref.paramExpr){scope.$watch(ref.paramExpr,function(val){if(val!==def.params)update(val)},true);def.params=angular.copy(scope.$eval(ref.paramExpr))}update();if(!type.clickable)return;hookFn=clickHook(element,$state,$timeout,type,function(){return def});element.bind("click",hookFn);scope.$on("$destroy",function(){element.unbind("click",hookFn)})}}}$StateRefDynamicDirective.$inject=["$state","$timeout"];function $StateRefDynamicDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var type=getTypeInfo(element);var active=uiSrefActive[1]||uiSrefActive[0];var group=[attrs.uiState,attrs.uiStateParams||null,attrs.uiStateOpts||null];var watch="["+group.map(function(val){return val||"null"}).join(", ")+"]";var def={state:null,params:null,options:null,href:null};var unlinkInfoFn=null;var hookFn;function runStateRefLink(group){def.state=group[0];def.params=group[1];def.options=group[2];def.href=$state.href(def.state,def.params,def.options);if(unlinkInfoFn)unlinkInfoFn();if(active)unlinkInfoFn=active.$$addStateInfo(def.state,def.params);if(def.href)attrs.$set(type.attr,def.href)}scope.$watch(watch,runStateRefLink,true);runStateRefLink(scope.$eval(watch));if(!type.clickable)return;hookFn=clickHook(element,$state,$timeout,type,function(){return def});element.bind("click",hookFn);scope.$on("$destroy",function(){element.unbind("click",hookFn)})}}}$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"];function $StateRefActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function($scope,$element,$attrs,$timeout){var states=[],activeClasses={},activeEqClass,uiSrefActive;activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",false)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",false)($scope);if(isObject(uiSrefActive)){forEach(uiSrefActive,function(stateOrName,activeClass){if(isString(stateOrName)){var ref=parseStateRef(stateOrName,$state.current.name);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)}})}this.$$addStateInfo=function(newState,newParams){if(isObject(uiSrefActive)&&states.length>0){return}var deregister=addState(newState,newParams,uiSrefActive);update();return deregister};$scope.$on("$stateChangeSuccess",update);function addState(stateName,stateParams,activeClass){var state=$state.get(stateName,stateContext($element));var stateHash=createStateHash(stateName,stateParams);var stateInfo={state:state||{name:stateName},params:stateParams,hash:stateHash};states.push(stateInfo);activeClasses[stateHash]=activeClass;return function removeState(){var idx=states.indexOf(stateInfo);if(idx!==-1)states.splice(idx,1)}}function createStateHash(state,params){if(!isString(state)){throw new Error("state should be a string")}if(isObject(params)){return state+toJson(params)}params=$scope.$eval(params);if(isObject(params)){return state+toJson(params)}return state}function update(){for(var i=0;i<states.length;i++){if(anyMatch(states[i].state,states[i].params)){addClass($element,activeClasses[states[i].hash])}else{removeClass($element,activeClasses[states[i].hash])}if(exactMatch(states[i].state,states[i].params)){addClass($element,activeEqClass)}else{removeClass($element,activeEqClass)}}}function addClass(el,className){$timeout(function(){el.addClass(className)})}function removeClass(el,className){el.removeClass(className)}function anyMatch(state,params){return $state.includes(state.name,params)}function exactMatch(state,params){return $state.is(state.name,params)}update()}]}}angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective);$IsStateFilter.$inject=["$state"];function $IsStateFilter($state){var isFilter=function(state,params){return $state.is(state,params)};isFilter.$stateful=true;return isFilter}$IncludedByStateFilter.$inject=["$state"];function $IncludedByStateFilter($state){var includesFilter=function(state,params,options){return $state.includes(state,params,options)};includesFilter.$stateful=true;return includesFilter}angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)})(window,window.angular);
(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();(function(){"use strict";var devtools={open:false,orientation:null};var threshold=160;var emitEvent=function(state,orientation){window.dispatchEvent(new CustomEvent("devtoolschange",{detail:{open:state,orientation:orientation}}))};setInterval(function(){var widthThreshold=window.outerWidth-window.innerWidth>threshold;var heightThreshold=window.outerHeight-window.innerHeight>threshold;var orientation=widthThreshold?"vertical":"horizontal";if(!(heightThreshold&&widthThreshold)&&(window.Firebug&&window.Firebug.chrome&&window.Firebug.chrome.isInitialized||widthThreshold||heightThreshold)){if(!devtools.open||devtools.orientation!==orientation){emitEvent(true,orientation)}devtools.open=true;devtools.orientation=orientation}else{if(devtools.open){emitEvent(false,null)}devtools.open=false;devtools.orientation=null}},500);if(typeof module!=="undefined"&&module.exports){module.exports=devtools}else{window.devtools=devtools}})();
!function(e,o){for(var n in o)e[n]=o[n]}(window,function(e){function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}var n={};return o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s=6)}([function(e,o,n){"use strict";function t(e,o,n){return e+(-1===e.indexOf("?")?"?":"&")+o+"="+n}function r(e){return t(e,"version",encodeURIComponent(Dropbox.VERSION))}function i(e,o){var n=encodeURIComponent(window.location.protocol+"//"+window.location.host),i=encodeURIComponent(Dropbox.appKey),s=encodeURIComponent(e.linkType||""),a=encodeURIComponent(e._trigger||"js"),c=Boolean(e.multiselect),l=encodeURIComponent(u(e.extensions,"join",function(e){return e.join(" ")})||""),p=Boolean(e.folderselect);o=Boolean(o);var d=Dropbox.baseUrl+"/chooser?origin="+n+"&app_key="+i+"&link_type="+s+"&trigger="+a+"&multiselect="+c+"&extensions="+l+"&folderselect="+p+"&iframe="+o;return void 0!==e.fileselect&&(d=t(d,"fileselect",Boolean(e.fileselect))),void 0!==e.sizeLimit&&(d=t(d,"size_limit",e.sizeLimit)),null!=e.initialNavigation&&(null!=e.initialNavigation.mode&&(d=t(d,"initial_navigation_mode",encodeURIComponent(e.initialNavigation.mode))),null!=e.initialNavigation.role&&(d=t(d,"initial_navigation_role",encodeURIComponent(e.initialNavigation.role))),e.initialNavigation.cursor&&(d=t(d,"initial_navigation_cursor",encodeURIComponent(e.initialNavigation.cursor)))),null!=e.initialViewType&&(d=t(d,"initial_view_type",encodeURIComponent(e.initialViewType))),null!=e.fields&&(d=t(d,"fields",encodeURIComponent("function"==typeof e.fields.join?e.fields.join(" "):void 0))),!1===e.showSignOut&&(d=t(d,"show_sign_out","false")),r(d)}function s(e){var n={options:d({},e,{success:function(t,r){"function"==typeof e.success&&e.success(t,r),o.currentChooserSession===n&&(o.currentChooserSession=null)},cancel:function(t){"function"==typeof e.cancel&&e.cancel(t),o.currentChooserSession===n&&(o.currentChooserSession=null)}})};return o.currentChooserSession=n,n}function a(e){var o=document.createElement("iframe");return o.src="about:blank",o._postAction=e,o.name="dropbox-dropins",o.style.display="block",o.style.backgroundColor="white",o.style.border="none",o}function c(e,o){var n,t=encodeURIComponent(Dropbox.appKey),i=Dropbox.baseUrl+"/dropins/job_status?job="+o+"&app_key="+t;i=r(i);var s=function(o){"COMPLETE"===o.status?("function"==typeof e.progress&&e.progress(1),"function"==typeof e.success&&e.success()):"PENDING"===o.status||"DOWNLOADING"===o.status?(null!=o.progress&&"function"==typeof e.progress&&e.progress(o.progress/100),setTimeout(n,1500)):"FAILED"===o.status&&"function"==typeof e.error&&e.error(o.error)};if("withCredentials"in new XMLHttpRequest)n=function(){var o=new XMLHttpRequest;return o.onload=function(){return s(JSON.parse(o.responseText))},o.onerror=function(){return"function"==typeof e.error?e.error():void 0},o.open("GET",i,!0),o.send()};else if(Dropbox.disableJSONP){if("undefined"==typeof XDomainRequest||null===XDomainRequest||"https:"!==document.location.protocol)throw new Error("Unable to find suitable means of cross domain communication");n=function(){var o=new XDomainRequest;return o.onload=function(){return s(JSON.parse(o.responseText))},o.onerror=function(){return"function"==typeof e.error?e.error():void 0},o.open("get",i),o.send()}}else n=function(){var o="DropboxJsonpCallback"+p++,n=!1;window[o]=function(e){return n=!0,s(e)};var t=document.createElement("script");return t.src=i+"&callback="+o,t.onreadystatechange=function(){if("loaded"===t.readyState)return n||"function"==typeof e.error&&e.error(),null!=t.parentNode?t.parentNode.removeChild(t):void 0},document.getElementsByTagName("head")[0].appendChild(t)};return"function"==typeof e.progress&&e.progress(0),n()}function l(e,n,t){var r,i=JSON.parse(e.data);switch(r=null!=o.ieframe&&t._popup?o.ieframe.contentWindow:e.source,void 0!==i.sequence_number&&r.postMessage(JSON.stringify({method:"ack",sequence_number:i.sequence_number}),Dropbox.baseUrl),i.method){case"origin_request":e.source.postMessage(JSON.stringify({method:"origin"}),Dropbox.baseUrl);break;case"ready":if(null!=t.files){var s=void 0;if(t._fetch_url_on_save){for(var a=[],l=0;l<t.files.length;l++){var u=t.files[l];a.push({filename:u.filename})}s=JSON.stringify({method:"files_with_callback",params:a})}else s=JSON.stringify({method:"files",params:t.files});if(r.postMessage(s,Dropbox.baseUrl),null!=t._ews_auth_token){var p=JSON.stringify({method:"ews_auth_token",params:{ews_auth_token:t._ews_auth_token}});r.postMessage(p,Dropbox.baseUrl)}}"function"==typeof t.ready&&t.ready();break;case"files_selected":case"files_saved":"function"==typeof n&&n(),"function"==typeof t.success&&t.success(i.params,o.last_navigation);break;case"cursor_changed":o.last_navigation={cursor:i.params};break;case"progress":"function"==typeof t.progress&&t.progress(i.params);break;case"close_dialog":"function"==typeof n&&n(),"function"==typeof t.cancel&&t.cancel(o.last_navigation);break;case"resize":"function"==typeof t.resize&&t.resize(i.params);break;case"error":"function"==typeof t.error&&t.error(i.params);break;case"error_and_close":"function"==typeof n&&n(),"function"==typeof t.error&&t.error(i.params);break;case"job_id":"function"==typeof n&&n(),c(t,i.params);break;case"save_callback":!function(e,o,n){if(e._fetch_url_on_save){var t=e.fetch_urls_fn;"function"!=typeof t&&"function"==typeof e.error&&e.error("Something went wrong, file url callback not provided."),t(n,o)}}(t,i.params,function(e){if(null==e)throw new Error("Please supply {urls: [...]} to success callback");if(null!=e.url&&null!=e.urls)throw new Error("Do not pass both url and urls to the save callback");if(null!=e.url&&(e.urls=[e.url]),null==e.urls)throw new Error("Please supply {urls: [...]} to success callback");return i={method:"continue_saving",params:{download_urls:e.urls}},void r.postMessage(JSON.stringify(i),Dropbox.baseUrl)});break;case"_debug_log":"undefined"!=typeof console&&null!==console&&console.log(i.params.msg)}}function u(e,o,n){return void 0!==e&&null!==e&&"function"==typeof e[o]?n(e,o):void 0}var p,d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var o,n=1,t=arguments.length;n<t;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),null==window.Dropbox&&(window.Dropbox={}),o.popupDimensionsString=function(e,o){return"width="+e+",height="+o+",left="+(window.screenX+((window.outerWidth||document.documentElement.offsetWidth)-e)/2)+",top="+(window.screenY+((window.outerHeight||document.documentElement.offsetHeight)-o)/2)},o.chooserUrl=i,o.createIEFrame=function(){/\bTrident\b/.test(navigator.userAgent)&&null!=document.body&&null==o.ieframe&&(o.ieframe=document.createElement("iframe"),o.ieframe.setAttribute("id","dropbox_xcomm"),o.ieframe.setAttribute("src",Dropbox.baseUrl+"/static/api/1/xcomm.html"),o.ieframe.style.display="none",document.body.appendChild(o.ieframe))},o.createChooserSession=s,o.createWidgetElement=a,o.handleJobId=c,o.handleMessageEvent=l,o.saverUrl=function(e){var o=encodeURIComponent(window.location.protocol+"//"+window.location.host),n=encodeURIComponent(Dropbox.appKey);return e=Boolean(e),r(Dropbox.baseUrl+"/saver?origin="+o+"&app_key="+n+"&iframe="+e)},o.__guardMethod__=u,o.__guard__=function(e,o){return void 0!==e&&null!==e?o(e):void 0},o.initModule=function(){o.last_navigation={},o.ieframe=null,o.currentChooserSession=null,p=1,null==Dropbox.baseUrl&&(Dropbox.baseUrl="https://www.dropbox.com"),null==Dropbox.blockBaseUrl&&(Dropbox.blockBaseUrl="https://dl-web.dropbox.com"),Dropbox.addListener=function(e,o,n){e.addEventListener?e.addEventListener(o,n,!1):e.attachEvent("on"+o,function(e){return e.preventDefault=function(){return!1},n(e)})},Dropbox.removeListener=function(e,o,n){e.removeEventListener?e.removeEventListener(o,n,!1):e.detachEvent("on"+o,n)},Dropbox.createChooserWidget=function(e){var o=s(e),n=a(i(o.options,!0));return n._handler=function(e){e.source===n.contentWindow&&e.origin===Dropbox.baseUrl&&l(e,null,o.options)},Dropbox.addListener(window,"message",n._handler),n},Dropbox.cleanupWidget=function(e){if(!e._handler)throw new Error("Invalid widget!");Dropbox.removeListener(window,"message",e._handler),delete e._handler}}},function(e,o,n){"use strict";function t(e,o){null!=o?o.innerHTML="":(o=document.createElement("a")).href="#",o.className+=" dropbox-dropin-btn",Dropbox.isBrowserSupported()?o.className+=" dropbox-dropin-default":o.className+=" dropbox-dropin-disabled";var n=document.createElement("span");return n.className="dropin-btn-status",o.appendChild(n),e=document.createTextNode(e),o.appendChild(e),o}function r(e){return e.replace(/\/+$/g,"").split("/").pop()}function i(e){var o=document.createElement("a");return o.href=e,r(o.pathname)}Object.defineProperty(o,"__esModule",{value:!0});var s=n(0),a=["text","documents","images","video","audio"];o.genericDropins={init:function(){}};var c=function(e){return e};o.createDropinButton=t,o.filenameFromPath=r,o.initModule=function(){s.initModule(),null==Dropbox.appKey&&(Dropbox.appKey=s.__guard__(document.getElementById("dropboxjs"),function(e){return e.getAttribute("data-app-key")})),Dropbox.init=function(e){null!=e.translation_function&&(c=e.translation_function),null!=e.appKey&&(Dropbox.appKey=e.appKey)};var e=function(e){var o,n,t;if("string"==typeof e[0])t=e.shift(),o="string"==typeof e[0]?e.shift():i(t),(n=e.shift()||{}).files=[{url:t,filename:o}];else{if(null==(n=e.shift()))throw new Error("Missing arguments. See documentation.");if((null==n.files||!n.files.length)&&"function"!=typeof n.files)throw new Error("Missing files. See documentation.");if(null!=n.fetch_urls_fn){if("function"!=typeof n.fetch_urls_fn)throw new Error("fetch_urls_fn must be a function if supplied.  See documentation.");n._fetch_url_on_save=!0}for(var r=0;r<n.files.length;r++){var s=n.files[r];if("function"==typeof s.url&&(n._fetch_url_on_save=!0,n.fetch_urls_fn=s.url,s.url=null,r>0))throw new Error("Old style url as callback is only supported for single files.");s.filename||(s.filename=i(s.url))}}return n};Dropbox.save=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var r=e(o);if(Dropbox.isBrowserSupported()){if(r._popup=!0,"object"!=typeof r.files||!r.files.length)throw new Error("The object passed in must have a 'files' property that contains a list of objects. See documentation.");if(r.iframe&&!r.windowName)throw new Error("Dropbox.save does not yet support creating its own iframe.                       windowName must be provided when the iframe option is present.");for(var i=0,a=r.files;i<a.length;i++){var l=a[i];if(r._fetch_url_on_save){if(r.fetch_urls_fn){if(null!=l.url)throw new Error("You passed in a 'fetch_urls_fn' option to specify the file URLs.  Don't include individual URLs in each file objects.")}else if("function"!=typeof l.url)throw new Error("File urls should be all urls, or a single file with function. See documentation.")}else if("string"!=typeof l.url)throw new Error("File urls to download incorrectly configured. Each file must have a url. See documentation.")}var u=s.popupDimensionsString(735,670);return n(s.saverUrl(r.iframe),u,r).window}alert(c("Your browser does not support the Dropbox Saver"))};var n=function(e,o,n){var t=function(){a.closed||(a.close(),a.postMessage(JSON.stringify({method:"close"}),Dropbox.baseUrl)),Dropbox.removeListener(window,"message",r),clearInterval(c)},r=function(e){e.source!==a&&e.source!==(void 0!==s.ieframe&&null!==s.ieframe?s.ieframe.contentWindow:void 0)||s.handleMessageEvent(e,t,n)},i=n.iframe?"":o+",resizable,scrollbars",a=window.open(e,n.windowName||"dropbox",i);if(!a)throw new Error("Failed to open/load the window. Dropbox.choose and Dropbox.save should only be called from within a user-triggered event handler such as a tap or click event.");a.focus();var c=setInterval(function(){(function(){try{return a.closed}catch(e){}})()&&(t(),"function"==typeof n.cancel&&n.cancel(s.last_navigation))},100);return Dropbox.addListener(window,"message",r),{window:a,onClose:t}},r=function(e){null==e.success&&s.__guardMethod__(console,"warn",function(e){return e.warn("You must provide a success callback to the Chooser to see the files that the user selects")}),void 0===e.fileselect||Boolean(e.fileselect)||Boolean(e.folderselect)||s.__guardMethod__(console,"error",function(e){return e.error("You must enable either fileselect or folderselect on the Chooser so the user can select something")});var o=function(){return s.__guardMethod__(console,"warn",function(e){return e.warn("The provided list of extensions or file types is not valid. See Chooser documentation: https://www.dropbox.com/developers/dropins/chooser/js")}),s.__guardMethod__(console,"warn",function(e){return e.warn("Available file types are: "+a.join(", "))}),delete e.extensions};if(null!=e.extensions&&null!=Array.isArray)if(Array.isArray(e.extensions))for(var n=0,t=e.extensions;n<t.length;n++){var r=t[n];r.match(/^\.[\.\w$#&+@!()\-'`_~]+$/)||-1!==a.indexOf(r)||o()}else o();return void 0!==e.sizeLimit&&"number"!=typeof e.sizeLimit&&e.sizeLimit<=0&&s.__guardMethod__(console,"error",function(e){return e.error("The sizeLimit option, if provided, must be a positive number")}),e},l=function(e){if(Dropbox.isBrowserSupported()){var o,t,r=s.createChooserSession(e);if(e.iframe&&!e.windowName){var i=(o=s.chooserUrl(e,!0),(t=document.createElement("iframe")).src=o,t.style.display="block",t.style.backgroundColor="white",t.style.border="none",t);i.style.width="735px",i.style.height="552px",i.style.margin="125px auto 0 auto",i.style.border="1px solid #ACACAC",i.style.boxShadow="rgba(0, 0, 0, .2) 0px 4px 16px";var a=document.createElement("div");a.style.position="fixed",a.style.left=a.style.right=a.style.top=a.style.bottom="0",a.style.zIndex="1000",a.style.backgroundColor="rgba(160, 160, 160, 0.2)",a.appendChild(i),document.body.appendChild(a);var l=function(e){e.source===i.contentWindow&&(r.onClose=function(){document.body.removeChild(a),Dropbox.removeListener(window,"message",l)},s.handleMessageEvent(e,r.onClose,r.options))};Dropbox.addListener(window,"message",l)}else{var u=s.popupDimensionsString(735,552);r.onClose=n(s.chooserUrl(r.options,r.options.iframe),u,r.options).onClose}}else alert(c("Your browser does not support the Dropbox Chooser"))};Dropbox.choose=function(e){null==e&&(e={}),e=r(e),l(e)},Dropbox.cancelChooser=function(){s.currentChooserSession&&(s.currentChooserSession.onClose&&s.currentChooserSession.onClose(),s.currentChooserSession.options.cancel&&s.currentChooserSession.options.cancel(s.last_navigation))},Dropbox.isBrowserSupported=function(){var e=function(){for(var e=0,o=[/IEMobile\/(7|8|9|10)\./,/BB10;/,/CriOS/];e<o.length;e++)if(o[e].test(navigator.userAgent))return!1;return"undefined"!=typeof JSON&&null!==JSON&&null!=window.postMessage&&null!=window.addEventListener&&!/MSIE [7-9]/.test(navigator.userAgent)}();return Dropbox.isBrowserSupported=function(){return e},e},Dropbox.createChooseButton=function(e){null==e&&(e={}),e=r(e);var o=t(c("Choose from Dropbox"));return Dropbox.addListener(o,"click",function(n){n.preventDefault(),l({success:function(n,t){o.className="dropbox-dropin-btn dropbox-dropin-success","function"==typeof e.success&&e.success(n,t)},cancel:e.cancel,linkType:e.linkType,multiselect:e.multiselect,fileselect:e.fileselect,folderselect:e.folderselect,extensions:e.extensions,sizeLimit:e.sizeLimit,iframe:e.iframe,_trigger:"button"})}),o},Dropbox.createSaveButton=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=e(o),i=o.shift();return i=t(c("Save to Dropbox"),i),Dropbox.addListener(i,"click",function(e){if(e.preventDefault(),i.className.indexOf("dropbox-dropin-error")>=0||i.className.indexOf("dropbox-dropin-default")>=0||i.className.indexOf("dropbox-dropin-disabled")>=0){var o=("function"==typeof r.files?r.files():void 0)||r.files;if(!(null!=o?o.length:void 0))return i.className="dropbox-dropin-btn dropbox-dropin-error",void("function"==typeof r.error&&r.error("Missing files"));Dropbox.save({files:o,success:function(){i.className="dropbox-dropin-btn dropbox-dropin-success","function"==typeof r.success&&r.success()},progress:function(e){i.className="dropbox-dropin-btn dropbox-dropin-progress","function"==typeof r.progress&&r.progress(e)},cancel:function(){"function"==typeof r.cancel&&r.cancel()},error:function(e){i.className="dropbox-dropin-btn dropbox-dropin-error","function"==typeof r.error&&r.error(e)}})}}),i};var u=function(e,o){return"  background: "+e+";\n  background: -moz-linear-gradient(top, "+e+" 0%, "+o+" 100%);\n  background: -webkit-linear-gradient(top, "+e+" 0%, "+o+" 100%);\n  background: linear-gradient(to bottom, "+e+" 0%, "+o+" 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='"+e+"', endColorstr='"+o+"',GradientType=0);  "},p=document.createElement("style");p.type="text/css";var d='  @-webkit-keyframes rotate {\n    from  { -webkit-transform: rotate(0deg); }\n    to   { -webkit-transform: rotate(360deg); }\n  }\n\n  @keyframes rotate {\n    from  { transform: rotate(0deg); }\n    to   { transform: rotate(360deg); }\n  }\n\n    .dropbox-dropin-btn, .dropbox-dropin-btn:link, .dropbox-dropin-btn:hover {\n      display: inline-block;\n      height: 14px;\n      font-family: "Lucida Grande", "Segoe UI", "Tahoma", "Helvetica Neue", "Helvetica", sans-serif;\n      font-size: 11px;\n      font-weight: 600;\n      color: #636363;\n      text-decoration: none;\n      padding: 1px 7px 5px 3px;\n      border: 1px solid #ebebeb;\n      border-radius: 2px;\n      border-bottom-color: #d4d4d4;\n      '+u("#fcfcfc","#f5f5f5")+"\n    }\n\n    .dropbox-dropin-default:hover, .dropbox-dropin-error:hover {\n      border-color: #dedede;\n      border-bottom-color: #cacaca;\n      "+u("#fdfdfd","#f5f5f5")+"\n    }\n\n    .dropbox-dropin-default:active, .dropbox-dropin-error:active {\n      border-color: #d1d1d1;\n      box-shadow: inset 0 1px 1px rgba(0,0,0,0.1);\n    }\n\n    .dropbox-dropin-btn .dropin-btn-status {\n      display: inline-block;\n      width: 15px;\n      height: 14px;\n      vertical-align: bottom;\n      margin: 0 5px 0 2px;\n      background: transparent url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-saver-status.png') no-repeat;\n      position: relative;\n      top: 2px;\n    }\n\n    .dropbox-dropin-default .dropin-btn-status {\n      background-position: 0px 0px;\n    }\n\n    .dropbox-dropin-progress .dropin-btn-status {\n      width: 18px;\n      margin: 0 4px 0 0;\n      background: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-progress.png') no-repeat center center;\n        -webkit-animation-name: rotate;\n        -webkit-animation-duration: 1.7s;\n        -webkit-animation-iteration-count: infinite;\n        -webkit-animation-timing-function: linear;\n      animation-name: rotate;\n      animation-duration: 1.7s;\n      animation-iteration-count: infinite;\n      animation-timing-function: linear;\n    }\n\n    .dropbox-dropin-success .dropin-btn-status {\n      background-position: -15px 0px;\n    }\n\n    .dropbox-dropin-disabled {\n      background: #e0e0e0;\n      border: 1px #dadada solid;\n      border-bottom: 1px solid #ccc;\n      box-shadow: none;\n    }\n\n    .dropbox-dropin-disabled .dropin-btn-status {\n      background-position: -30px 0px;\n    }\n\n    .dropbox-dropin-error .dropin-btn-status {\n      background-position: -45px 0px;\n    }\n\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.4) {\n      .dropbox-dropin-btn .dropin-btn-status {\n        background-image: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-saver-status-2x.png');\n        background-size: 60px 14px;\n          -webkit-background-size: 60px 14px;\n      }\n\n      .dropbox-dropin-progress .dropin-btn-status {\n        background: url('"+Dropbox.baseUrl+"/static/images/widgets/dbx-progress-2x.png') no-repeat center center;\n        background-size: 20px 20px;\n          -webkit-background-size: 20px 20px;\n      }\n  }\n\n    .dropbox-saver:hover, .dropbox-chooser:hover {\n      text-decoration: none;\n      cursor: pointer;\n    }\n\n    .dropbox-chooser, .dropbox-dropin-btn {\n      line-height: 11px !important;\n      text-decoration: none !important;\n      box-sizing: content-box !important;\n        -webkit-box-sizing: content-box !important;\n        -moz-box-sizing: content-box !important;\n    }\n    ";setTimeout(s.createIEFrame,0);var f=function(){document.removeEventListener?document.removeEventListener("DOMContentLoaded",f,!1):document.detachEvent&&document.detachEvent("onreadystatechange",f),s.createIEFrame(),o.genericDropins.init()};"interactive"===document.readyState||"complete"===document.readyState?setTimeout(f,0):document.addEventListener?document.addEventListener("DOMContentLoaded",f,!1):document.attachEvent("onreadystatechange",f)}},function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=window.location.protocol+"//"+window.location.host,r=function(){function e(o){if(this.origin=t,this.sendMessage=function(e){},this.state={},this.options=o,!this.options)throw new Error("options must be provided");if(!this.options.appKey)throw new Error("appKey must be provided");e.validateOnError(this.options.onError)}return e.validateOnError=function(e){if(e&&"function"!=typeof e)throw new Error("onError must be a function")},e.prototype.setOnError=function(o){e.validateOnError(o),this.options.onError=o},e.prototype.hasOnCloseDialogMessage=function(){return void 0!==this.onCloseDialogMessage},e.prototype.setOnCloseDialogMessage=function(e){if("function"!=typeof e)throw new Error("onCloseDialogMessage must be a function");this.onCloseDialogMessage=e},e.prototype.sendState=function(){this.sendMessage({method:"state",params:this.state})},e.prototype.url=function(){var e=[{key:"app_key",value:this.options.appKey},{key:"origin",value:this.origin}].concat(this.urlParams()).map(function(e){return encodeURIComponent(e.key)+"="+encodeURIComponent(e.value)}).join("&");return{pathname:this.urlPathname(),search:"?"+e}},e.prototype.windowDimensions=function(){return{width:735,height:552}},e.prototype.handleMessage=function(e){switch(void 0!==e.sequenceNumber&&this.sendMessage({method:"ack",sequenceNumber:e.sequenceNumber}),e.method){case"origin_request":this.sendMessage({method:"origin"});break;case"ready":this.sendState();break;case"error":this.options.onError&&this.options.onError(e.params);break;case"close_dialog":this.onCloseDialogMessage&&this.onCloseDialogMessage(),this.onCloseDialogMessage=void 0}},e}();o.Dropin=r},function(e,o,n){"use strict";var t,r=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)});Object.defineProperty(o,"__esModule",{value:!0});var i="https://www.dropbox.com/developers/dropins/chooser/js",s=["text","documents","images","video","audio"],a=function(e){function o(o){var n=e.call(this,o)||this;return n.validateOptions=function(){var e=function(e,o){if(void 0!==n.options[e]&&typeof n.options[e]!==o)throw new Error("The "+e+" option, if provided, must have type "+o)};if(e("linkType","string"),e("_trigger","string"),void 0!==n.options.extensions){if(!(n.options.extensions instanceof Array))throw new Error("The extensions option, if provided, must be an array");for(var o=0,t=n.options.extensions;o<t.length;o++){var r=t[o];if("string"!=typeof r||!r.match(/^\.[\.\w$#&+@!()\-'`_~]+$/)&&-1===s.indexOf(r))throw new Error("The provided list of extensions or file types is not valid. See Chooser documentation: "+i+". Available file types are: "+s.join(", "))}}if(e("multiselect","boolean"),e("iframe","boolean"),e("folderselect","boolean"),e("fileselect","boolean"),void 0!==n.options.fileselect&&!n.options.fileselect&&!n.options.folderselect)throw new Error("You must enable either fileselect or folderselect on the Chooser so the user can select something");if(e("sizeLimit","number"),void 0!==n.options.sizeLimit&&n.options.sizeLimit<=0)throw new Error("The sizeLimit option, if provided, must be a positive number");var a=n.options.initialNavigation;if(void 0!==a){if(void 0!==a.mode&&"string"!=typeof a.mode)throw new Error("The initialNavigation.mode option, if provided, must be a string");if(void 0!==a.role&&"string"!=typeof a.role)throw new Error("The initialNavigation.role option, if provided, must be a string");if(void 0!==a.cursor&&"string"!=typeof a.cursor)throw new Error("The initialNavigation.cursor option, if provided, must be a string")}if(e("initialViewType","string"),void 0!==n.options.fields){if(!(n.options.fields instanceof Array))throw new Error("The fields option, if provided, must be an array");for(var c=0,l=n.options.fields;c<l.length;c++)if("string"!=typeof l[c])throw new Error("The fields option, if provided, must be an array of strings")}if(e("showSignOut","boolean"),e("version","string"),e("cl","string"),"function"!=typeof n.options.onSuccess)throw new Error("You must provide a success callback to the Chooser to see the files that the user selects");e("onReady","function"),e("onCancel","function"),e("onError","function"),e("onResize","function")},n.validateOptions(),n}return r(o,e),o.prototype.urlParams=function(){var e=[],o=function(o,n){void 0!==n&&e.push({key:o,value:""+n})};return o("link_type",this.options.linkType),e.push({key:"trigger",value:this.options._trigger||"js"}),void 0!==this.options.extensions&&e.push({key:"extensions",value:this.options.extensions.join(" ")}),o("multiselect",this.options.multiselect),o("iframe",this.options.iframe),o("folderselect",this.options.folderselect),o("fileselect",this.options.fileselect),o("size_limit",this.options.sizeLimit),void 0!==this.options.initialNavigation&&(o("initial_navigation_mode",this.options.initialNavigation.mode),o("initial_navigation_role",this.options.initialNavigation.role),o("initial_navigation_cursor",this.options.initialNavigation.cursor)),o("initial_view_type",this.options.initialViewType),void 0!==this.options.fields&&e.push({key:"fields",value:this.options.fields.join(" ")}),o("show_sign_out",this.options.showSignOut),o("version",this.options.version),o("cl",this.options.cl),e},o.prototype.urlPathname=function(){return"/chooser"},o.prototype.close=function(){"function"==typeof this.onCloseDialogMessage&&this.onCloseDialogMessage()},o.prototype.handleMessage=function(o){switch(e.prototype.handleMessage.call(this,o),o.method){case"ready":void 0!==this.options.onReady&&this.options.onReady();break;case"files_selected":this.close(),this.options.onSuccess(o.params,this.lastNavigation);break;case"cursor_changed":this.lastNavigation={cursor:o.params};break;case"close_dialog":void 0!==this.options.onCancel&&this.options.onCancel(this.lastNavigation);break;case"resize":void 0!==this.options.onResize&&this.options.onResize(o.params);break;case"error":this.close();break;case"_debug_log":void 0!==console&&null!==console&&console.log(o.params.msg)}},o}(n(2).Dropin);o.BaseChooser=a;var c=function(e){function o(o){return e.call(this,o)||this}return r(o,e),o}(a);o.Chooser=c},,,function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),n(7).initModule(),o.Dropbox=window.Dropbox},function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=n(8),r=n(1),i=n(3),s=n(10),a=n(11),c=n(12);o.initModule=function(){r.initModule(),Dropbox.VERSION="2";var e=new t.BrowserEnvironment;Dropbox.mount=e.mount.bind(e),Dropbox.openWindow=e.openWindow.bind(e);var o=e.remove.bind(e);Dropbox.unmount=o,Dropbox.closeWindow=o,Dropbox.Mover=a.Mover,Dropbox.Previewer=c.Previewer,Dropbox.Chooser=i.Chooser,Dropbox.ZoomChooser=s.ZoomChooser,r.genericDropins.init=function(){for(var e=document.getElementsByTagName("a"),o=0;o<e.length;o++){var n=e[o];(n.getAttribute("class")||"").split(" ").indexOf("dropbox-saver")>=0&&function(e){Dropbox.createSaveButton({files:function(){return[{url:e.getAttribute("data-url")||e.href,filename:e.getAttribute("data-filename")||r.filenameFromPath(e.pathname)}]}},e)}(n)}}}},function(e,o,n){"use strict";function t(e){return function(){for(var o=0,n=e;o<n.length;o++)(0,n[o])()}}Object.defineProperty(o,"__esModule",{value:!0});var r=n(9);o.TARGET_ORIGIN="https://www.dropbox.com";var i=function(){},s=function(){function e(){var e=this;this.activeDropins=[],this.deleteActiveDropin=function(o){return function(){var n=e.activeDropins.indexOf(o);-1!==n&&e.activeDropins.splice(n,1)}},this.openWindow=function(n){e.throwIfAlreadyActive(n);var s=t([]);try{var a=n.url(),c=""+o.TARGET_ORIGIN+a.pathname+a.search,l=r.PopupEnvironment.open(c,n.windowDimensions(),function(){s()});s=t([l.stopInterval,s]);var u=e.attach(n,l.messagingWindow);s=t([function(){n.sendMessage({method:"close"})},s=t([u,s])]);var p={dropin:n,cleanup:i};e.activeDropins.push(p),s=t([e.deleteActiveDropin(p),s]),n.hasOnCloseDialogMessage()||n.setOnCloseDialogMessage(s),p.cleanup=s}catch(e){throw s(),e}}}return e.prototype.mount=function(e,n){if(!e)throw new Error("Dropbox component must be provided");if(!n)throw new Error("Container element must be provided");this.throwIfAlreadyActive(e);var r=t([]);try{var s=this.createIframe();r=t([this.attach(e,function(){if(!s.contentWindow)throw new Error("iframe does not contain a contentWindow");return s.contentWindow}),r]);var a=e.url();s.src=""+o.TARGET_ORIGIN+a.pathname+a.search+"&iframe=true",n.appendChild(s),r=t([function(){n.removeChild(s)},r]);var c={dropin:e,cleanup:i};this.activeDropins.push(c),r=t([this.deleteActiveDropin(c),r]),e.hasOnCloseDialogMessage()||e.setOnCloseDialogMessage(r),c.cleanup=r}catch(e){throw r(),e}},e.prototype.remove=function(e){if(!e)throw new Error("Dropbox component must be provided");for(var o=0,n=this.activeDropins;o<n.length;o++){var t=n[o];if(t.dropin===e){t.cleanup();break}}},e.prototype.throwIfAlreadyActive=function(e){for(var o=0,n=this.activeDropins;o<n.length;o++)if(n[o].dropin===e)throw new Error("Component is already in use")},e.prototype.attach=function(e,n){e.sendMessage=function(e){n().postMessage(JSON.stringify(e),o.TARGET_ORIGIN)};var t=function(t){if(t.source===n()&&t.origin===o.TARGET_ORIGIN){var r,i;try{r=JSON.parse(t.data)}catch(e){return}"object"==typeof(i=r)&&"string"==typeof i.method&&e.handleMessage(r)}};return window.addEventListener("message",t),function(){e.sendMessage=i,window.removeEventListener("message",t)}},e.prototype.createIframe=function(){var e=window.document.createElement("iframe");return e.style.height="100%",e.style.width="100%",e.style.border="none",e},e}();o.BrowserEnvironment=s},function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=n(0),r=function(){function e(e,o){var n=this;this.popupWindow=e,this.onClose=o,this.stopInterval=function(){clearInterval(n.intervalId)},this.isWindowClosedByUser=function(){try{return n.popupWindow.closed}catch(e){}return!1},this.messagingWindow=function(){return void 0!==t.ieframe&&null!==t.ieframe?t.ieframe.contentWindow:n.popupWindow},this.handleInterval=function(){n.isWindowClosedByUser()&&(n.onClose(),n.stopInterval())},this.intervalId=setInterval(this.handleInterval,100)}return e.open=function(o,n,r){var i=t.popupDimensionsString(n.width,n.height)+",resizable,scrollbars",s=window.open(o,"_blank",i);if(null===s)throw new Error("Failed to open the window. Dropbox popups may only be attached to a user-triggered event handler such as a tap or click event.");return s.focus(),
new e(s,r)},e}();o.PopupEnvironment=r},function(e,o,n){"use strict";var t,r=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(e){function o(o){var n=e.call(this,o)||this;return n.validateNoOptionLinkType(),n}return r(o,e),o.prototype.validateNoOptionLinkType=function(){if(void 0!==this.options.linkType)throw new Error("The ZoomChooser SDK does not accept a linkType.")},o.prototype.urlParams=function(){var o=e.prototype.urlParams.call(this);return o.push({key:"is_zoom_chooser",value:"true"}),o},o}(n(3).BaseChooser);o.ZoomChooser=i},function(e,o,n){"use strict";var t,r=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var o,n=1,t=arguments.length;n<t;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function o(n){var t=e.call(this,n)||this;return o.validateOnSuccess(t.options.onSuccess),o.validateOnCancel(t.options.onCancel),t.state={entries:t.options.entries,initialFolderSelection:t.options.initialFolderSelection},t.onSuccess=t.options.onSuccess,t.onCancel=t.options.onCancel,t}return r(o,e),o.validateOnSuccess=function(e){if(e&&"function"!=typeof e)throw new Error("onSuccess must be a function")},o.validateOnCancel=function(e){if(e&&"function"!=typeof e)throw new Error("onCancel must be a function")},o.prototype.urlParams=function(){return[{key:"account_id",value:this.options.accountId},{key:"initial_folder_selection",value:this.state.initialFolderSelection}]},o.prototype.urlPathname=function(){return"/dropins/mover"},o.prototype.handleMessage=function(o){switch(e.prototype.handleMessage.call(this,o),o.method){case"success":this.onSuccess&&this.onSuccess();break;case"cancel":this.onCancel&&this.onCancel()}},o.prototype.setEntries=function(e){this.state=i({},this.state,{entries:e}),this.sendState()},o.prototype.setInitialFolderSelection=function(e){this.state=i({},this.state,{initialFolderSelection:e}),this.sendState()},o.prototype.setOnSuccess=function(e){o.validateOnSuccess(e),this.onSuccess=e},o.prototype.setOnCancel=function(e){o.validateOnCancel(e),this.onCancel=e},o}(n(2).Dropin);o.Mover=s},function(e,o,n){"use strict";var t,r=this&&this.__extends||(t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])})(e,o)},function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var o,n=1,t=arguments.length;n<t;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function o(o){void 0===o&&(o={});var n=e.call(this,o)||this;return n.state={accountId:n.options.accountId,hideAccount:n.options.hideAccount,link:n.options.link,cl:n.options.cl,view:n.options.initialView,openLinksWithSDK:!!n.options.onOpenLink},n}return r(o,e),o.prototype.urlPathname=function(){return"/dropins/previewer"},o.prototype.urlParams=function(){return(this.state.accountId?[{key:"account_id",value:this.state.accountId}]:[]).concat(this.state.hideAccount?[{key:"hide_account",value:"true"}]:[],this.state.view?[{key:"initial_view",value:this.state.view}]:[],this.state.cl?[{key:"cl",value:this.state.cl}]:[],this.state.link?[{key:"link",value:this.state.link}]:[])},o.prototype.handleMessage=function(o){switch(o.method){case"view_change":var n=o.params.view;this.state=i({},this.state,{view:n}),this.options.onViewChange&&this.options.onViewChange(n);break;case"open_link":this.options.onOpenLink&&this.options.onOpenLink(o.params.link);break;default:e.prototype.handleMessage.call(this,o)}},o.prototype.setAccountId=function(e){this.state=i({},this.state,{accountId:e}),this.sendState()},o.prototype.setHideAccount=function(e){this.state=i({},this.state,{hideAccount:e}),this.sendState()},o.prototype.setLink=function(e){this.state=i({},this.state,{link:e}),this.sendState()},o.prototype.setView=function(e){this.state=i({},this.state,{view:e}),this.sendState()},o}(n(2).Dropin);o.Previewer=s}]));
(function(){"use strict";angular.module("focus-if",[]).directive("focusIf",focusIf);focusIf.$inject=["$timeout"];function focusIf($timeout){function link($scope,$element,$attrs){var dom=$element[0];if($attrs.focusIf){$scope.$watch($attrs.focusIf,focus)}else{focus(true)}function focus(condition){if(condition){$timeout(function(){dom.focus()},$scope.$eval($attrs.focusDelay)||0)}}}return{restrict:"A",link:link}}})();
var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime();(function(){var g=function(){this.g=""};g.prototype.toString=function(){return"SafeScript{"+this.g+"}"};g.prototype.a=function(a){this.g=a};(new g).a("");var h=function(){this.j=""};h.prototype.toString=function(){return"SafeStyle{"+this.j+"}"};h.prototype.a=function(a){this.j=a};(new h).a("");var m=function(){this.i=""};m.prototype.toString=function(){return"SafeStyleSheet{"+this.i+"}"};m.prototype.a=function(a){this.i=a};(new m).a("");var n=function(){this.f=""};n.prototype.toString=function(){return"SafeHtml{"+this.f+"}"};n.prototype.a=function(a){this.f=a};(new n).a("<!DOCTYPE html>");(new n).a("");(new n).a("<br>");var q=window,v=document,aa=q.location,ba=function(){},ca=/\[native code\]/,x=function(a,b,c){return a[b]=a[b]||c},da=function(a){a=a.sort();for(var b=[],c=void 0,d=0;d<a.length;d++){var e=a[d];e!=c&&b.push(e);c=e}return b},y=function(){var a;if((a=Object.create)&&ca.test(a))a=a(null);else{a={};for(var b in a)a[b]=void 0}return a},D=x(q,"gapi",{});var E;E=x(q,"___jsl",y());x(E,"I",0);x(E,"hel",10);var F=function(){var a=aa.href;if(E.dpo)var b=E.h;else{b=E.h;var c=/([#].*&|[#])jsh=([^&#]*)/g,d=/([?#].*&|[?#])jsh=([^&#]*)/g;if(a=a&&(c.exec(a)||d.exec(a)))try{b=decodeURIComponent(a[2])}catch(e){}}return b},fa=function(a){var b=x(E,"PQ",[]);E.PQ=[];var c=b.length;if(0===c)a();else for(var d=0,e=function(){++d===c&&a()},f=0;f<c;f++)b[f](e)},G=function(a){return x(x(E,"H",y()),a,y())};var H=x(E,"perf",y()),K=x(H,"g",y()),ha=x(H,"i",y());x(H,"r",[]);y();y();var L=function(a,b,c){var d=H.r;"function"===typeof d?d(a,b,c):d.push([a,b,c])},N=function(a,b,c){b&&0<b.length&&(b=M(b),c&&0<c.length&&(b+="___"+M(c)),28<b.length&&(b=b.substr(0,28)+(b.length-28)),c=b,b=x(ha,"_p",y()),x(b,c,y())[a]=(new Date).getTime(),L(a,"_p",c))},M=function(a){return a.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")};var O=y(),R=[],S=function(a){throw Error("Bad hint"+(a?": "+a:""))};R.push(["jsl",function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];"object"==typeof c?E[b]=x(E,b,[]).concat(c):x(E,b,c)}if(b=a.u)a=x(E,"us",[]),a.push(b),(b=/^https:(.*)$/.exec(b))&&a.push("http:"+b[1])}]);var ia=/^(\/[a-zA-Z0-9_\-]+)+$/,T=[/\/amp\//,/\/amp$/,/^\/amp$/],ja=/^[a-zA-Z0-9\-_\.,!]+$/,ka=/^gapi\.loaded_[0-9]+$/,la=/^[a-zA-Z0-9,._-]+$/,pa=function(a,b,c,d){var e=a.split(";"),f=e.shift(),l=O[f],k=null;l?k=l(e,b,c,d):S("no hint processor for: "+f);k||S("failed to generate load url");b=k;c=b.match(ma);(d=b.match(na))&&1===d.length&&oa.test(b)&&c&&1===c.length||S("failed sanity: "+a);return k},ra=function(a,b,c,d){a=qa(a);ka.test(c)||S("invalid_callback");b=U(b);d=d&&d.length?U(d):null;var e=function(f){return encodeURIComponent(f).replace(/%2C/g,",")};return[encodeURIComponent(a.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",e(a.version),"/m=",e(b),d?"/exm="+e(d):"","/rt=j/sv=1/d=1/ed=1",a.b?"/am="+e(a.b):"",a.l?"/rs="+e(a.l):"",a.o?"/t="+e(a.o):"","/cb=",e(c)].join("")},qa=function(a){"/"!==a.charAt(0)&&S("relative path");for(var b=a.substring(1).split("/"),c=[];b.length;){a=b.shift();if(!a.length||0==a.indexOf("."))S("empty/relative directory");else if(0<a.indexOf("=")){b.unshift(a);break}c.push(a)}a={};for(var d=0,e=b.length;d<e;++d){var f=b[d].split("="),l=decodeURIComponent(f[0]),k=decodeURIComponent(f[1]);2==f.length&&l&&k&&(a[l]=a[l]||k)}b="/"+c.join("/");ia.test(b)||S("invalid_prefix");c=0;for(d=T.length;c<d;++c)T[c].test(b)&&S("invalid_prefix");c=V(a,"k",!0);d=V(a,"am");e=V(a,"rs");a=V(a,"t");return{pathPrefix:b,version:c,b:d,l:e,o:a}},U=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c].replace(/\./g,"_").replace(/-/g,"_");la.test(e)&&b.push(e)}return b.join(",")},V=function(a,b,c){a=a[b];!a&&c&&S("missing: "+b);if(a){if(ja.test(a))return a;S("invalid: "+b)}return null},oa=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,na=/\/cb=/g,ma=/\/\//g,sa=function(){var a=F();if(!a)throw Error("Bad hint");return a};O.m=function(a,b,c,d){(a=a[0])||S("missing_hint");return"https://apis.google.com"+ra(a,b,c,d)};var W=decodeURI("%73cript"),X=/^[-+_0-9\/A-Za-z]+={0,2}$/,Y=function(a,b){for(var c=[],d=0;d<a.length;++d){var e=a[d],f;if(f=e){a:{for(f=0;f<b.length;f++)if(b[f]===e)break a;f=-1}f=0>f}f&&c.push(e)}return c},Z=function(){var a=E.nonce;return void 0!==a?a&&a===String(a)&&a.match(X)?a:E.nonce=null:v.querySelector?(a=v.querySelector("script[nonce]"))?(a=a.nonce||a.getAttribute("nonce")||"",a&&a===String(a)&&a.match(X)?E.nonce=a:E.nonce=null):null:null},ua=function(a){if("loading"!=v.readyState)ta(a);else{var b=Z(),c="";null!==b&&(c=' nonce="'+b+'"');v.write("<"+W+' src="'+encodeURI(a)+'"'+c+"></"+W+">")}},ta=function(a){var b=v.createElement(W);b.setAttribute("src",a);a=Z();null!==a&&b.setAttribute("nonce",a);b.async="true";(a=v.getElementsByTagName(W)[0])?a.parentNode.insertBefore(b,a):(v.head||v.body||v.documentElement).appendChild(b)},va=function(a,b){var c=b&&b._c;if(c)for(var d=0;d<R.length;d++){var e=R[d][0],f=R[d][1];f&&Object.prototype.hasOwnProperty.call(c,e)&&f(c[e],a,b)}},xa=function(a,b,c){wa(function(){var d=b===F()?x(D,"_",y()):y();d=x(G(b),"_",d);a(d)},c)},za=function(a,b){var c=b||{};"function"==typeof b&&(c={},c.callback=b);va(a,c);b=a?a.split(":"):[];var d=c.h||sa(),e=x(E,"ah",y());if(e["::"]&&b.length){a=[];for(var f=null;f=b.shift();){var l=f.split(".");l=e[f]||e[l[1]&&"ns:"+l[0]||""]||d;var k=a.length&&a[a.length-1]||null,w=k;k&&k.hint==l||(w={hint:l,c:[]},a.push(w));w.c.push(f)}var z=a.length;if(1<z){var A=c.callback;A&&(c.callback=function(){0==--z&&A()})}for(;b=a.shift();)ya(b.c,c,b.hint)}else ya(b||[],c,d)},ya=function(a,b,c){a=da(a)||[];var d=b.callback,e=b.config,f=b.timeout,l=b.ontimeout,k=b.onerror,w=void 0;"function"==typeof k&&(w=k);var z=null,A=!1;if(f&&!l||!f&&l)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";k=x(G(c),"r",[]).sort();var P=x(G(c),"L",[]).sort(),I=[].concat(k),ea=function(u,B){if(A)return 0;q.clearTimeout(z);P.push.apply(P,p);var C=((D||{}).config||{}).update;C?C(e):e&&x(E,"cu",[]).push(e);if(B){N("me0",u,I);try{xa(B,c,w)}finally{N("me1",u,I)}}return 1};0<f&&(z=q.setTimeout(function(){A=!0;l()},f));var p=Y(a,P);if(p.length){p=Y(a,k);var r=x(E,"CP",[]),t=r.length;r[t]=function(u){if(!u)return 0;N("ml1",p,I);var B=function(J){r[t]=null;ea(p,u)&&fa(function(){d&&d();J()})},C=function(){var J=r[t+1];J&&J()};0<t&&r[t-1]?r[t]=function(){B(C)}:B(C)};if(p.length){var Q="loaded_"+E.I++;D[Q]=function(u){r[t](u);D[Q]=null};a=pa(c,p,"gapi."+Q,k);k.push.apply(k,p);N("ml0",p,I);b.sync||q.___gapisync?ua(a):ta(a)}else r[t](ba)}else ea(p)&&d&&d()};var wa=function(a,b){if(E.hee&&0<E.hel)try{return a()}catch(c){b&&b(c),E.hel--,za("debug_error",function(){try{window.___jsl.hefn(c)}catch(d){throw c}})}else try{return a()}catch(c){throw b&&b(c),c}};D.load=function(a,b){return wa(function(){return za(a,b)})};K.bs0=window.gapi._bs||(new Date).getTime();L("bs0");K.bs1=(new Date).getTime();L("bs1");delete window.gapi._bs}).call(this);gapi.load("",{callback:window["loadPicker"],_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:true,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:false},debug:{reportExceptionRate:.05,forceIm:false,rethrowException:false,host:"https://apis.google.com"},enableMultilogin:true,"googleapis.config":{auth:{useFirstPartyAuthV2:true}},isPlusUser:true,inline:{css:1},disableRealtimeCallback:false,drive_share:{skipInitCommand:true},csi:{rate:.01},client:{cors:false},isLoggedIn:true,signInDeprecation:{rate:0},include_granted_scopes:true,llang:"en",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},donation:{url:"https://onetoday.google.com/home/donationWidget?usegapi=1"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://gsuite.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en.Tj3v32nHwMw.O/am=wQ/rt=j/d=1/rs=AGLTcCPRPtKvCSR149WsMWD-Sk6efeR5TA/m=__features__",u:"https://apis.google.com/js/api.js?onload=loadPicker",hee:true,fp:"88b33dd56243ffbd67ca8e533edc4a5a79778cca",dpo:false},fp:"88b33dd56243ffbd67ca8e533edc4a5a79778cca",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});
var jsonpatch=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)}([function(module,exports){var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var _hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwnProperty(obj,key){return _hasOwnProperty.call(obj,key)}exports.hasOwnProperty=hasOwnProperty;function _objectKeys(obj){if(Array.isArray(obj)){var keys=new Array(obj.length);for(var k=0;k<keys.length;k++){keys[k]=""+k}return keys}if(Object.keys){return Object.keys(obj)}var keys=[];for(var i in obj){if(hasOwnProperty(obj,i)){keys.push(i)}}return keys}exports._objectKeys=_objectKeys;function _deepClone(obj){switch(typeof obj){case"object":return JSON.parse(JSON.stringify(obj));case"undefined":return null;default:return obj}}exports._deepClone=_deepClone;function isInteger(str){var i=0;var len=str.length;var charCode;while(i<len){charCode=str.charCodeAt(i);if(charCode>=48&&charCode<=57){i++;continue}return false}return true}exports.isInteger=isInteger;function escapePathComponent(path){if(path.indexOf("/")===-1&&path.indexOf("~")===-1)return path;return path.replace(/~/g,"~0").replace(/\//g,"~1")}exports.escapePathComponent=escapePathComponent;function unescapePathComponent(path){return path.replace(/~1/g,"/").replace(/~0/g,"~")}exports.unescapePathComponent=unescapePathComponent;function _getPathRecursive(root,obj){var found;for(var key in root){if(hasOwnProperty(root,key)){if(root[key]===obj){return escapePathComponent(key)+"/"}else if(typeof root[key]==="object"){found=_getPathRecursive(root[key],obj);if(found!=""){return escapePathComponent(key)+"/"+found}}}}return""}exports._getPathRecursive=_getPathRecursive;function getPath(root,obj){if(root===obj){return"/"}var path=_getPathRecursive(root,obj);if(path===""){throw new Error("Object not found in root")}return"/"+path}exports.getPath=getPath;function hasUndefined(obj){if(obj===undefined){return true}if(obj){if(Array.isArray(obj)){for(var i=0,len=obj.length;i<len;i++){if(hasUndefined(obj[i])){return true}}}else if(typeof obj==="object"){var objKeys=_objectKeys(obj);var objKeysLength=objKeys.length;for(var i=0;i<objKeysLength;i++){if(hasUndefined(obj[objKeys[i]])){return true}}}}return false}exports.hasUndefined=hasUndefined;var PatchError=function(_super){__extends(PatchError,_super);function PatchError(message,name,index,operation,tree){_super.call(this,message);this.message=message;this.name=name;this.index=index;this.operation=operation;this.tree=tree}return PatchError}(Error);exports.PatchError=PatchError},function(module,exports,__webpack_require__){var equalsOptions={strict:true};var _equals=__webpack_require__(2);var areEquals=function(a,b){return _equals(a,b,equalsOptions)};var helpers_1=__webpack_require__(0);exports.JsonPatchError=helpers_1.PatchError;exports.deepClone=helpers_1._deepClone;var objOps={add:function(obj,key,document){obj[key]=this.value;return{newDocument:document}},remove:function(obj,key,document){var removed=obj[key];delete obj[key];return{newDocument:document,removed:removed}},replace:function(obj,key,document){var removed=obj[key];obj[key]=this.value;return{newDocument:document,removed:removed}},move:function(obj,key,document){var removed=getValueByPointer(document,this.path);if(removed){removed=helpers_1._deepClone(removed)}var originalValue=applyOperation(document,{op:"remove",path:this.from}).removed;applyOperation(document,{op:"add",path:this.path,value:originalValue});return{newDocument:document,removed:removed}},copy:function(obj,key,document){var valueToCopy=getValueByPointer(document,this.from);applyOperation(document,{op:"add",path:this.path,value:helpers_1._deepClone(valueToCopy)});return{newDocument:document}},test:function(obj,key,document){return{newDocument:document,test:areEquals(obj[key],this.value)}},_get:function(obj,key,document){this.value=obj[key];return{newDocument:document}}};var arrOps={add:function(arr,i,document){if(helpers_1.isInteger(i)){arr.splice(i,0,this.value)}else{arr[i]=this.value}return{newDocument:document,index:i}},remove:function(arr,i,document){var removedList=arr.splice(i,1);return{newDocument:document,removed:removedList[0]}},replace:function(arr,i,document){var removed=arr[i];arr[i]=this.value;return{newDocument:document,removed:removed}},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get};function getValueByPointer(document,pointer){if(pointer==""){return document}var getOriginalDestination={op:"_get",path:pointer};applyOperation(document,getOriginalDestination);return getOriginalDestination.value}exports.getValueByPointer=getValueByPointer;function applyOperation(document,operation,validateOperation,mutateDocument){if(validateOperation===void 0){validateOperation=false}if(mutateDocument===void 0){mutateDocument=true}if(validateOperation){if(typeof validateOperation=="function"){validateOperation(operation,0,document,operation.path)}else{validator(operation,0)}}if(operation.path===""){var returnValue={newDocument:document};if(operation.op==="add"){returnValue.newDocument=operation.value;return returnValue}else if(operation.op==="replace"){returnValue.newDocument=operation.value;returnValue.removed=document;return returnValue}else if(operation.op==="move"||operation.op==="copy"){returnValue.newDocument=getValueByPointer(document,operation.from);if(operation.op==="move"){returnValue.removed=document}return returnValue}else if(operation.op==="test"){returnValue.test=areEquals(document,operation.value);if(returnValue.test===false){throw new exports.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,operation,document)}returnValue.newDocument=document;return returnValue}else if(operation.op==="remove"){returnValue.removed=document;returnValue.newDocument=null;return returnValue}else if(operation.op==="_get"){operation.value=document;return returnValue}else{if(validateOperation){throw new exports.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",0,operation,document)}else{return returnValue}}}else{if(!mutateDocument){document=helpers_1._deepClone(document)}var path=operation.path||"";var keys=path.split("/");var obj=document;var t=1;var len=keys.length;var existingPathFragment=undefined;var key=void 0;var validateFunction=void 0;if(typeof validateOperation=="function"){validateFunction=validateOperation}else{validateFunction=validator}while(true){key=keys[t];if(validateOperation){if(existingPathFragment===undefined){if(obj[key]===undefined){existingPathFragment=keys.slice(0,t).join("/")}else if(t==len-1){existingPathFragment=operation.path}if(existingPathFragment!==undefined){validateFunction(operation,0,document,existingPathFragment)}}}t++;if(Array.isArray(obj)){if(key==="-"){key=obj.length}else{if(validateOperation&&!helpers_1.isInteger(key)){throw new exports.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",0,operation.path,operation)}else if(helpers_1.isInteger(key)){key=~~key}}if(t>=len){if(validateOperation&&operation.op==="add"&&key>obj.length){throw new exports.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",0,operation.path,operation)}var returnValue=arrOps[operation.op].call(operation,obj,key,document);if(returnValue.test===false){throw new exports.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,operation,document)}return returnValue}}else{if(key&&key.indexOf("~")!=-1){key=helpers_1.unescapePathComponent(key)}if(t>=len){var returnValue=objOps[operation.op].call(operation,obj,key,document);if(returnValue.test===false){throw new exports.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,operation,document)}return returnValue}}obj=obj[key]}}}exports.applyOperation=applyOperation;function applyPatch(document,patch,validateOperation,mutateDocument){if(mutateDocument===void 0){mutateDocument=true}if(validateOperation){if(!Array.isArray(patch)){throw new exports.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY")}}if(!mutateDocument){document=helpers_1._deepClone(document)}var results=new Array(patch.length);for(var i=0,length_1=patch.length;i<length_1;i++){results[i]=applyOperation(document,patch[i],validateOperation);document=results[i].newDocument}results.newDocument=document;return results}exports.applyPatch=applyPatch;function applyReducer(document,operation){var operationResult=applyOperation(document,operation);if(operationResult.test===false){throw new exports.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,operation,document)}return operationResult.newDocument}exports.applyReducer=applyReducer;function validator(operation,index,document,existingPathFragment){if(typeof operation!=="object"||operation===null||Array.isArray(operation)){throw new exports.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",index,operation,document)}else if(!objOps[operation.op]){throw new exports.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",index,operation,document)}else if(typeof operation.path!=="string"){throw new exports.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",index,operation,document)}else if(operation.path.indexOf("/")!==0&&operation.path.length>0){throw new exports.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",index,operation,document)}else if((operation.op==="move"||operation.op==="copy")&&typeof operation.from!=="string"){throw new exports.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",index,operation,document)}else if((operation.op==="add"||operation.op==="replace"||operation.op==="test")&&operation.value===undefined){throw new exports.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",index,operation,document)}else if((operation.op==="add"||operation.op==="replace"||operation.op==="test")&&helpers_1.hasUndefined(operation.value)){throw new exports.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",index,operation,document)}else if(document){if(operation.op=="add"){var pathLen=operation.path.split("/").length;var existingPathLen=existingPathFragment.split("/").length;if(pathLen!==existingPathLen+1&&pathLen!==existingPathLen){throw new exports.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",index,operation,document)}}else if(operation.op==="replace"||operation.op==="remove"||operation.op==="_get"){if(operation.path!==existingPathFragment){throw new exports.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",index,operation,document)}}else if(operation.op==="move"||operation.op==="copy"){var existingValue={op:"_get",path:operation.from,value:undefined};var error=validate([existingValue],document);if(error&&error.name==="OPERATION_PATH_UNRESOLVABLE"){throw new exports.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",index,operation,document)}}}}exports.validator=validator;function validate(sequence,document,externalValidator){try{if(!Array.isArray(sequence)){throw new exports.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY")}if(document){applyPatch(helpers_1._deepClone(document),helpers_1._deepClone(sequence),externalValidator||true)}else{externalValidator=externalValidator||validator;for(var i=0;i<sequence.length;i++){externalValidator(sequence[i],i,document,undefined)}}}catch(e){if(e instanceof exports.JsonPatchError){return e}else{throw e}}}exports.validate=validate},function(module,exports,__webpack_require__){var pSlice=Array.prototype.slice;var objectKeys=__webpack_require__(5);var isArguments=__webpack_require__(4);var deepEqual=module.exports=function(actual,expected,opts){if(!opts)opts={};if(actual===expected){return true}else if(actual instanceof Date&&expected instanceof Date){return actual.getTime()===expected.getTime()}else if(!actual||!expected||typeof actual!="object"&&typeof expected!="object"){return opts.strict?actual===expected:actual==expected}else{return objEquiv(actual,expected,opts)}};function isUndefinedOrNull(value){return value===null||value===undefined}function isBuffer(x){if(!x||typeof x!=="object"||typeof x.length!=="number")return false;if(typeof x.copy!=="function"||typeof x.slice!=="function"){return false}if(x.length>0&&typeof x[0]!=="number")return false;return true}function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false}a=pSlice.call(a);b=pSlice.call(b);return deepEqual(a,b,opts)}if(isBuffer(a)){if(!isBuffer(b)){return false}if(a.length!==b.length)return false;for(i=0;i<a.length;i++){if(a[i]!==b[i])return false}return true}try{var ka=objectKeys(a),kb=objectKeys(b)}catch(e){return false}if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!deepEqual(a[key],b[key],opts))return false}return typeof a===typeof b}},function(module,exports,__webpack_require__){var equalsOptions={strict:true};var _equals=__webpack_require__(2);var areEquals=function(a,b){return _equals(a,b,equalsOptions)};var helpers_1=__webpack_require__(0);var core_1=__webpack_require__(1);var core_2=__webpack_require__(1);exports.applyOperation=core_2.applyOperation;exports.applyPatch=core_2.applyPatch;exports.applyReducer=core_2.applyReducer;exports.getValueByPointer=core_2.getValueByPointer;exports.validate=core_2.validate;exports.validator=core_2.validator;var helpers_2=__webpack_require__(0);exports.JsonPatchError=helpers_2.PatchError;exports.deepClone=helpers_2._deepClone;exports.escapePathComponent=helpers_2.escapePathComponent;exports.unescapePathComponent=helpers_2.unescapePathComponent;var beforeDict=new WeakMap;var Mirror=function(){function Mirror(obj){this.observers=new Map;this.obj=obj}return Mirror}();var ObserverInfo=function(){function ObserverInfo(callback,observer){this.callback=callback;this.observer=observer}return ObserverInfo}();function getMirror(obj){return beforeDict.get(obj)}function getObserverFromMirror(mirror,callback){return mirror.observers.get(callback)}function removeObserverFromMirror(mirror,observer){mirror.observers.delete(observer.callback)}function unobserve(root,observer){observer.unobserve()}exports.unobserve=unobserve;function observe(obj,callback){var patches=[];var observer;var mirror=getMirror(obj);if(!mirror){mirror=new Mirror(obj);beforeDict.set(obj,mirror)}else{var observerInfo=getObserverFromMirror(mirror,callback);observer=observerInfo&&observerInfo.observer}if(observer){return observer}observer={};mirror.value=helpers_1._deepClone(obj);if(callback){observer.callback=callback;observer.next=null;var dirtyCheck=function(){generate(observer)};var fastCheck=function(){clearTimeout(observer.next);observer.next=setTimeout(dirtyCheck)};if(typeof window!=="undefined"){if(window.addEventListener){window.addEventListener("mouseup",fastCheck);window.addEventListener("keyup",fastCheck);window.addEventListener("mousedown",fastCheck);window.addEventListener("keydown",fastCheck);window.addEventListener("change",fastCheck)}else{document.documentElement.attachEvent("onmouseup",fastCheck);document.documentElement.attachEvent("onkeyup",fastCheck);document.documentElement.attachEvent("onmousedown",fastCheck);document.documentElement.attachEvent("onkeydown",fastCheck);document.documentElement.attachEvent("onchange",fastCheck)}}}observer.patches=patches;observer.object=obj;observer.unobserve=function(){generate(observer);clearTimeout(observer.next);removeObserverFromMirror(mirror,observer);if(typeof window!=="undefined"){if(window.removeEventListener){window.removeEventListener("mouseup",fastCheck);window.removeEventListener("keyup",fastCheck);window.removeEventListener("mousedown",fastCheck);window.removeEventListener("keydown",fastCheck)}else{document.documentElement.detachEvent("onmouseup",fastCheck);document.documentElement.detachEvent("onkeyup",fastCheck);document.documentElement.detachEvent("onmousedown",fastCheck);document.documentElement.detachEvent("onkeydown",fastCheck)}}};mirror.observers.set(callback,new ObserverInfo(callback,observer));return observer}exports.observe=observe;function generate(observer){var mirror=beforeDict.get(observer.object);_generate(mirror.value,observer.object,observer.patches,"");if(observer.patches.length){core_1.applyPatch(mirror.value,observer.patches)}var temp=observer.patches;if(temp.length>0){observer.patches=[];if(observer.callback){observer.callback(temp)}}return temp}exports.generate=generate;function _generate(mirror,obj,patches,path){if(obj===mirror){return}if(typeof obj.toJSON==="function"){obj=obj.toJSON()}var newKeys=helpers_1._objectKeys(obj);var oldKeys=helpers_1._objectKeys(mirror);var changed=false;var deleted=false;for(var t=oldKeys.length-1;t>=0;t--){var key=oldKeys[t];var oldVal=mirror[key];if(helpers_1.hasOwnProperty(obj,key)&&!(obj[key]===undefined&&oldVal!==undefined&&Array.isArray(obj)===false)){var newVal=obj[key];if(typeof oldVal=="object"&&oldVal!=null&&typeof newVal=="object"&&newVal!=null){_generate(oldVal,newVal,patches,path+"/"+helpers_1.escapePathComponent(key))}else{if(oldVal!==newVal){changed=true;patches.push({op:"replace",path:path+"/"+helpers_1.escapePathComponent(key),value:helpers_1._deepClone(newVal)})}}}else{patches.push({op:"remove",path:path+"/"+helpers_1.escapePathComponent(key)});deleted=true}}if(!deleted&&newKeys.length==oldKeys.length){return}for(var t=0;t<newKeys.length;t++){var key=newKeys[t];if(!helpers_1.hasOwnProperty(mirror,key)&&obj[key]!==undefined){patches.push({op:"add",path:path+"/"+helpers_1.escapePathComponent(key),value:helpers_1._deepClone(obj[key])})}}}function compare(tree1,tree2){var patches=[];_generate(tree1,tree2,patches,"");return patches}exports.compare=compare},function(module,exports){var supportsArgumentsClass=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";exports=module.exports=supportsArgumentsClass?supported:unsupported;exports.supported=supported;function supported(object){return Object.prototype.toString.call(object)=="[object Arguments]"}exports.unsupported=unsupported;function unsupported(object){return object&&typeof object=="object"&&typeof object.length=="number"&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||false}},function(module,exports){exports=module.exports=typeof Object.keys==="function"?Object.keys:shim;exports.shim=shim;function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}}]);
(function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]);angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]);angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function($httpProvider){var interceptor=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function($q,$cacheFactory,$timeout,$rootScope,$log,cfpLoadingBar){var reqsTotal=0;var reqsCompleted=0;var latencyThreshold=cfpLoadingBar.latencyThreshold;var startTimeout;function setComplete(){$timeout.cancel(startTimeout);cfpLoadingBar.complete();reqsCompleted=0;reqsTotal=0}function isCached(config){var cache;var defaultCache=$cacheFactory.get("$http");var defaults=$httpProvider.defaults;if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==="GET"||config.method==="JSONP")){cache=angular.isObject(config.cache)?config.cache:angular.isObject(defaults.cache)?defaults.cache:defaultCache}var cached=cache!==undefined?cache.get(config.url)!==undefined:false;if(config.cached!==undefined&&cached!==config.cached){return config.cached}config.cached=cached;return cached}return{request:function(config){if(!config.ignoreLoadingBar&&!isCached(config)){$rootScope.$broadcast("cfpLoadingBar:loading",{url:config.url});if(reqsTotal===0){startTimeout=$timeout(function(){cfpLoadingBar.start()},latencyThreshold)}reqsTotal++;cfpLoadingBar.set(reqsCompleted/reqsTotal)}return config},response:function(response){if(!response||!response.config){$log.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");return response}if(!response.config.ignoreLoadingBar&&!isCached(response.config)){reqsCompleted++;$rootScope.$broadcast("cfpLoadingBar:loaded",{url:response.config.url,result:response});if(reqsCompleted>=reqsTotal){setComplete()}else{cfpLoadingBar.set(reqsCompleted/reqsTotal)}}return response},responseError:function(rejection){if(!rejection||!rejection.config){$log.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50");return $q.reject(rejection)}if(!rejection.config.ignoreLoadingBar&&!isCached(rejection.config)){reqsCompleted++;$rootScope.$broadcast("cfpLoadingBar:loaded",{url:rejection.config.url,result:rejection});if(reqsCompleted>=reqsTotal){setComplete()}else{cfpLoadingBar.set(reqsCompleted/reqsTotal)}}return $q.reject(rejection)}}}];$httpProvider.interceptors.push(interceptor)}]);angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=true;this.includeSpinner=true;this.includeBar=true;this.latencyThreshold=100;this.startSize=.02;this.parentSelector="body";this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>';this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>';this.$get=["$injector","$document","$timeout","$rootScope",function($injector,$document,$timeout,$rootScope){var $animate;var $parentSelector=this.parentSelector,loadingBarContainer=angular.element(this.loadingBarTemplate),loadingBar=loadingBarContainer.find("div").eq(0),spinner=angular.element(this.spinnerTemplate);var incTimeout,completeTimeout,started=false,status=0;var autoIncrement=this.autoIncrement;var includeSpinner=this.includeSpinner;var includeBar=this.includeBar;var startSize=this.startSize;function _start(){if(!$animate){$animate=$injector.get("$animate")}$timeout.cancel(completeTimeout);if(started){return}var document=$document[0];var parent=document.querySelector?document.querySelector($parentSelector):$document.find($parentSelector)[0];if(!parent){parent=document.getElementsByTagName("body")[0]}var $parent=angular.element(parent);var $after=parent.lastChild&&angular.element(parent.lastChild);$rootScope.$broadcast("cfpLoadingBar:started");started=true;if(includeBar){$animate.enter(loadingBarContainer,$parent,$after)}if(includeSpinner){$animate.enter(spinner,$parent,loadingBarContainer)}_set(startSize)}function _set(n){if(!started){return}var pct=n*100+"%";loadingBar.css("width",pct);status=n;if(autoIncrement){$timeout.cancel(incTimeout);incTimeout=$timeout(function(){_inc()},250)}}function _inc(){if(_status()>=1){return}var rnd=0;var stat=_status();if(stat>=0&&stat<.25){rnd=(Math.random()*(5-3+1)+3)/100}else if(stat>=.25&&stat<.65){rnd=Math.random()*3/100}else if(stat>=.65&&stat<.9){rnd=Math.random()*2/100}else if(stat>=.9&&stat<.99){rnd=.005}else{rnd=0}var pct=_status()+rnd;_set(pct)}function _status(){return status}function _completeAnimation(){status=0;started=false}function _complete(){if(!$animate){$animate=$injector.get("$animate")}$rootScope.$broadcast("cfpLoadingBar:completed");_set(1);$timeout.cancel(completeTimeout);completeTimeout=$timeout(function(){var promise=$animate.leave(loadingBarContainer,_completeAnimation);if(promise&&promise.then){promise.then(_completeAnimation)}$animate.leave(spinner)},500)}return{start:_start,set:_set,status:_status,inc:_inc,complete:_complete,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})})();
(function(){var undefined;var VERSION="4.17.4";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="[']",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",rsOrdUpper="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;
while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);
if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor((+object));case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push("")}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders];
}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(args){args.push(undefined,customDefaultsAssignIn);return apply(assignInWith,undefined,args)});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){
var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(this);
(function(root,factory){if(typeof module!=="undefined"&&module.exports){if(typeof angular==="undefined"){factory(require("angular"))}else{factory(angular)}module.exports="ngDialog"}else if(typeof define==="function"&&define.amd){define(["angular"],factory)}else{factory(root.angular)}})(this,function(angular){"use strict";var m=angular.module("ngDialog",[]);var $el=angular.element;var isDef=angular.isDefined;var style=(document.body||document.documentElement).style;var animationEndSupport=isDef(style.animation)||isDef(style.WebkitAnimation)||isDef(style.MozAnimation)||isDef(style.MsAnimation)||isDef(style.OAnimation);var animationEndEvent="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend";var focusableElementSelector="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";var disabledAnimationClass="ngdialog-disabled-animation";var forceElementsReload={html:false,body:false};var scopes={};var openIdStack=[];var keydownIsBound=false;var openOnePerName=false;m.provider("ngDialog",function(){var defaults=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:false,plain:false,showClose:true,closeByDocument:true,closeByEscape:true,closeByNavigation:false,appendTo:false,preCloseCallback:false,overlay:true,cache:true,trapFocus:true,preserveFocus:true,ariaAuto:true,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(_useIt){forceElementsReload.html=_useIt||false};this.setForceBodyReload=function(_useIt){forceElementsReload.body=_useIt||false};this.setDefaults=function(newDefaults){angular.extend(defaults,newDefaults)};this.setOpenOnePerName=function(isOpenOne){openOnePerName=isOpenOne||false};var globalID=0,dialogsCount=0,closeByDocumentHandler,defers={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function($document,$templateCache,$compile,$q,$http,$rootScope,$timeout,$window,$controller,$injector){var $elements=[];var privateMethods={onDocumentKeydown:function(event){if(event.keyCode===27){publicMethods.close("$escape")}},activate:function($dialog){var options=$dialog.data("$ngDialogOptions");if(options.trapFocus){$dialog.on("keydown",privateMethods.onTrapFocusKeydown);$elements.body.on("keydown",privateMethods.onTrapFocusKeydown)}},deactivate:function($dialog){$dialog.off("keydown",privateMethods.onTrapFocusKeydown);$elements.body.off("keydown",privateMethods.onTrapFocusKeydown)},deactivateAll:function(els){angular.forEach(els,function(el){var $dialog=angular.element(el);privateMethods.deactivate($dialog)})},setBodyPadding:function(width){var originalBodyPadding=parseInt($elements.body.css("padding-right")||0,10);$elements.body.css("padding-right",originalBodyPadding+width+"px");$elements.body.data("ng-dialog-original-padding",originalBodyPadding);$rootScope.$broadcast("ngDialog.setPadding",width)},resetBodyPadding:function(){var originalBodyPadding=$elements.body.data("ng-dialog-original-padding");if(originalBodyPadding){$elements.body.css("padding-right",originalBodyPadding+"px")}else{$elements.body.css("padding-right","")}$rootScope.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function($dialog,value){var options=$dialog.data("$ngDialogOptions");var id=$dialog.attr("id");var scope=scopes[id];if(!scope){return}if(typeof $window.Hammer!=="undefined"){var hammerTime=scope.hammerTime;hammerTime.off("tap",closeByDocumentHandler);hammerTime.destroy&&hammerTime.destroy();delete scope.hammerTime}else{$dialog.unbind("click")}if(dialogsCount===1){$elements.body.unbind("keydown",privateMethods.onDocumentKeydown)}if(!$dialog.hasClass("ngdialog-closing")){dialogsCount-=1}var previousFocus=$dialog.data("$ngDialogPreviousFocus");if(previousFocus&&previousFocus.focus){previousFocus.focus()}$rootScope.$broadcast("ngDialog.closing",$dialog,value);dialogsCount=dialogsCount<0?0:dialogsCount;if(animationEndSupport&&!options.disableAnimation){scope.$destroy();$dialog.unbind(animationEndEvent).bind(animationEndEvent,function(){privateMethods.closeDialogElement($dialog,value)}).addClass("ngdialog-closing")}else{scope.$destroy();privateMethods.closeDialogElement($dialog,value)}if(defers[id]){defers[id].resolve({id:id,value:value,$dialog:$dialog,remainingDialogs:dialogsCount});delete defers[id]}if(scopes[id]){delete scopes[id]}openIdStack.splice(openIdStack.indexOf(id),1);if(!openIdStack.length){$elements.body.unbind("keydown",privateMethods.onDocumentKeydown);keydownIsBound=false}},closeDialogElement:function($dialog,value){var options=$dialog.data("$ngDialogOptions");$dialog.remove();if(dialogsCount===0){$elements.html.removeClass(options.bodyClassName);$elements.body.removeClass(options.bodyClassName);privateMethods.resetBodyPadding()}$rootScope.$broadcast("ngDialog.closed",$dialog,value)},closeDialog:function($dialog,value){var preCloseCallback=$dialog.data("$ngDialogPreCloseCallback");if(preCloseCallback&&angular.isFunction(preCloseCallback)){var preCloseCallbackResult=preCloseCallback.call($dialog,value);if(angular.isObject(preCloseCallbackResult)){if(preCloseCallbackResult.closePromise){preCloseCallbackResult.closePromise.then(function(){privateMethods.performCloseDialog($dialog,value)},function(){return false})}else{preCloseCallbackResult.then(function(){privateMethods.performCloseDialog($dialog,value)},function(){return false})}}else if(preCloseCallbackResult!==false){privateMethods.performCloseDialog($dialog,value)}else{return false}}else{privateMethods.performCloseDialog($dialog,value)}},onTrapFocusKeydown:function(ev){var el=angular.element(ev.currentTarget);var $dialog;if(el.hasClass("ngdialog")){$dialog=el}else{$dialog=privateMethods.getActiveDialog();if($dialog===null){return}}var isTab=ev.keyCode===9;var backward=ev.shiftKey===true;if(isTab){privateMethods.handleTab($dialog,ev,backward)}},handleTab:function($dialog,ev,backward){var focusableElements=privateMethods.getFocusableElements($dialog);if(focusableElements.length===0){if(document.activeElement&&document.activeElement.blur){document.activeElement.blur()}return}var currentFocus=document.activeElement;var focusIndex=Array.prototype.indexOf.call(focusableElements,currentFocus);var isFocusIndexUnknown=focusIndex===-1;var isFirstElementFocused=focusIndex===0;var isLastElementFocused=focusIndex===focusableElements.length-1;var cancelEvent=false;if(backward){if(isFocusIndexUnknown||isFirstElementFocused){focusableElements[focusableElements.length-1].focus();cancelEvent=true}}else{if(isFocusIndexUnknown||isLastElementFocused){focusableElements[0].focus();cancelEvent=true}}if(cancelEvent){ev.preventDefault();ev.stopPropagation()}},autoFocus:function($dialog){var dialogEl=$dialog[0];var autoFocusEl=dialogEl.querySelector("*[autofocus]");if(autoFocusEl!==null){autoFocusEl.focus();if(document.activeElement===autoFocusEl){return}}var focusableElements=privateMethods.getFocusableElements($dialog);if(focusableElements.length>0){focusableElements[0].focus();return}var contentElements=privateMethods.filterVisibleElements(dialogEl.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(contentElements.length>0){var contentElement=contentElements[0];$el(contentElement).attr("tabindex","-1").css("outline","0");contentElement.focus()}},getFocusableElements:function($dialog){var dialogEl=$dialog[0];var rawElements=dialogEl.querySelectorAll(focusableElementSelector);var tabbableElements=privateMethods.filterTabbableElements(rawElements);return privateMethods.filterVisibleElements(tabbableElements)},filterTabbableElements:function(els){var tabbableFocusableElements=[];for(var i=0;i<els.length;i++){var el=els[i];if($el(el).attr("tabindex")!=="-1"){tabbableFocusableElements.push(el)}}return tabbableFocusableElements},filterVisibleElements:function(els){var visibleFocusableElements=[];for(var i=0;i<els.length;i++){var el=els[i];if(el.offsetWidth>0||el.offsetHeight>0){visibleFocusableElements.push(el)}}return visibleFocusableElements},getActiveDialog:function(){var dialogs=document.querySelectorAll(".ngdialog");if(dialogs.length===0){return null}return $el(dialogs[dialogs.length-1])},applyAriaAttributes:function($dialog,options){if(options.ariaAuto){if(!options.ariaRole){var detectedRole=privateMethods.getFocusableElements($dialog).length>0?"dialog":"alertdialog";options.ariaRole=detectedRole}if(!options.ariaLabelledBySelector){options.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"}if(!options.ariaDescribedBySelector){options.ariaDescribedBySelector="article,section,p"}}if(options.ariaRole){$dialog.attr("role",options.ariaRole)}privateMethods.applyAriaAttribute($dialog,"aria-labelledby",options.ariaLabelledById,options.ariaLabelledBySelector);privateMethods.applyAriaAttribute($dialog,"aria-describedby",options.ariaDescribedById,options.ariaDescribedBySelector)},applyAriaAttribute:function($dialog,attr,id,selector){if(id){$dialog.attr(attr,id)}if(selector){var dialogId=$dialog.attr("id");var firstMatch=$dialog[0].querySelector(selector);if(!firstMatch){return}var generatedId=dialogId+"-"+attr;$el(firstMatch).attr("id",generatedId);$dialog.attr(attr,generatedId);return generatedId}},detectUIRouter:function(){try{angular.module("ui.router");return true}catch(err){return false}},getRouterLocationEventName:function(){if(privateMethods.detectUIRouter()){return"$stateChangeStart"}return"$locationChangeStart"}};var publicMethods={__PRIVATE__:privateMethods,open:function(opts){var dialogID=null;opts=opts||{};if(openOnePerName&&opts.name){dialogID=opts.name.toLowerCase().replace(/\s/g,"-")+"-dialog";if(this.isOpen(dialogID)){return}}var options=angular.copy(defaults);var localID=++globalID;dialogID=dialogID||"ngdialog"+localID;openIdStack.push(dialogID);if(typeof options.data!=="undefined"){if(typeof opts.data==="undefined"){opts.data={}}opts.data=angular.merge(angular.copy(options.data),opts.data)}angular.extend(options,opts);var defer;defers[dialogID]=defer=$q.defer();var scope;scopes[dialogID]=scope=angular.isObject(options.scope)?options.scope.$new():$rootScope.$new();var $dialog,$dialogParent,$dialogContent;var resolve=angular.extend({},options.resolve);angular.forEach(resolve,function(value,key){resolve[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)});$q.all({template:loadTemplate(options.template||options.templateUrl),locals:$q.all(resolve)}).then(function(setup){var template=setup.template,locals=setup.locals;if(options.showClose){template+='<div class="ngdialog-close"></div>'}var hasOverlayClass=options.overlay?"":" ngdialog-no-overlay";$dialog=$el('<div id="'+dialogID+'" class="ngdialog'+hasOverlayClass+'"></div>');$dialog.html(options.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+template+"</div>":'<div class="ngdialog-content" role="document">'+template+"</div>");$dialog.data("$ngDialogOptions",options);scope.ngDialogId=dialogID;if(options.data&&angular.isString(options.data)){var firstLetter=options.data.replace(/^\s*/,"")[0];scope.ngDialogData=firstLetter==="{"||firstLetter==="["?angular.fromJson(options.data):new String(options.data);scope.ngDialogData.ngDialogId=dialogID}else if(options.data&&angular.isObject(options.data)){scope.ngDialogData=options.data;scope.ngDialogData.ngDialogId=dialogID}if(options.className){$dialog.addClass(options.className)}if(options.appendClassName){$dialog.addClass(options.appendClassName)}if(options.width){$dialogContent=$dialog[0].querySelector(".ngdialog-content");if(angular.isString(options.width)){$dialogContent.style.width=options.width}else{$dialogContent.style.width=options.width+"px"}}if(options.height){$dialogContent=$dialog[0].querySelector(".ngdialog-content");if(angular.isString(options.height)){$dialogContent.style.height=options.height}else{$dialogContent.style.height=options.height+"px"}}if(options.disableAnimation){$dialog.addClass(disabledAnimationClass)}if(options.appendTo&&angular.isString(options.appendTo)){$dialogParent=angular.element(document.querySelector(options.appendTo))}else{$dialogParent=$elements.body}privateMethods.applyAriaAttributes($dialog,options);if(options.preCloseCallback){var preCloseCallback;if(angular.isFunction(options.preCloseCallback)){preCloseCallback=options.preCloseCallback}else if(angular.isString(options.preCloseCallback)){if(scope){if(angular.isFunction(scope[options.preCloseCallback])){preCloseCallback=scope[options.preCloseCallback]}else if(scope.$parent&&angular.isFunction(scope.$parent[options.preCloseCallback])){preCloseCallback=scope.$parent[options.preCloseCallback]}else if($rootScope&&angular.isFunction($rootScope[options.preCloseCallback])){preCloseCallback=$rootScope[options.preCloseCallback]}}}if(preCloseCallback){$dialog.data("$ngDialogPreCloseCallback",preCloseCallback)}}scope.closeThisDialog=function(value){privateMethods.closeDialog($dialog,value)};if(options.controller&&(angular.isString(options.controller)||angular.isArray(options.controller)||angular.isFunction(options.controller))){var label;if(options.controllerAs&&angular.isString(options.controllerAs)){label=options.controllerAs}var controllerInstance=$controller(options.controller,angular.extend(locals,{$scope:scope,$element:$dialog}),true,label);if(options.bindToController){angular.extend(controllerInstance.instance,{ngDialogId:scope.ngDialogId,ngDialogData:scope.ngDialogData,closeThisDialog:scope.closeThisDialog,confirm:scope.confirm})}if(typeof controllerInstance==="function"){$dialog.data("$ngDialogControllerController",controllerInstance())}else{$dialog.data("$ngDialogControllerController",controllerInstance)}}$timeout(function(){var $activeDialogs=document.querySelectorAll(".ngdialog");privateMethods.deactivateAll($activeDialogs);$compile($dialog)(scope);var widthDiffs=$window.innerWidth-$elements.body.prop("clientWidth");$elements.html.addClass(options.bodyClassName);$elements.body.addClass(options.bodyClassName);var scrollBarWidth=widthDiffs-($window.innerWidth-$elements.body.prop("clientWidth"));if(scrollBarWidth>0){privateMethods.setBodyPadding(scrollBarWidth)}$dialogParent.append($dialog);privateMethods.activate($dialog);if(options.trapFocus){privateMethods.autoFocus($dialog)}if(options.name){$rootScope.$broadcast("ngDialog.opened",{dialog:$dialog,name:options.name})}else{$rootScope.$broadcast("ngDialog.opened",$dialog)}});if(!keydownIsBound){$elements.body.bind("keydown",privateMethods.onDocumentKeydown);keydownIsBound=true}if(options.closeByNavigation){var eventName=privateMethods.getRouterLocationEventName();$rootScope.$on(eventName,function($event){if(privateMethods.closeDialog($dialog,"$navigation")===false)$event.preventDefault()})}if(options.preserveFocus){$dialog.data("$ngDialogPreviousFocus",document.activeElement)}closeByDocumentHandler=function(event){var isOverlay=options.closeByDocument?$el(event.target).hasClass("ngdialog-overlay"):false;var isCloseBtn=$el(event.target).hasClass("ngdialog-close");if(isOverlay||isCloseBtn){publicMethods.close($dialog.attr("id"),isCloseBtn?"$closeButton":"$document")}};if(typeof $window.Hammer!=="undefined"){var hammerTime=scope.hammerTime=$window.Hammer($dialog[0]);hammerTime.on("tap",closeByDocumentHandler)}else{$dialog.bind("click",closeByDocumentHandler)}dialogsCount+=1;return publicMethods});return{id:dialogID,closePromise:defer.promise,close:function(value){privateMethods.closeDialog($dialog,value)}};function loadTemplateUrl(tmpl,config){var config=config||{};config.headers=config.headers||{};angular.extend(config.headers,{Accept:"text/html"});$rootScope.$broadcast("ngDialog.templateLoading",tmpl);return $http.get(tmpl,config).then(function(res){$rootScope.$broadcast("ngDialog.templateLoaded",tmpl);return res.data||""})}function loadTemplate(tmpl){if(!tmpl){return"Empty template"}if(angular.isString(tmpl)&&options.plain){return tmpl}if(typeof options.cache==="boolean"&&!options.cache){return loadTemplateUrl(tmpl,{cache:false})}return loadTemplateUrl(tmpl,{cache:$templateCache})}},openConfirm:function(opts){var defer=$q.defer();var options=angular.copy(defaults);opts=opts||{};if(typeof options.data!=="undefined"){if(typeof opts.data==="undefined"){opts.data={}}opts.data=angular.merge(angular.copy(options.data),opts.data)}angular.extend(options,opts);options.scope=angular.isObject(options.scope)?options.scope.$new():$rootScope.$new();options.scope.confirm=function(value){defer.resolve(value);var $dialog=$el(document.getElementById(openResult.id));privateMethods.performCloseDialog($dialog,value)};var openResult=publicMethods.open(options);if(openResult){openResult.closePromise.then(function(data){if(data){return defer.reject(data.value)}return defer.reject()});return defer.promise}},isOpen:function(id){var $dialog=$el(document.getElementById(id));return $dialog.length>0},close:function(id,value){var $dialog=$el(document.getElementById(id));if($dialog.length){privateMethods.closeDialog($dialog,value)}else{if(id==="$escape"){var topDialogId=openIdStack[openIdStack.length-1];$dialog=$el(document.getElementById(topDialogId));if($dialog.data("$ngDialogOptions")&&$dialog.data("$ngDialogOptions").closeByEscape){privateMethods.closeDialog($dialog,"$escape")}}else{publicMethods.closeAll(value)}}return publicMethods},closeAll:function(value){var $all=document.querySelectorAll(".ngdialog");for(var i=$all.length-1;i>=0;i--){var dialog=$all[i];privateMethods.closeDialog($el(dialog),value)}},getOpenDialogs:function(){return openIdStack},getDefaults:function(){return defaults}};angular.forEach(["html","body"],function(elementName){$elements[elementName]=$document.find(elementName);if(forceElementsReload[elementName]){var eventName=privateMethods.getRouterLocationEventName();$rootScope.$on(eventName,function(){$elements[elementName]=$document.find(elementName)})}});return publicMethods}]});m.directive("ngDialog",["ngDialog",function(ngDialog){return{restrict:"A",scope:{ngDialogScope:"="},link:function(scope,elem,attrs){elem.on("click",function(e){e.preventDefault();var ngDialogScope=angular.isDefined(scope.ngDialogScope)?scope.ngDialogScope:"noScope";angular.isDefined(attrs.ngDialogClosePrevious)&&ngDialog.close(attrs.ngDialogClosePrevious);var defaults=ngDialog.getDefaults();ngDialog.open({template:attrs.ngDialog,className:attrs.ngDialogClass||defaults.className,appendClassName:attrs.ngDialogAppendClass,controller:attrs.ngDialogController,controllerAs:attrs.ngDialogControllerAs,bindToController:attrs.ngDialogBindToController,disableAnimation:attrs.ngDialogDisableAnimation,scope:ngDialogScope,data:attrs.ngDialogData,showClose:attrs.ngDialogShowClose==="false"?false:attrs.ngDialogShowClose==="true"?true:defaults.showClose,closeByDocument:attrs.ngDialogCloseByDocument==="false"?false:attrs.ngDialogCloseByDocument==="true"?true:defaults.closeByDocument,closeByEscape:attrs.ngDialogCloseByEscape==="false"?false:attrs.ngDialogCloseByEscape==="true"?true:defaults.closeByEscape,overlay:attrs.ngDialogOverlay==="false"?false:attrs.ngDialogOverlay==="true"?true:defaults.overlay,preCloseCallback:attrs.ngDialogPreCloseCallback||defaults.preCloseCallback,bodyClassName:attrs.ngDialogBodyClass||defaults.bodyClassName})})}}}]);return m});
var app=angular.module("typeahead",[]);app.directive("typeahead",["$timeout",function($timeout){return{restrict:"E",transclude:true,replace:true,template:'<div><div ng-class="{hidden: !label}" class="ac-label">{{label}}</div><div class="ac-input"><input ng-model="term" ng-change="query()" ng-model-options="{debounce:250}" type="text" autocomplete="off" placeholder="{{placeholder}}" focus-if autofocus/></div><div ng-transclude></div></div>',scope:{search:"&",select:"&",items:"=",term:"=",placeholder:"@",label:"@"},controller:["$scope","$http",function($scope,$http){$scope.items=[];$scope.hide=false;this.itemsNoClose=[];this.activate=function(item){$scope.active=item};this.activateNextItem=function(){var index=$scope.items.indexOf($scope.active);this.activate($scope.items[(index+1)%$scope.items.length])};this.activatePreviousItem=function(){var index=$scope.items.indexOf($scope.active);this.activate($scope.items[index===0?$scope.items.length-1:index-1])};this.isActive=function(item){return $scope.active===item};this.selectActive=function(){this.select($scope.active)};this.select=function(item){if(this.itemsNoClose.indexOf(item)<0){$scope.hide=true;$scope.focused=true;$scope.term=null;$scope.items=[]}$scope.select({item:item})};$scope.isVisible=function(){return!$scope.hide&&($scope.focused||$scope.mousedOver)};var self=this;$scope.query=function(){$scope.hide=false;self.itemsNoClose=[];$scope.search({term:$scope.term})}}],link:function(scope,element,attrs,controller){var $input=element.find("input");var $list=angular.element(element[0].querySelectorAll("[ng-transclude]"));$input.bind("focus",function(){scope.$apply(function(){scope.focused=true})});$input.bind("blur",function(){scope.$apply(function(){scope.focused=false})});$list.bind("mouseover",function(){scope.$apply(function(){scope.mousedOver=true})});$list.bind("mouseleave",function(){scope.$apply(function(){scope.mousedOver=false})});$input.bind("keyup",function(e){if(e.keyCode===13){scope.$apply(function(){controller.selectActive()})}if(e.keyCode===27){scope.$apply(function(){scope.hide=true;scope.term=null})}});$input.bind("keydown",function(e){if(e.keyCode===13){e.preventDefault()}if(e.keyCode===40||e.keyCode===9){e.preventDefault();scope.$apply(function(){controller.activateNextItem()})}if(e.keyCode===38){e.preventDefault();scope.$apply(function(){controller.activatePreviousItem()})}});scope.$watch("items",function(items){controller.activate(items.length?items[0]:null)});scope.$watch("focused",function(focused){if(focused){$timeout(function(){$input[0].focus()},0,false)}})}}}]);app.directive("typeaheadItem",function(){return{require:"^typeahead",link:function(scope,element,attrs,controller){var item=scope.$eval(attrs.typeaheadItem);if(attrs.typeaheadItemNoClose&&scope.$eval(attrs.typeaheadItemNoClose)){controller.itemsNoClose.push(item)}scope.$watch(function(){return controller.isActive(item)},function(active){if(active){element.addClass("active")}else{element.removeClass("active")}});element.bind("mouseenter",function(e){scope.$apply(function(){controller.activate(item)})});element.bind("click",function(e){scope.$apply(function(){controller.select(item)})});scope.$on("$destroy",function(){controller.itemsNoClose.splice(controller.itemsNoClose.indexOf(item),1)})}}});
(function(name,definition){if(typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=definition()}else if(typeof define==="function"&&typeof define.amd==="object"){define(definition)}else{this[name]=definition()}})("validator",function(validator){"use strict";validator={version:"3.22.1"};var email=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;var creditCard=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;var isbn10Maybe=/^(?:[0-9]{9}X|[0-9]{10})$/,isbn13Maybe=/^(?:[0-9]{13})$/;var ipv4Maybe=/^(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)$/,ipv6=/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/;var uuid={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};var alpha=/^[a-zA-Z]+$/,alphanumeric=/^[a-zA-Z0-9]+$/,numeric=/^-?[0-9]+$/,int=/^(?:-?(?:0|[1-9][0-9]*))$/,float=/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,hexadecimal=/^[0-9a-fA-F]+$/,hexcolor=/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;var ascii=/^[\x00-\x7F]+$/,multibyte=/[^\x00-\x7F]/,fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;var surrogatePair=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;var base64=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{4})$/;validator.extend=function(name,fn){validator[name]=function(){var args=Array.prototype.slice.call(arguments);args[0]=validator.toString(args[0]);return fn.apply(validator,args)}};validator.init=function(){for(var name in validator){if(typeof validator[name]!=="function"||name==="toString"||name==="toDate"||name==="extend"||name==="init"){continue}validator.extend(name,validator[name])}};validator.toString=function(input){if(typeof input==="object"&&input!==null&&input.toString){input=input.toString()}else if(input===null||typeof input==="undefined"||isNaN(input)&&!input.length){input=""}else if(typeof input!=="string"){input+=""}return input};validator.toDate=function(date){if(Object.prototype.toString.call(date)==="[object Date]"){return date}date=Date.parse(date);return!isNaN(date)?new Date(date):null};validator.toFloat=function(str){return parseFloat(str)};validator.toInt=function(str,radix){return parseInt(str,radix||10)};validator.toBoolean=function(str,strict){if(strict){return str==="1"||str==="true"}return str!=="0"&&str!=="false"&&str!==""};validator.equals=function(str,comparison){return str===validator.toString(comparison)};validator.contains=function(str,elem){return str.indexOf(validator.toString(elem))>=0};validator.matches=function(str,pattern,modifiers){if(Object.prototype.toString.call(pattern)!=="[object RegExp]"){pattern=new RegExp(pattern,modifiers)}return pattern.test(str)};validator.isEmail=function(str){return email.test(str)};var default_url_options={protocols:["http","https","ftp"],require_tld:true,require_protocol:false,allow_underscores:false};validator.isURL=function(url,options){if(!url||url.length>=2083){return false}if(url.indexOf("mailto:")===0){return false}options=merge(options,default_url_options);var protocol,user,pass,auth,host,hostname,port,port_str,path,query,hash,split;split=url.split("://");if(split.length>1){protocol=split.shift();if(options.protocols.indexOf(protocol)===-1){return false}}else if(options.require_protocol){return false}url=split.join("://");split=url.split("#");url=split.shift();hash=split.join("#");if(hash&&/\s/.test(hash)){return false}split=url.split("?");url=split.shift();query=split.join("?");if(query&&/\s/.test(query)){return false}split=url.split("/");url=split.shift();path=split.join("/");if(path&&/\s/.test(path)){return false}split=url.split("@");if(split.length>1){auth=split.shift();if(auth.indexOf(":")>=0){auth=auth.split(":");user=auth.shift();if(!/^\S+$/.test(user)){return false}pass=auth.join(":");if(!/^\S*$/.test(user)){return false}}}hostname=split.join("@");split=hostname.split(":");host=split.shift();if(split.length){port_str=split.join(":");port=parseInt(port_str,10);if(!/^[0-9]+$/.test(port_str)||port<=0||port>65535){return false}}if(!validator.isIP(host)&&!validator.isFQDN(host,options)&&host!=="localhost"){return false}if(options.host_whitelist&&options.host_whitelist.indexOf(host)===-1){return false}if(options.host_blacklist&&options.host_blacklist.indexOf(host)!==-1){return false}return true};validator.isIP=function(str,version){version=validator.toString(version);if(!version){return validator.isIP(str,4)||validator.isIP(str,6)}else if(version==="4"){if(!ipv4Maybe.test(str)){return false}var parts=str.split(".").sort(function(a,b){return a-b});return parts[3]<=255}return version==="6"&&ipv6.test(str)};var default_fqdn_options={require_tld:true,allow_underscores:false};validator.isFQDN=function(str,options){options=merge(options,default_fqdn_options);var parts=str.split(".");if(options.require_tld){var tld=parts.pop();if(!parts.length||!/^[a-z]{2,}$/i.test(tld)){return false}}for(var part,i=0;i<parts.length;i++){part=parts[i];if(options.allow_underscores){if(part.indexOf("__")>=0){return false}part=part.replace(/_/g,"")}if(!/^[a-z\\u00a1-\\uffff0-9-]+$/i.test(part)){return false}if(part[0]==="-"||part[part.length-1]==="-"||part.indexOf("---")>=0){return false}}return true};validator.isAlpha=function(str){return alpha.test(str)};validator.isAlphanumeric=function(str){return alphanumeric.test(str)};validator.isNumeric=function(str){return numeric.test(str)};validator.isHexadecimal=function(str){return hexadecimal.test(str)};validator.isHexColor=function(str){return hexcolor.test(str)};validator.isLowercase=function(str){return str===str.toLowerCase()};validator.isUppercase=function(str){return str===str.toUpperCase()};validator.isInt=function(str){return int.test(str)};validator.isFloat=function(str){return str!==""&&float.test(str)};validator.isDivisibleBy=function(str,num){return validator.toFloat(str)%validator.toInt(num)===0};validator.isNull=function(str){return str.length===0};validator.isLength=function(str,min,max){var surrogatePairs=str.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[];var len=str.length-surrogatePairs.length;return len>=min&&(typeof max==="undefined"||len<=max)};validator.isByteLength=function(str,min,max){return str.length>=min&&(typeof max==="undefined"||str.length<=max)};validator.isUUID=function(str,version){var pattern=uuid[version?version:"all"];return pattern&&pattern.test(str)};validator.isDate=function(str){return!isNaN(Date.parse(str))};validator.isAfter=function(str,date){var comparison=validator.toDate(date||new Date),original=validator.toDate(str);return!!(original&&comparison&&original>comparison)};validator.isBefore=function(str,date){var comparison=validator.toDate(date||new Date),original=validator.toDate(str);return original&&comparison&&original<comparison};validator.isIn=function(str,options){if(!options||typeof options.indexOf!=="function"){return false}if(Object.prototype.toString.call(options)==="[object Array]"){var array=[];for(var i=0,len=options.length;i<len;i++){array[i]=validator.toString(options[i])}options=array}return options.indexOf(str)>=0};validator.isCreditCard=function(str){var sanitized=str.replace(/[^0-9]+/g,"");if(!creditCard.test(sanitized)){return false}var sum=0,digit,tmpNum,shouldDouble;for(var i=sanitized.length-1;i>=0;i--){digit=sanitized.substring(i,i+1);tmpNum=parseInt(digit,10);if(shouldDouble){tmpNum*=2;if(tmpNum>=10){sum+=tmpNum%10+1}else{sum+=tmpNum}}else{sum+=tmpNum}shouldDouble=!shouldDouble}return!!(sum%10===0?sanitized:false)};validator.isISBN=function(str,version){version=validator.toString(version);if(!version){return validator.isISBN(str,10)||validator.isISBN(str,13)}var sanitized=str.replace(/[\s-]+/g,""),checksum=0,i;if(version==="10"){if(!isbn10Maybe.test(sanitized)){return false}for(i=0;i<9;i++){checksum+=(i+1)*sanitized.charAt(i)}if(sanitized.charAt(9)==="X"){checksum+=10*10}else{checksum+=10*sanitized.charAt(9)}if(checksum%11===0){return!!sanitized}}else if(version==="13"){if(!isbn13Maybe.test(sanitized)){return false}var factor=[1,3];for(i=0;i<12;i++){checksum+=factor[i%2]*sanitized.charAt(i)}if(sanitized.charAt(12)-(10-checksum%10)%10===0){return!!sanitized}}return false};validator.isJSON=function(str){try{JSON.parse(str)}catch(e){return false}return true};validator.isMultibyte=function(str){return multibyte.test(str)};validator.isAscii=function(str){return ascii.test(str)};validator.isFullWidth=function(str){return fullWidth.test(str)};validator.isHalfWidth=function(str){return halfWidth.test(str)};validator.isVariableWidth=function(str){return fullWidth.test(str)&&halfWidth.test(str)};validator.isSurrogatePair=function(str){return surrogatePair.test(str)};validator.isBase64=function(str){return base64.test(str)};validator.isMongoId=function(str){return validator.isHexadecimal(str)&&str.length===24};validator.ltrim=function(str,chars){var pattern=chars?new RegExp("^["+chars+"]+","g"):/^\s+/g;return str.replace(pattern,"")};validator.rtrim=function(str,chars){var pattern=chars?new RegExp("["+chars+"]+$","g"):/\s+$/g;return str.replace(pattern,"")};validator.trim=function(str,chars){var pattern=chars?new RegExp("^["+chars+"]+|["+chars+"]+$","g"):/^\s+|\s+$/g;return str.replace(pattern,"")};validator.escape=function(str){return str.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};validator.stripLow=function(str,keep_new_lines){var chars=keep_new_lines?"\0-\t\v\f-":"\0-";return validator.blacklist(str,chars)};validator.whitelist=function(str,chars){return str.replace(new RegExp("[^"+chars+"]+","g"),"")};validator.blacklist=function(str,chars){return str.replace(new RegExp("["+chars+"]+","g"),"")};var default_normalize_email_options={lowercase:true};validator.normalizeEmail=function(email,options){options=merge(options,default_normalize_email_options);if(!validator.isEmail(email)){return false}var parts=email.split("@",2);parts[1]=parts[1].toLowerCase();if(options.lowercase){parts[0]=parts[0].toLowerCase()}if(parts[1]==="gmail.com"||parts[1]==="googlemail.com"){if(!options.lowercase){parts[0]=parts[0].toLowerCase()}parts[0]=parts[0].replace(/\./g,"").split("+")[0];parts[1]="gmail.com"}return parts.join("@")};function merge(obj,defaults){obj=obj||{};for(var key in defaults){if(typeof obj[key]==="undefined"){obj[key]=defaults[key]}}return obj}validator.init();return validator});
"use strict";(function(){var module=angular.module("citizenos",["ui.router","pascalprecht.translate","ngSanitize","ngResource","ngTouch","ngDialog","angularMoment","focus-if","angular-loading-bar","ngCookies","angularHwcrypto","typeahead","datePicker","monospaced.qrcode","720kb.tooltips","angularLoad"]);module.constant("cosConfig",window.__config||{});module.config(["$stateProvider","$urlRouterProvider","$translateProvider","$locationProvider","$httpProvider","$resourceProvider","ngDialogProvider","cfpLoadingBarProvider","cosConfig",function($stateProvider,$urlRouterProvider,$translateProvider,$locationProvider,$httpProvider,$resourceProvider,ngDialogProvider,cfpLoadingBarProvider,cosConfig){var langReg=Object.keys(cosConfig.language.list).join("|");$locationProvider.html5Mode({enabled:true,rewriteLinks:true,requireBase:true});$httpProvider.defaults.withCredentials=true;$httpProvider.interceptors.push("cosHttpApiUnauthorizedInterceptor");$httpProvider.interceptors.push("cosHttpApiErrorInterceptor");$stateProvider.decorator("parent",function(internalStateObj,parentFn){internalStateObj.self.$$state=function(){return internalStateObj};return parentFn(internalStateObj)});$urlRouterProvider.otherwise(function($injector,$location){var sAuth=$injector.get("sAuth");var $state=$injector.get("$state");var $translate=$injector.get("$translate");var $log=$injector.get("$log");var $cookies=$injector.get("$cookies");var locationUrl=$location.url();var locationPath=locationUrl.split("/");var langkeys=Object.keys(cosConfig.language.list);var clientLang=$translate.resolveClientLocale()||$translate.use();var useLang=cosConfig.language.default;if(langkeys.indexOf(clientLang)>-1){useLang=clientLang}if(langkeys.indexOf($cookies.get("language"))>-1){$log.debug("cookieLang",$cookies.get("language"));useLang=$cookies.get("language")}$log.debug("$urlRouterProvider.otherwise","Language detected before status",useLang);var returnLink="/";sAuth.status().then(function(user){$log.debug("sAuth.success",user);$log.debug("$urlRouterProvider.otherwise","status loaded",user);if(user.language){useLang=user.language}resolveOtherwise()},function(err){$log.debug("sAuth.err",err);resolveOtherwise()});function resolveOtherwise(){returnLink="/"+useLang+"/";if(langkeys.indexOf(locationPath[1])>-1){returnLink="/"+locationPath[1]+"/";useLang=locationPath[1]}else if(locationPath.length>1){returnLink="/"+useLang+$location.path()}var statesList=$state.get();var stateNext=null;for(var i=0;i<statesList.length;i++){var stateObj=statesList[i];if(stateObj.name){var privatePortion=stateObj.$$state();if(privatePortion.url){var params=privatePortion.url.exec(returnLink,$location.search());if(params){stateNext={name:stateObj.name,params:params};$log.debug("$urlRouterProvider.otherwise","Matched state",stateNext);break}}}}if(stateNext){if(stateNext.params&&stateNext.params.language==="aa"){window.location.href=$state.href(stateNext.name,stateNext.params)}else{$state.go(stateNext.name,stateNext.params,{location:"replace"})}}else{$state.go("error.404",{language:useLang},{location:"replace"})}}});$urlRouterProvider.config({absolute:true});$stateProvider.state("index",{url:"/{language:"+langReg+"}",abstract:true,template:'<div ui-view class="full_height"></div>',resolve:{sTranslateResolve:function($stateParams,$log,sTranslate){$log.debug("Resolve language",$stateParams.language);return sTranslate.setLanguage($stateParams.language)},sAuthResolve:function($q,$log,$state,$stateParams,$window,sAuth,sLocation){if(sAuth.user.loggedIn){return}return sAuth.status().then(function(){$log.debug("Resolve user",sAuth.user,"LOGGED IN");if(sAuth.user.loggedIn){if(!sAuth.user.termsVersion||sAuth.user.termsVersion!==cosConfig.legal.version){return $state.go("account.tos",{redirectSuccess:sLocation.getAbsoluteUrl($window.location.pathname)+$window.location.search},{location:false})}}return $q.resolve(true)},function(){$log.debug("Resolve user",sAuth.user,"NOT LOGGED IN");return $q.resolve(false)})}}}).state("main",{url:null,abstract:true,parent:"index",templateUrl:"/views/layouts/main.html",resolve:{sActivitiesResolve:function($log,$q,sAuthResolve,sAuth,sActivity){$log.debug("Resolve unreadActivities");if(sAuth.user.loggedIn){return sActivity.getUnreadActivities()}else{return $q.resolve(false)}}}}).state("home",{url:"/",parent:"main",templateUrl:"/views/home.html"}).state("hacktivistcommunity",{url:"/hacktivistcommunity",parent:"main",templateUrl:"/views/home.html"}).state("thirtyfourislandproject",{url:"/thirtyfourislandproject",parent:"main",templateUrl:"/views/home.html"}).state("eestijazziarengusuunad",{url:"/eestijazziarengusuunad",parent:"main",templateUrl:"/views/home.html"}).state("thetwelvemovie",{url:"/thetwelvemovie",parent:"main",templateUrl:"/views/home.html"}).state("account",{url:"/account",abstract:true,parent:"main",templateUrl:"/views/home.html"}).state("account.tos",{url:"/tos?redirectSuccess",controller:["$scope","ngDialog",function($scope,ngDialog){ngDialog.open({template:"/views/modals/privacy_policy.html",closeByEscape:false,closeByNavigation:false,scope:$scope})}]}).state("account.signup",{url:"/signup?email&name&redirectSuccess",controller:["$scope","$state","$stateParams","$log","ngDialog","sAuthResolve",function($scope,$state,$stateParams,$log,ngDialog,sAuthResolve){if(sAuthResolve){return $state.go("home")}var dialog=ngDialog.open({template:"/views/modals/sign_up.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){return $state.go("home")}})}]}).state("account.login",{url:"/login?email&redirectSuccess",controller:["$scope","$state","$stateParams","$log","ngDialog","sAuthResolve",function($scope,$state,$stateParams,$log,ngDialog,sAuthResolve){if(sAuthResolve){return $state.go("home")}var dialog=ngDialog.open({template:"/views/modals/login.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){return $state.go("home")}})}]}).state("account.profile",{url:"/profile",controller:["$scope","$stateParams","$log","ngDialog",function($scope,$stateParams,$log,ngDialog){ngDialog.open({template:"/views/modals/my_account.html",data:$stateParams,scope:$scope})}]}).state("account.passwordForgot",{url:"/password/forgot",parent:"account",controller:["$scope","$stateParams","$log","ngDialog",function($scope,$stateParams,$log,ngDialog){ngDialog.open({template:"/views/modals/password_forgot.html",data:$stateParams,scope:$scope})}]}).state("account.passwordReset",{url:"/password/reset/:passwordResetCode?email",parent:"account",controller:["$scope","$stateParams","$log","ngDialog",function($scope,$stateParams,$log,ngDialog){ngDialog.open({template:"/views/modals/password_reset.html",data:$stateParams,scope:$scope})}]}).state("topics",{url:"/topics",abstract:true,parent:"main",template:"<div ui-view></div>"}).state("topics.create",{url:"/create?title&groupId&groupLevel",parent:"topics",controller:["$scope","$state","$stateParams","sAuth","Topic","GroupMemberTopic",function($scope,$state,$stateParams,sAuth,Topic,GroupMemberTopic){if(!sAuth.user.loggedIn){return $state.go("account.login",null,{location:false})}var topic=new Topic;if($stateParams.title){topic.description="<html><head></head><body><h1>"+$stateParams.title+"</h1></body></html>"}topic.$save().then(function(topic){if($stateParams.groupId){var level=$stateParams.groupLevel||GroupMemberTopic.LEVELS.read;var member={groupId:$stateParams.groupId,id:topic.id,level:level};var groupMemberTopic=new GroupMemberTopic(member);groupMemberTopic.$save().then(function(){$state.go("topics.view",{language:$stateParams.language,topicId:topic.id,editMode:true})})}else{$state.go("topics.view",{language:$stateParams.language,topicId:topic.id,editMode:true})}})}]}).state("topics.view",{url:"/:topicId?editMode&commentId&argumentsPage",parent:"topics",templateUrl:"/views/topics_topicId.html",resolve:{rTopic:["$state","$stateParams","Topic","sAuthResolve",function($state,$stateParams,Topic,sAuthResolve){return new Topic({id:$stateParams.topicId}).$get().then(function(topic){return topic})}]},controller:"TopicCtrl"}).state("topics.view.settings",{url:"/settings?tab",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){var dialog=ngDialog.open({template:"/views/modals/topic_settings.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.files",{url:"/files",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){var dialog=ngDialog.open({template:"/views/modals/topic_attachments.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.report",{url:"/report",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){if(!$scope.app.user.loggedIn){var dialogLogin=$scope.app.doShowLogin();dialogLogin.closePromise.then(function(){$state.go("^")});return}var dialog=ngDialog.open({template:"/views/modals/topic_report.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.reportsModerate",{url:"/reports/:reportId/moderate",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){if(!$scope.app.user.loggedIn){var dialogLogin=$scope.app.doShowLogin();dialogLogin.closePromise.then(function(){$state.go("^")});return}var dialog=ngDialog.open({template:"/views/modals/topic_reports_reportId_moderate.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.reportsReview",{url:"/reports/:reportId/review",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){if(!$scope.app.user.loggedIn){var dialogLogin=$scope.app.doShowLogin();dialogLogin.closePromise.then(function(){$state.go("^")});return}var dialog=ngDialog.open({template:"/views/modals/topic_reports_reportId_review.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.reportsResolve",{url:"/reports/:reportId/resolve",parent:"topics.view",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){if(!$scope.app.user.loggedIn){var dialogLogin=$scope.app.doShowLogin();dialogLogin.closePromise.then(function(){$state.go("^")});return}var dialog=ngDialog.open({template:"/views/modals/topic_reports_reportId_resolve.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.commentsReportsModerate",{url:"/comments/:reportedCommentId/reports/:reportId/moderate?token",parent:"topics.view",resolve:{rTopicComment:["$stateParams","$http","sLocation",function($stateParams,$http,sLocation){var path=sLocation.getAbsoluteUrlApi("/api/topics/:topicId/comments/:reportedCommentId/reports/:reportId",$stateParams);var config={headers:{Authorization:"Bearer "+$stateParams.token}};return $http.get(path,config).then(function(res){return res.data.data})}]},controller:["$scope","$state","$stateParams","ngDialog","rTopicComment","rTopic",function($scope,$state,$stateParams,ngDialog,rTopicComment,rTopic){var dialog=ngDialog.open({template:"/views/modals/topic_comment_moderate.html",data:{comment:rTopicComment.comment,topic:rTopic,report:{id:$stateParams.reportId},token:$stateParams.token}});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("topics.view.votes",{abstract:true,url:"/votes",parent:"topics.view",template:"<div ui-view></div>"}).state("topics.view.votes.create",{parent:"topics.view.votes",url:"/create",template:"<div ui-view></div>",controller:"TopicVoteCreateCtrl",resolve:{rVote:["rTopic","$state","$stateParams","$q","$timeout",function(rTopic,$state,$stateParams,$q,$timeout){if(rTopic.voteId){$timeout(function(){$state.go("topics.view.votes.view",{language:$stateParams.language,topicId:rTopic.id,voteId:rTopic.voteId})},0);return $q.reject()}else{return $q.resolve()}}]}}).state("topics.view.votes.view",{parent:"topics.view.votes",url:"/:voteId",template:"<div ui-view></div>",controller:"TopicVoteCtrl"}).state("topics.view.followUp",{parent:"topics.view",url:"/followUp",template:"<div ui-view></div>",resolve:{status:["rTopic","$q","$state","$stateParams","Topic",function(rTopic,$q,$state,$stateParams,Topic){if([Topic.STATUSES.closed,Topic.STATUSES.followUp].indexOf(rTopic.status)>-1){return $q.resolve()}else{$state.go("topics.view",{language:$stateParams.language,topicId:rTopic.id})}}]},controller:"TopicFollowUpCtrl"}).state("my",{url:"/my?filter&openTabs",parent:"main",templateUrl:"/views/my.html",controller:"MyCtrl",resolve:{rItems:["$state","$stateParams","$location","$q","$window","Topic","Group","sAuth","sAuthResolve",function($state,$stateParams,$location,$q,$window,Topic,Group,sAuth,sAuthResolve){var filterParam=$stateParams.filter||"all";var urlParams={prefix:null,userId:null};var path=$location.path();if(!$stateParams.filter&&path.indexOf("groups")>-1){$stateParams.filter="grouped";filterParam="grouped"}if(sAuthResolve||sAuth.user.loggedIn){urlParams={prefix:"users",userId:"self"}}switch(filterParam){case"all":return Topic.query(urlParams).$promise;case"public":urlParams.visibility=Topic.VISIBILITY.public;return Topic.query(urlParams).$promise;case"private":urlParams.visibility=Topic.VISIBILITY.private;return Topic.query(urlParams).$promise;case"iCreated":urlParams.creatorId=sAuth.user.id;return Topic.query(urlParams).$promise;case"inProgress":urlParams.statuses=Topic.STATUSES.inProgress;return Topic.query(urlParams).$promise;case"voting":urlParams.statuses=Topic.STATUSES.voting;return Topic.query(urlParams).$promise;case"followUp":urlParams.statuses=Topic.STATUSES.followUp;return Topic.query(urlParams).$promise;case"closed":urlParams.statuses=Topic.STATUSES.closed;return Topic.query(urlParams).$promise;case"pinnedTopics":urlParams.pinned=true;return Topic.query(urlParams).$promise;case"grouped":return Group.query().$promise;default:return $q.reject()}}]}}).state("my.topics",{url:"/topics",parent:"my",template:"<div ui-view></div>"}).state("my.topics.topicId",{url:"/:topicId",parent:"my.topics",templateUrl:"/views/my_topics_topicId.html",resolve:{rTopic:["$stateParams","$anchorScroll","Topic","sAuthResolve",function($stateParams,$anchorScroll,Topic,sAuthResolve){var urlParams={topicId:$stateParams.topicId,include:"vote"};if(sAuthResolve){urlParams.prefix="users";urlParams.userId="self"}return Topic.get(urlParams).$promise.then(function(topic){$anchorScroll("content_root");return topic})}]},controller:"TopicCtrl"}).state("my.topics.topicId.settings",{url:"/settings?tab",parent:"my.topics.topicId",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){var dialog=ngDialog.open({template:"/views/modals/topic_settings.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("my.groups",{url:"/groups",parent:"my",template:"<div ui-view></div>"}).state("my.groups.create",{url:"/create",parent:"my.groups",controller:["$scope","$stateParams","$state","ngDialog",function($scope,$stateParams,$state,ngDialog){var dialog=ngDialog.open({template:"/views/modals/group_create_settings.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("my.groups.groupId",{url:"/:groupId",parent:"my.groups",templateUrl:"/views/my_groups_groupId.html",resolve:{rGroup:["$state","$stateParams","$anchorScroll","Group","rItems",function($state,$stateParams,$anchorScroll,Group,rItems){$anchorScroll("content_root");var group=_.find(rItems,{id:$stateParams.groupId});if(!group){$state.go("error.404")}else{return group}}]},controller:"GroupCtrl"}).state("my.groups.groupId.settings",{url:"/settings?tab",parent:"my.groups.groupId",reloadOnSearch:false,controller:["$scope","$state","$stateParams","ngDialog",function($scope,$state,$stateParams,ngDialog){var dialog=ngDialog.open({template:"/views/modals/group_create_settings.html",data:$stateParams,scope:$scope});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){$state.go("^")}})}]}).state("about",{url:"/about",parent:"main",controller:["$state","$window","cosConfig",function($state,$window,cosConfig){var aboutPage=cosConfig.links.about;if(aboutPage){$window.location.href=aboutPage;return}$state.go("error.404")}]}).state("join",{url:"/join/:tokenJoin",parent:"main",controller:"JoinCtrl"}).state("topicsTopicIdInvitesUsers",{url:"/topics/:topicId/invites/users/:inviteId",parent:"main",templateUrl:"/views/home.html",resolve:{rTopicInviteUser:["$stateParams","$q","$log","TopicInviteUser",function($stateParams,$q,$log,TopicInviteUser){var params={id:$stateParams.inviteId,topicId:$stateParams.topicId};return new TopicInviteUser(params).$get().then(function(topicInvite){topicInvite.id=params.id;return topicInvite},function(err){return $q.resolve(err)})}]},controller:["$scope","$state","$stateParams","$log","$timeout","sAuth","sNotification","ngDialog","TopicInviteUser","rTopicInviteUser",function($scope,$state,$stateParams,$log,$timeout,sAuth,sNotification,ngDialog,TopicInviteUser,rTopicInviteUser){if(!(rTopicInviteUser instanceof TopicInviteUser)){return}var doAccept=function(){return rTopicInviteUser.$accept().then(function(){return $state.go("topics.view",{topicId:rTopicInviteUser.topicId})})};if(sAuth.user.loggedIn&&rTopicInviteUser.user.id===sAuth.user.id){return doAccept()}var dialog=ngDialog.open({template:"/views/modals/topic_topicId_invites_users_inviteId.html",data:$stateParams,scope:$scope,controller:["$scope","$log",function($scope,$log){$scope.invite=rTopicInviteUser;$scope.doAccept=function(){if(!sAuth.user.loggedIn){var currentUrl=$state.href($state.current.name,$stateParams);return $state.go("account.login",{redirectSuccess:currentUrl})}if(sAuth.user.loggedIn&&$scope.invite.user.id!==sAuth.user.id){sAuth.logout().then(function(){var currentUrl=$state.href($state.current.name,$stateParams);return $state.go("account.login",{redirectSuccess:currentUrl},{reload:true})})}}}]});dialog.closePromise.then(function(data){if(data.value!=="$navigation"){return $state.go("home")}})}]}).state("partners",{url:"/partners/:partnerId",abstract:true,parent:"index",resolve:{rPartner:["$stateParams","sPartner",function($stateParams,sPartner){return sPartner.info($stateParams.partnerId).then(function(partnerInfo){return partnerInfo})}]},controller:"PartnerCtrl",templateUrl:"/views/layouts/partner.html"}).state("partners.login",{url:"/login",parent:"partners",templateUrl:"/views/partners_login.html"}).state("partners.consent",{url:"/consent",parent:"partners",templateUrl:"/views/partners_consent.html"}).state("widgets",{url:"/widgets?widgetId&widgetTitle&style",parent:"index",abstract:true,template:'<link rel="stylesheet" href="/styles/widgets.css"><link rel="stylesheet" ng-if="customWidgetStyle" type="text/css" href="{{customWidgetStyle}}"><div ui-view></div>',controller:["$rootScope","$scope","$window","$document","$stateParams","$timeout","$interval","$log","ngDialog",function($rootScope,$scope,$window,$document,$stateParams,$timeout,$interval,$log,ngDialog){$scope.app.widgetTitle=$stateParams.widgetTitle;$scope.customWidgetStyle=$stateParams.style;$scope.widgetPostMessage=function(data){if($window.self!==$window.parent){var msg={citizenos:{}};msg.citizenos["widgets"]={};msg.citizenos["widgets"][$stateParams.widgetId]=data;$window.top.postMessage(msg,"*")}else{}};if($window.self!==$window.parent){var heightPrev;var interval=$interval(function(){var heightCurrent=$document[0].getElementsByTagName("body")[0].scrollHeight;var lightbox=document.getElementById("root_lightbox");if(lightbox&&lightbox.scrollHeight){heightCurrent=Math.max(heightCurrent,lightbox.scrollHeight)}if(heightPrev!==heightCurrent){heightPrev=heightCurrent;$scope.widgetPostMessage({height:heightCurrent})}},100);$scope.$on("$destroy",function(){interval.cancel()});$rootScope.$on("ngDialog.opened",function(){if($window.self!==$window.parent){var dialogElement=document.getElementById("lightbox");var dialogElementPosition=dialogElement.getBoundingClientRect();$scope.widgetPostMessage({overlay:{top:dialogElementPosition.top},height:document.getElementById("root_lightbox").scrollHeight})}});$scope.doShowWidgetHowItWorks=function(){ngDialog.open({template:"/views/modals/widgets_how_it_works.html"})}}}]}).state("widgets.wrapped",{url:null,parent:"widgets",abstract:true,templateUrl:"/views/layouts/widget.html"}).state("widgets.wrapped.sourcePartnerObjectId",{url:"/partners/:partnerId/topics/:sourcePartnerObjectId",parent:"widgets",abstract:true,template:"<div ui-view></div>",resolve:{TopicResolve:function($http,$state,$stateParams,sLocation){var path=sLocation.getAbsoluteUrlApi("/api/partners/:partnerId/topics/:sourcePartnerObjectId",$stateParams);return $http.get(path).then(function(res){return res.data.data})}}}).state("widgets.wrapped.sourcePartnerObjectId.arguments",{url:"/arguments",parent:"widgets.wrapped.sourcePartnerObjectId",controller:["$state","$stateParams","TopicResolve",function($state,$stateParams,TopicResolve){$state.go("widgets.wrapped.arguments",{topicId:TopicResolve.id,widgetId:$stateParams.widgetId})}]}).state("widgets.wrapped.arguments",{url:"/topics/:topicId/arguments",parent:"widgets.wrapped",template:'<div class="comments_section"><div class="comments_content"><div ng-include="\'views/topics_topicId_comments.html\'"></div></div></div>'}).state("widgets.activities",{url:"/activities",parent:"widgets",templateUrl:"/views/widgets/activities.html",resolve:{ActivitiesResolve:function($http,$stateParams,sActivity){return sActivity.getActivitiesUnauth(0,100)}},controller:"ActivitiesWidgetCtrl"}).state("widgets.topicActivities",{url:"/topics/:topicId/activities",parent:"widgets",templateUrl:"/views/widgets/activities.html",resolve:{ActivitiesResolve:function($http,$stateParams,sActivity){return sActivity.getTopicActivitiesUnauth($stateParams.topicId)}},controller:"ActivitiesWidgetCtrl"}).state("widgets.partnerActivities",{url:"/partners/:partnerId/activities?filter",parent:"widgets",templateUrl:"/views/widgets/activities.html",resolve:{ActivitiesResolve:function($http,$stateParams,sActivity){var filters=$stateParams.filter;return sActivity.getActivitiesUnauth(0,50,null,filters,$stateParams.partnerId)}},controller:"ActivitiesWidgetCtrl"}).state("widgets.partnerTopicActivities",{url:"/activities",parent:"widgets.wrapped.sourcePartnerObjectId",controller:["$state","$stateParams","TopicResolve",function($state,$stateParams,TopicResolve){$state.go("widgets.topicActivities",{topicId:TopicResolve.id,widgetId:$stateParams.widgetId})}]}).state("authCallback",{url:"/auth/callback",template:"<h1>Redirecting...</h1>",controller:["$window","$document",function($window,$document){if($document[0].documentMode||$window.navigator.userAgent.indexOf("Edge")>-1){return $window.close()}else{$window.opener.postMessage({status:"success"},$window.origin)}}]}).state("onedrive",{url:"/onedrive",templateUrl:"<div></div>"}).state("error",{url:"/error",parent:"main",abstract:true,template:'<div ui-view class="full_height"></div>'}).state("error.401",{url:"/401",parent:"error",templateUrl:"/views/401.html"}).state("error.403",{url:"/403",parent:"error",templateUrl:"/views/401.html"}).state("error.404",{url:"/404",parent:"error",templateUrl:"/views/404.html"});$translateProvider.useStaticFilesLoader({prefix:"languages/",suffix:".json"});ngDialogProvider.setDefaults({overlay:false,showClose:false,trapFocus:false,disableAnimation:true,closeByNavigation:true,closeByDocument:true,closeByEscape:true});cfpLoadingBarProvider.loadingBarTemplate='<div id="loading_bar"><div class="bar"></div></div>';cfpLoadingBarProvider.includeSpinner=false;$translateProvider.preferredLanguage(cosConfig.language.default).registerAvailableLanguageKeys(Object.keys(cosConfig.language.list).push(cosConfig.language.debug)).determinePreferredLanguage().useSanitizeValueStrategy("escaped").useLocalStorage().useMissingTranslationHandlerLog().translations(cosConfig.language.debug,{})}])})();
angular.module("citizenos").factory("Group",["$log","$resource","sLocation","$http","Topic","GroupMemberUser",function($log,$resource,sLocation,$http,Topic,GroupMemberUser){$log.debug("citizenos.factory.Group");var Group=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId"),{groupId:"@id"},{get:{transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},query:{isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){var array=angular.fromJson(data).data.rows||[];array.forEach(function(group){if(group.members.topics&&group.members.topics.latest){group.members.topics.latest=new Topic(group.members.topics.latest)}});return array}else{return angular.fromJson(data)}}},update:{method:"PUT",transformRequest:function(data){var requestObject={};_.forEach(data.toJSON(),function(value,key){if(!_.isObject(value)){requestObject[key]=value}});return angular.toJson(requestObject)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},save:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/users/self/groups"),transformRequest:function(data){var requestObject={};requestObject.name=data.name;requestObject.visibility=data.visibility;return angular.toJson(requestObject)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},delete:{method:"DELETE"}});Group.VISIBILITY={public:"public",private:"private"};Group.prototype.canUpdate=function(){return this.permission&&this.permission.level===GroupMemberUser.LEVELS.admin};Group.prototype.canDelete=function(){return this.canUpdate()};return Group}]);
angular.module("citizenos").factory("GroupMemberTopic",["$log","$resource","sLocation","Topic",function($log,$resource,sLocation,Topic){$log.debug("citizenos.factory.GroupMemberTopic");var GroupMemberTopic=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/members/groups/:groupId"),{topicId:"@id",groupId:"@groupId"},{query:{url:sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId/members/topics"),isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}},update:{method:"PUT",transformRequest:function(data){return angular.toJson({level:data.permission.levelGroup})},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},save:{method:"POST",params:{topicId:"@id",groupId:null},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/members/groups"),transformRequest:function(data){return angular.toJson({topicId:data.id,groupId:data.groupId,level:data.level})},transformResponse:function(data,headersGetter,status){return angular.fromJson(data)}},delete:{method:"DELETE"}});GroupMemberTopic.LEVELS={none:"none",read:"read",edit:"edit",admin:"admin"};GroupMemberTopic.prototype.isPrivate=function(){return this.visibility===Topic.VISIBILITY.private};GroupMemberTopic.prototype.canUpdate=function(){return this.permission.level===GroupMemberTopic.LEVELS.admin};GroupMemberTopic.prototype.canDelete=function(){return this.permission.level===GroupMemberTopic.LEVELS.admin};GroupMemberTopic.prototype.togglePin=function(){var self=this;var topic=new Topic(this);if(!self.pinned){return topic.$addToPinned().then(function(){self.pinned=true})}else{return topic.$removeFromPinned().then(function(){self.pinned=false})}};return GroupMemberTopic}]);
angular.module("citizenos").factory("GroupMemberUser",["$log","$resource","sLocation",function($log,$resource,sLocation){$log.debug("citizenos.factory.GroupMemberUser");var GroupMemberUser=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId/members/users/:userId"),{groupId:"@groupId",userId:"@id"},{query:{isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}},update:{method:"PUT",transformRequest:function(data){return angular.toJson({level:data.level})},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},save:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId/members/users"),transformResponse:function(data){return angular.fromJson(data).data}}});GroupMemberUser.LEVELS={read:"read",admin:"admin"};return GroupMemberUser}]);
angular.module("citizenos").factory("Mention",["$log","$resource","sLocation","sAuth",function($log,$resource,sLocation,sAuth){$log.debug("citizenos.factory.Mention");var Mention=$resource(sLocation.getAbsoluteUrlApi("/api/:prefix/:userId/topics/:topicId/mentions"),{topicId:"@topicId"},{query:{params:{topicId:"@topicId",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},isArray:true,transformResponse:function(data,headerGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}}});return Mention}]);
angular.module("citizenos").factory("Topic",["$log","$resource","sLocation","sAuth","TopicMemberUser","TopicVote","Vote",function($log,$resource,sLocation,sAuth,TopicMemberUser,TopicVote,Vote){$log.debug("citizenos.factory.Topic");var getUrlPrefix=function(){var prefix=sAuth.getUrlPrefix();if(!prefix){prefix="@prefix"}return prefix};var getUrlUser=function(){var userId=sAuth.getUrlUserId();if(!userId){userId="@userId"}return userId};var Topic=$resource(sLocation.getAbsoluteUrlApi("/api/:prefix/:userId/topics/:topicId"),{topicId:"@id",prefix:getUrlPrefix,userId:getUrlUser},{get:{method:"GET",transformResponse:function(data,headersGetter,status){if(status>0&&status<400){var topic=angular.fromJson(data).data;if(topic.vote&&topic.vote.id||topic.voteId){if(topic.vote){topic.vote=new TopicVote(topic.vote)}else{topic.vote=new TopicVote({id:topic.voteId,topicId:topic.id})}}return topic}else{return angular.fromJson(data)}}},query:{isArray:true,transformResponse:function(data,headerGetter,status){if(status>0&&status<400){var array=angular.fromJson(data).data.rows||[];array.forEach(function(topic){if(topic.vote&&topic.vote.id||topic.voteId){if(topic.vote){topic.vote=new TopicVote(topic.vote)}else{topic.vote=new TopicVote({topicId:topic.id,id:topic.voteId})}}});return array}else{return angular.fromJson(data)}}},update:{method:"PUT",transformRequest:function(data,headersGetter){var updateFields=["visibility","status","categories","endsAt","hashtag"];var postData={};updateFields.forEach(function(field){if(field in data){postData[field]=data[field]}});return angular.toJson(postData)}},patch:{method:"PATCH",transformRequest:function(data,headersGetter){var updateFields=["visibility","status","categories","endsAt","hashtag"];var postData={};updateFields.forEach(function(field){if(field in data){postData[field]=data[field]}});return angular.toJson(postData)}},save:{method:"POST",transformResponse:function(data){return angular.fromJson(data).data}},delete:{method:"DELETE",transformResponse:function(data){return angular.fromJson(data).data}},join:{method:"POST",params:{tokenJoin:"@id"},url:sLocation.getAbsoluteUrlApi("/api/topics/join/:tokenJoin"),transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data)}else{return angular.fromJson(data)}}},updateTokenJoin:{method:"PUT",params:{topicId:"@id"},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/tokenJoin"),transformResponse:function(data,headersGetter,status){if(status>0&&status<400){}else{return angular.fromJson(data)}}},addToPinned:{method:"POST",params:{topicId:"@id"},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/pin"),transformResponse:function(data,headersGetter,status){if(status>0&&status<400){}else{return angular.fromJson(data)}}},removeFromPinned:{method:"DELETE",params:{topicId:"@id"},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/pin"),transformResponse:function(data,headersGetter,status){if(status>0&&status<400){}else{return angular.fromJson(data)}}}});Topic.STATUSES={inProgress:"inProgress",voting:"voting",followUp:"followUp",closed:"closed"};Topic.VISIBILITY={public:"public",private:"private"};Topic.CATEGORIES={thetwelvemovie:"thetwelvemovie",thirtyfourislandproject:"thirtyfourislandproject",hacktivistcommunity:"hacktivistcommunity",eestijazziarengusuunad:"eestijazziarengusuunad",business:"business",transport:"transport",taxes:"taxes",agriculture:"agriculture",environment:"environment",culture:"culture",health:"health",work:"work",education:"education",politics:"politics",communities:"communities",defense:"defense",integration:"integration",youth:"youth",science:"science",society:"society",varia:"varia"};Topic.REPORT_TYPES={abuse:"abuse",obscene:"obscene",spam:"spam",hate:"hate",netiquette:"netiquette",duplicate:"duplicate"};Topic.CATEGORIES_COUNT_MAX=3;Topic.prototype.isPrivate=function(){return this.visibility===Topic.VISIBILITY.private};Topic.prototype.canUpdate=function(){return this.permission&&this.permission.level===TopicMemberUser.LEVELS.admin};Topic.prototype.canEdit=function(){return[TopicMemberUser.LEVELS.admin,TopicMemberUser.LEVELS.edit].indexOf(this.permission.level)>-1};Topic.prototype.canEditDescription=function(){return this.canEdit()&&this.status===Topic.STATUSES.inProgress};Topic.prototype.canDelete=function(){return this.canUpdate()};Topic.prototype.canVote=function(){return this.vote&&((this.permission.level!==TopicMemberUser.LEVELS.none||this.vote.authType===Vote.VOTE_AUTH_TYPES.hard&&this.visibility===Topic.VISIBILITY.public)&&this.status===Topic.STATUSES.voting)};Topic.prototype.canDelegate=function(){return this.canVote()&&this.vote.delegationIsAllowed===true};Topic.prototype.canSendToFollowUp=function(){return this.canUpdate()&&this.vote&&this.vote.id&&this.status!==Topic.STATUSES.followUp};Topic.prototype.canSendToVote=function(){return this.canUpdate()&&[Topic.STATUSES.voting,Topic.STATUSES.closed].indexOf(this.status)<0};Topic.prototype.canLeave=function(){return sAuth.user.loggedIn};Topic.prototype.hasVoteEnded=function(){if([Topic.STATUSES.followUp,Topic.STATUSES.closed].indexOf(this.status)>-1){return true}return this.vote&&this.vote.endsAt&&new Date>new Date(this.vote.endsAt)};Topic.prototype.hasVoteEndedExpired=function(){return[Topic.STATUSES.followUp,Topic.STATUSES.closed].indexOf(this.status)<0&&this.vote&&this.vote.endsAt&&new Date>new Date(this.vote.endsAt)};Topic.prototype.togglePin=function(){console.log("TOGGLE PIN",this);var self=this;if(!self.pinned){return this.$addToPinned().then(function(){self.pinned=true})}else{return this.$removeFromPinned().then(function(){self.pinned=false})}};return Topic}]);
angular.module("citizenos").factory("TopicAttachment",["$log","$resource","sLocation","sAuth","cosConfig",function($log,$resource,sLocation,sAuth,cosConfig){$log.debug("citizenos.factory.TopicAttachment");var path="/api/:prefix/:userId/topics/:topicId/attachments/:attachmentId";var TopicAttachment=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId",attachmentId:"@id"},{save:{method:"POST",params:{topicId:"@topicId",attachmentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},query:{isArray:true,url:sLocation.getAbsoluteUrlApi("/api/:prefix/:userId/topics/:topicId/attachments"),params:{topicId:"@topicId",attachmentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headerGetter,status){if(status>0&&status<400){var result=angular.fromJson(data).data.rows;return result}else{return angular.fromJson(data)}}},update:{method:"PUT",params:{topicId:"@topicId",attachmentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformRequest:function(data){var requestObject={};_.forEach(data.toJSON(),function(value,key){if(!_.isObject(value)){requestObject[key]=value}});return angular.toJson(requestObject)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},delete:{method:"DELETE",params:{topicId:"@topicId",attachmentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.toJson(data)}}}});TopicAttachment.SOURCES={upload:"upload",dropbox:"dropbox",onedrive:"onedrive",googledrive:"googledrive"};return TopicAttachment}]);
angular.module("citizenos").factory("TopicComment",["$log","$resource","sLocation","sAuth",function($log,$resource,sLocation,sAuth){$log.debug("citizenos.factory.TopicComment");var path="/api/:prefix/:userId/topics/:topicId/comments/:commentId";var TopicComment=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId",commentId:"@id"},{save:{method:"POST",params:{topicId:"@topicId",commentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},query:{isArray:true,url:sLocation.getAbsoluteUrlApi("/api/:prefix/:userId/topics/:topicId/comments"),params:{topicId:"@topicId",commentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headerGetter,status){if(status>0&&status<400){var result=angular.fromJson(data).data.rows;result.forEach(function(row,k){row.count=angular.fromJson(data).data.count;flattenTree(row,row)});result.forEach(function(row,i){var replies=row.replies.rows;replies.forEach(function(reply,j){replies[j]=new TopicComment(reply)})});return result}else{return angular.fromJson(data)}}},update:{method:"PUT",params:{topicId:"@topicId",commentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformRequest:function(data){var requestObject={};_.forEach(data.toJSON(),function(value,key){if(!_.isObject(value)){requestObject[key]=value}});return angular.toJson(requestObject)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},vote:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/topics/:topicId/comments/:commentId/votes"),transformRequest:function(data){return angular.toJson(data)}},report:{method:"POST",params:{topicId:"@topicId",commentId:"@id"},url:sLocation.getAbsoluteUrlApi("/api/topics/:topicId/comments/:commentId/reports"),transformRequest:function(data){return angular.toJson(data)}},delete:{method:"DELETE",params:{topicId:"@topicId",commentId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.toJson(data)}}}});TopicComment.prototype.isEdited=function(){return this.edits.length>1};TopicComment.prototype.isVisible=function(){return!this.deletedAt&&!this.showDeletedComment||this.deletedAt&&this.showDeletedComment};TopicComment.prototype.canEdit=function(){return this.creator.id===sAuth.user.id&&!this.deletedAt};TopicComment.prototype.canDelete=function(){return this.canEdit()};TopicComment.prototype.isVisible=function(){return!this.deletedAt&&!this.showDeletedComment||this.deletedAt&&this.showDeletedComment};TopicComment.COMMENT_TYPES={pro:"pro",con:"con",reply:"reply"};TopicComment.COMMENT_REPORT_TYPES={abuse:"abuse",obscene:"obscene",spam:"spam",hate:"hate",netiquette:"netiquette",duplicate:"duplicate"};TopicComment.COMMENT_ORDER_BY={rating:"rating",popularity:"popularity",date:"date"};function flattenTree(parentNode,currentNode){if(currentNode.replies.rows.length>0){if(parentNode!=currentNode){parentNode.replies.rows=parentNode.replies.rows.concat(currentNode.replies.rows)}currentNode.replies.rows.forEach(function(reply,i){flattenTree(parentNode,reply)})}}return TopicComment}]);
angular.module("citizenos").factory("TopicEvent",["$log","$resource","sLocation","sAuth",function($log,$resource,sLocation,sAuth){$log.debug("citizenos.factory.TopicEvent");var path="/api/:prefix/:userId/topics/:topicId/events/:eventId";var TopicEvent=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId",eventId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},{save:{method:"POST",transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},get:{method:"GET",transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},update:{method:"PUT",transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},query:{method:"GET",isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows||[]}else{return angular.fromJson(data)}}},delete:{method:"DELETE"}});return TopicEvent}]);
angular.module("citizenos").factory("TopicInviteUser",["$log","$resource","sLocation",function($log,$resource,sLocation){$log.debug("citizenos.factory.TopicInviteUser");var TopicInviteUser=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/invites/users/:inviteId"),{topicId:"@topicId",inviteId:"@id"},{get:{method:"GET",transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},query:{isArray:true,params:{topicId:"@topicId",inviteId:"@id"},transformResponse:function(data,headerGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}},accept:{method:"POST",params:{topicId:function(topicInvite){if(topicInvite.topicId){return"@topicId"}else{return"@topic.id"}},inviteId:"@id"},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/invites/users/:inviteId/accept"),transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}}});return TopicInviteUser}]);
angular.module("citizenos").factory("TopicMemberGroup",["$log","$resource","sLocation","Group",function($log,$resource,sLocation,Group){$log.debug("citizenos.factory.TopicMemberGroup");var TopicMemberGroup=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/members/groups/:groupId"),{topicId:"@topicId",groupId:"@id"},{query:{isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}},save:{method:"POST",params:{topicId:"@topicId",groupId:null},url:sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/members/groups"),transformRequest:function(data){return angular.toJson({topicId:data.topicId,groupId:data.id,level:data.level})},transformResponse:function(data,headersGetter,status){return angular.fromJson(data)}},update:{method:"PUT",transformRequest:function(data){return angular.toJson({level:data.level})},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},delete:{method:"DELETE"}});TopicMemberGroup.LEVELS={none:"none",read:"read",edit:"edit",admin:"admin"};TopicMemberGroup.prototype.isPrivate=function(){return this.visibility===Group.VISIBILITY.private};TopicMemberGroup.prototype.canUpdate=function(){return this.permission.level===TopicMemberGroup.LEVELS.admin};TopicMemberGroup.prototype.canDelete=function(){return this.permission.level===TopicMemberGroup.LEVELS.admin};return TopicMemberGroup}]);
angular.module("citizenos").factory("TopicMemberUser",["$log","$resource","sLocation",function($log,$resource,sLocation){$log.debug("citizenos.factory.TopicMemberUser");var TopicMemberUser=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/members/users/:userId"),{topicId:"@topicId",userId:"@id"},{query:{isArray:true,transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data.rows}else{return angular.fromJson(data)}}},update:{method:"PUT",transformRequest:function(data){return angular.toJson({level:data.level})},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}}});TopicMemberUser.LEVELS={none:"none",read:"read",edit:"edit",admin:"admin"};return TopicMemberUser}]);
angular.module("citizenos").factory("TopicReport",["$log","$resource","sLocation","sAuth",function($log,$resource,sLocation,sAuth){$log.debug("citizenos.factory.TopicReport");var path="/api/:prefix/:userId/topics/:topicId/reports/:reportId";var TopicReport=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId",reportId:"@id"},{save:{method:"POST",params:{topicId:"@topicId",reportId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},moderate:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/topics/:topicId/reports/:id/moderate"),transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},review:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/topics/:topicId/reports/:id/review"),transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},resolve:{method:"POST",url:sLocation.getAbsoluteUrlApi("/api/topics/:topicId/reports/:id/resolve"),transformRequest:function(data){return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}}});TopicReport.TYPES={abuse:"abuse",obscene:"obscene",spam:"spam",hate:"hate",netiquette:"netiquette",duplicate:"duplicate"};return TopicReport}]);
angular.module("citizenos").factory("TopicVote",["$log","$resource","sLocation","sAuth",function($log,$resource,sLocation,sAuth){$log.debug("citizenos.factory.TopicVote");var path="/api/:prefix/:userId/topics/:topicId/votes/:voteId";var pathStatus=path+"/status";var pathSign=path+"/sign";var TopicVote=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId",voteId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},{save:{method:"POST",transformRequest:function(data){delete data.id;delete data.topicId;return angular.toJson(data)},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},get:{method:"GET",params:{topicId:"@topicId",voteId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){var returndata=angular.fromJson(data).data;var maxVotes=0;returndata.options.rows.forEach(function(voteOption){if(voteOption.voteCount>maxVotes){maxVotes=voteOption.voteCount}});returndata.options.rows.forEach(function(voteOption){if(maxVotes&&voteOption.voteCount===maxVotes){voteOption.winner=true}});return returndata}else{return angular.fromJson(data)}}},update:{method:"PUT",params:{topicId:"@topicId",voteId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}},status:{method:"GET",params:{topicId:"@topicId",voteId:"@id",prefix:sAuth.getUrlPrefix,userId:sAuth.getUrlUserId},url:sLocation.getAbsoluteUrlApi(pathStatus)},sign:{method:"POST",url:sLocation.getAbsoluteUrlApi(pathSign),params:{topicId:"@topicId",voteId:"@id"}}});TopicVote.prototype.getVoteCountTotal=function(){var voteCountTotal=0;if(this.options){var options=this.options.rows;for(var i in options){var voteCount=options[i].voteCount;if(voteCount){voteCountTotal+=voteCount}}}return voteCountTotal};return TopicVote}]);
angular.module("citizenos").factory("Vote",["$log","$resource","sLocation",function($log,$resource,sLocation){$log.debug("citizenos.factory.Vote");var path="/api/users/self/topics/:topicId/votes";var Vote=$resource(sLocation.getAbsoluteUrlApi(path),{topicId:"@topicId"},{save:{method:"POST",transformResponse:function(data,headersGetter,status){if(status>0&&status<400){return angular.fromJson(data).data}else{return angular.fromJson(data)}}}});Vote.STATUSES={inProgress:"inProgress",voting:"voting",followUp:"followUp",closed:"closed"};Vote.VOTE_TYPES={regular:"regular",multiple:"multiple"};Vote.VOTE_AUTH_TYPES={soft:"soft",hard:"hard"};return Vote}]);
angular.module("citizenos").factory("VoteDelegation",["$log","$resource","sLocation",function($log,$resource,sLocation){$log.debug("citizenos.factory.VoteDelegation");var VoteDelegation=$resource(sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/votes/:voteId/delegations"),{topicId:"@topicId",voteId:"@voteId"},{save:{method:"POST",transformResponse:function(data){return angular.fromJson(data).data}},delete:{method:"DELETE"}});return VoteDelegation}]);
angular.module("citizenos").factory("cosHttpApiErrorInterceptor",["$log","$q","$translate","$filter","sNotification",function($log,$q,$translate,$filter,sNotification){$log.debug("citizenos.factory.cosHttpApiErrorInterceptor");var API_REQUEST_REGEX=/\/api\/(?!auth\/status).*/i;var translate=function(key,interpolateParams){if(!key||typeof key!=="string")throw new Error("cosHttpInterceptor.translate()","Invalid parameter value",arguments);return $filter("translate")(key,interpolateParams)};var errorsToKeys=function(errorResponse){if(!errorResponse){throw new Error("cosHttpApiErrorInterceptor.errorsToKeys()","Missing one or more required parameters",arguments)}if(errorResponse.data&&errorResponse.data.errors){return fieldErrorsToKeys(errorResponse)}else{return generalErrorToKey(errorResponse)}};var getGeneralErrorTranslationKey=function(errorResponse){var GENERAL_ERROR_KEY_PATTERN="MSG_ERROR_:method_:path_:statusCode";var config=errorResponse.config;var data=errorResponse.data;var path=config.url.match(API_REQUEST_REGEX)[0].replace(/\/self\//g,"_").replace(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,"_").replace(/join\/[a-zA-Z0-9]*/,"join/token").replace(/\//g,"_");var statusCode=data.status&&data.status.code?data.status.code:errorResponse.status;return GENERAL_ERROR_KEY_PATTERN.replace(":method",config.method).replace(":path",path).replace(":statusCode",statusCode).replace(/[_]+/g,"_").toUpperCase()};var fieldErrorsToKeys=function(errorResponse){var errors=errorResponse.data.errors;Object.keys(errors).forEach(function(key){var translationKey=getGeneralErrorTranslationKey(errorResponse);translationKey+="_"+key.toUpperCase();if(translationKey!==translate(translationKey)){errors[key]=translationKey}else{errors[key]=errors[key]+" *"}})};var generalErrorToKey=function(errorResponse){if(errorResponse.status<0){if(errorResponse.config.timeout&&errorResponse.config.timeout.$$state&&errorResponse.config.timeout.$$state.value==="cancelled"){return}sNotification.addError("MSG_ERROR_NETWORK_PROBLEMS");return}var GENERAL_ERROR_FALLBACK_KEY_PATTERN="MSG_ERROR_:statusCode";var translationKey=getGeneralErrorTranslationKey(errorResponse);var translationKeyHeading=translationKey+"_HEADING";var data=errorResponse.data;var statusCode=data.status?data.status.code:errorResponse.status;var translationKeyFallback=GENERAL_ERROR_FALLBACK_KEY_PATTERN.replace(":statusCode",statusCode);if(translationKey!==translate(translationKey)&&errorResponse.data.status){errorResponse.data.status.message=translationKey;if(translationKeyHeading!==translate(translationKeyHeading)){sNotification.showDialog(translationKeyHeading,translationKey)}else{sNotification.addError(translationKey)}}else if(translationKeyFallback!==translate(translationKeyFallback)){if(errorResponse.data.status){errorResponse.data.status.message=translationKeyFallback}sNotification.addError(translationKeyFallback)}else{$log.warn("cosHttpApiErrorInterceptor.generalErrorToKey","No translation for",translationKey,translationKeyFallback,errorResponse);sNotification.addError(data.status?data.status.message+" *":errorResponse.data+" - "+errorResponse.statusText+" *")}};return{response:function(response){return response},responseError:function(response){sNotification.removeAll();if(response.config.url.match(API_REQUEST_REGEX)&&response){try{errorsToKeys(response)}catch(err){$log.warn("cosHttpApiErrorInterceptor.responseError","Failed to translate errors",response,err)}}return $q.reject(response)}}}]);
angular.module("citizenos").factory("cosHttpApiUnauthorizedInterceptor",["$log","$q","$window","sLocation",function($log,$q,$window,sLocation){$log.debug("citizenos.factory.cosHttpApiUnauthorizedInterceptor");var API_REQUEST_REGEX=/\/api\/(?!auth\/status).*/i;return{response:function(response){return response},responseError:function(response){if(response.config.url.match(API_REQUEST_REGEX)&&response.status===401){$window.location=sLocation.getAbsoluteUrl("/account/login",null,{redirectSuccess:sLocation.getAbsoluteUrl($window.location.pathname)+$window.location.search});return $q.reject()}return $q.reject(response)}}}]);
"use strict";angular.module("citizenos").service("sActivity",["$http","$state","$stateParams","$window","$q","$log","$translate","sAuth","sLocation","ngDialog",function($http,$state,$stateParams,$window,$q,$log,$translate,sAuth,sLocation,ngDialog){var sActivity=this;sActivity.unread=0;var defaultSuccess=function(response){return response.data};var defaultError=function(response){return $q.reject(response)};var success=function(data){var result=angular.fromJson(data).data;var parsedResult=[];result.data.forEach(function(activity,key){if(activity.data){if(activity.data.type==="Create"&&!activity.data.target&&activity.data.object&&(activity.data.object["@type"]==="Vote"||Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]==="VoteOption")){result.data.splice(key,1)}else if(activity.data.type==="Update"&&Array.isArray(activity.data.result)){var i=0;var resultItems=[];if(activity.data.origin["@type"]==="Topic"){activity.data.origin.description=null}var resultObject=_.cloneDeep(activity.data.origin);activity.data.resultObject=jsonpatch.applyPatch(resultObject,activity.data.result).newDocument;activity.data.result.forEach(function(item){var field=item.path.split("/")[1];if(field==="deletedById"||field==="deletedByReportId"){item=null}else{var change=_.find(resultItems,function(resItem){return resItem.path.indexOf(field)>-1});if(!change){resultItems.push(item)}else if(item.value){if(!Array.isArray(change.value)){change.value=[change.value]}change.value.push(item.value)}}});activity.data.result=resultItems;while(i<activity.data.result.length){var act=_.cloneDeep(activity);var change=activity.data.result[i];act.data.result=[change];buildActivityString(act);act=sActivity.getActivityValues(act);parsedResult.push(act);i++}}else{buildActivityString(activity);activity=sActivity.getActivityValues(activity);parsedResult.push(activity)}}else{$log.error("Activity data missing")}});return parsedResult};var buildActivityString=function(activity){var keys=Object.keys(activity.data);var stringparts=["ACTIVITY"];if(keys.indexOf("actor")>-1){stringparts.push(activity.data.actor.type)}if(keys.indexOf("type")>-1){stringparts.push(activity.data.type)}if(keys.indexOf("object")>-1){if(Array.isArray(activity.data.object)){stringparts.push(activity.data.object[0]["@type"])}else if(activity.data.object["@type"]){stringparts.push(activity.data.object["@type"])}else{stringparts.push(activity.data.object.type)}if(activity.data.object.object){stringparts.push(activity.data.object.object["@type"])}}if(keys.indexOf("origin")>-1){if(keys.indexOf("object")>-1&&(Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]===activity.data.origin["@type"]||activity.data.object["@type"]===activity.data.origin["@type"])){}else if(Array.isArray(activity.data.origin)){stringparts.push(activity.data.origin[0]["@type"])}else{stringparts.push(activity.data.origin["@type"])}if(activity.data.object&&activity.data.object["@type"]&&activity.data.result&&activity.data.result[0].path.indexOf("level")>-1&&activity.data.result[0].value==="none"){stringparts.push("none")}}if(keys.indexOf("target")>-1){stringparts.push(activity.data.target["@type"])}if(keys.indexOf("inReplyTo")>-1){stringparts.push("IN_REPLY_TO");stringparts.push(activity.data.inReplyTo["@type"])}if(activity.data.object&&activity.data.object["@type"]&&activity.data.object["@type"]==="CommentVote"&&activity.data.type!=="Delete"){var val="up";if(activity.data.resultObject&&activity.data.resultObject.value===-1||!activity.data.resultObject&&activity.data.object.value===-1){val="down"}if(activity.data.resultObject&&activity.data.resultObject.value===0){val="remove"}stringparts.push(val)}activity.string="ACTIVITY_FEED."+stringparts.join("_").toUpperCase()};sActivity.getTopicActivities=function(topicId,offsetNr,limitNr){var path=sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/activities".replace(":topicId",topicId));return $http.get(path,{params:{offset:offsetNr,limit:limitNr}}).then(success,defaultError)};sActivity.getTopicActivitiesUnauth=function(topicId,offsetNr,limitNr){var path=sLocation.getAbsoluteUrlApi("/api/topics/:topicId/activities".replace(":topicId",topicId));return $http.get(path,{params:{offset:offsetNr,limit:limitNr}}).then(success,defaultError)};sActivity.getUnreadActivities=function(){var path=sLocation.getAbsoluteUrlApi("/api/users/self/activities/unread");return $http.get(path,{ignoreLoadingBar:true}).then(function(response){var body=response.data;sActivity.unread=body.data.count;return $q.resolve(body.data.count)},defaultError)};sActivity.getActivities=function(offsetNr,limitNr,include,filter){var path=sLocation.getAbsoluteUrlApi("/api/users/self/activities");var paramsObj={offset:offsetNr,limit:limitNr};if(include){paramsObj.include=include}if(filter){paramsObj.filter=filter}return $http.get(path,{params:paramsObj}).then(success,defaultError)};sActivity.getActivitiesUnauth=function(offsetNr,limitNr,include,filter,sourcePartnerId){var path=sLocation.getAbsoluteUrlApi("/api/activities");var paramsObj={offset:offsetNr,limit:limitNr,sourcePartnerId:sourcePartnerId};if(include){paramsObj.include=include}if(filter){paramsObj.filter=filter}return $http.get(path,{params:paramsObj}).then(success,defaultError)};var getCategoryTranslationKeys=function(catInput){if(Array.isArray(catInput)){var translationKeys=[];catInput.forEach(function(category){translationKeys.push("TXT_TOPIC_CATEGORY_"+category.toUpperCase())});return translationKeys}return"TXT_TOPIC_CATEGORY_"+catInput.toUpperCase()};sActivity.getUpdatedTranslations=function(activity){var fieldName=activity.data.result[0].path.split("/")[1];activity.values.fieldName=fieldName;var previousValue=activity.data.origin[fieldName];var newValue=activity.data.resultObject[fieldName];var previousValueKey=null;var newValueKey=null;var originType=activity.data.origin["@type"];if(originType==="Topic"||originType==="Comment"){var fieldNameKey="ACTIVITY_FEED.ACTIVITY_"+originType.toUpperCase()+"_FIELD_"+fieldName.toUpperCase();$translate(fieldNameKey).then(function(translatedField){activity.values.fieldName=translatedField})}if(Array.isArray(previousValue)&&previousValue.length===0){previousValue=""}if(previousValue||newValue){if(originType==="Topic"){if(fieldName==="status"||fieldName==="visibility"){if(previousValue){previousValueKey="ACTIVITY_FEED.ACTIVITY_TOPIC_FIELD_"+fieldName.toUpperCase()+"_"+previousValue.toUpperCase()}if(newValue){newValueKey="ACTIVITY_FEED.ACTIVITY_TOPIC_FIELD_"+fieldName.toUpperCase()+"_"+newValue.toUpperCase()}}if(fieldName==="categories"){if(previousValue){previousValueKey=getCategoryTranslationKeys(previousValue)}if(newValue){newValueKey=getCategoryTranslationKeys(newValue)}}}if(originType==="CommentVote"){if(fieldName==="value"){if(previousValue===0||previousValue){if(previousValue===1){previousValue="up"}else if(previousValue===-1){previousValue="down"}else if(previousValue===0){previousValue="remove"}previousValueKey="ACTIVITY_FEED.ACTIVITY_COMMENTVOTE_FIELD_VALUE_"+previousValue.toUpperCase()}if(newValue===0||previousValue){if(newValue===1){newValue="up"}else if(newValue===-1){newValue="down"}else if(newValue===0){newValue="remove"}newValueKey="ACTIVITY_FEED.ACTIVITY_COMMENTVOTE_FIELD_VALUE_"+newValue.toUpperCase()}}}if(originType==="Comment"){if(fieldName==="deletedReasonType"){newValueKey="ACTIVITY_FEED.ACTIVITY_COMMENT_FIELD_DELETEDREASONTYPE_"+newValue.toUpperCase()}}}if(previousValueKey){$translate(previousValueKey).then(function(prev){activity.values.previousValue=prev;if(typeof prev==="object"){activity.values.previousValue=Object.values(prev).join(";")}})}else{activity.values.previousValue=previousValue}if(newValueKey){$translate(newValueKey).then(function(newVal){activity.values.newValue=newVal;if(typeof newVal==="object"){activity.values.newValue=Object.values(newVal).join(";")}})}else{activity.values.newValue=newValue}};var getActivityTopicTitle=function(activity){var dataobject=activity.data.object&&activity.data.object.object?activity.data.object.object:activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="Topic"){return dataobject.title}else if(dataobject.topicTitle){return dataobject.topicTitle}else if(activity.data.target&&activity.data.target.title){return activity.data.target.title}else if(activity.data.target&&activity.data.target.topicTitle){return activity.data.target.topicTitle}else if(activity.data.origin&&activity.data.origin.title){return activity.data.origin.title}else if(activity.data.origin&&activity.data.origin.topicTitle){return activity.data.origin.topicTitle}};var getActivityClassName=function(activity){var dataobject=activity.data.object&&activity.data.object.object?activity.data.object.object:activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(activity.data.type==="Accept"||activity.data.type==="Invite"||activity.data.type==="Add"&&activity.data.actor.type==="User"&&activity.data.object["@type"]==="User"&&activity.data.target["@type"]==="Group"){return"invite"}else if(dataobject["@type"]==="Topic"||dataobject["@type"]==="TopicMemberUser"||dataobject["@type"]==="CommentVote"||dataobject["@type"]==="Attachment"||dataobject["@type"]==="TopicPin"||activity.data.target&&activity.data.target["@type"]===" Topic"){return"topic"}else if(dataobject["@type"]==="Group"||dataobject.groupName){return"group"}else if(dataobject["@type"]==="Vote"||dataobject["@type"]==="VoteList"||dataobject["@type"]==="VoteUserContainer"||dataobject["@type"]==="VoteOption"){return"vote"}else if(dataobject["@type"]==="Comment"||dataobject.text){return"comment"}else if(dataobject["@type"]==="User"||dataobject["@type"]==="UserConnection"||dataobject.text){return"personal"}else{return"topic"}};var getActivityDescription=function(activity){var dataobject=activity.data.object&&activity.data.object.object?activity.data.object.object:activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="Comment"||dataobject.text){return dataobject.text}if(activity.data.target&&activity.data.target["@type"]==="Comment"){return activity.data.target.text}};var getActivityGroupName=function(activity){var dataobject=activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="Group"){return dataobject.name}else if(dataobject.groupName){return dataobject.groupName}else if(activity.data.target&&activity.data.target["@type"]==="Group"){return activity.data.target.name}else if(activity.data.target&&activity.data.target.groupName){return activity.data.target.groupName}else if(activity.data.origin&&activity.data.origin["@type"]==="Group"){return activity.data.origin.name}else if(activity.data.origin&&activity.data.origin.groupName){return activity.data.origin.groupName}};var getActivityAttachmentName=function(activity){var dataobject=activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="Attachment"||dataobject.name){return dataobject.name}};var getAactivityUserConnectionName=function(activity){var dataobject=activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="UserConnection"){var key="ACTIVITY_FEED.ACTIVITY_USERCONNECTION_CONNECTION_NAME_:connectionId".replace(":connectionId",dataobject.connectionId).toUpperCase();var translation=$translate.instant(key);if(!translation||translation===key){return dataobject.connectionId.charAt(0).toUpperCase()+dataobject.connectionId.slice(1)}else{return translation}}};var getActivityUsers=function(activity,values){var dataobject=activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(activity.data.actor&&activity.data.actor.name){values.userName=activity.data.actor.name}if(dataobject["@type"]==="User"){values.userName2=dataobject.name}else if(dataobject.userName){values.userName2=dataobject.userName}else if(activity.data.target&&activity.data.target["@type"]==="User"){values.userName2=activity.data.target.name}else if(activity.data.target&&activity.data.target.userName){values.userName2=activity.data.target.userName}};var getActivityUserLevel=function(activity,values){var levelKeyPrefix="ACTIVITY_FEED.ACTIVITY_TOPIC_LEVELS_";var levelKey;if(activity.data.actor&&activity.data.actor.level){levelKey=levelKeyPrefix+activity.data.actor.level}else if(activity.data.target&&activity.data.target.level){levelKey=levelKeyPrefix+activity.data.target.level}if(levelKey&&levelKey!==levelKeyPrefix){values.accessLevel=$translate.instant(levelKey.toUpperCase())}};sActivity.getActivityValues=function(activity){var values={};if(activity.data.object){getActivityUsers(activity,values);values.topicTitle=getActivityTopicTitle(activity);values.className=getActivityClassName(activity);values.description=getActivityDescription(activity);values.groupName=getActivityGroupName(activity);values.attachmentName=getActivityAttachmentName(activity);values.connectionName=getAactivityUserConnectionName(activity);getActivityUserLevel(activity,values);var dataobject=activity.data.object;if(Array.isArray(dataobject)){dataobject=dataobject[0]}if(dataobject["@type"]==="CommentVote"&&activity.data.type==="Create"){var str="ACTIVITY_FEED.ACTIVITY_COMMENTVOTE_FIELD_VALUE_";var val="UP";if(dataobject.value===-1){val="DOWN"}else if(dataobject.value===0){val="REMOVE"}$translate(str+val).then(function(value){values.reaction=value})}}activity.values=values;if(activity.data.type==="Update"){sActivity.getUpdatedTranslations(activity)}return activity};sActivity.showActivityDescription=function(activity){if(activity.data&&activity.data.object&&(Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]==="Comment"||activity.data.object["@type"]==="Comment"||activity.data.object.text)){return true}if(activity.data&&activity.data.target&&activity.data.target["@type"]==="Comment"){return true}return false};sActivity.showActivityUpdateVersions=function(activity){if(activity.data.type==="Update"){if(activity.data.result&&(Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]==="Topic"&&activity.data.result[0].path.indexOf("description")>-1||!Array.isArray(activity.data.object)&&activity.data.object["@type"]==="Topic"&&activity.data.result[0].path.indexOf("description")>-1)){return false}if(activity.data.object["@type"]==="CommentVote"&&activity.data.type==="Update"&&activity.data.resultObject&&activity.data.resultObject.value===0){return false}if(activity.data.result&&!Array.isArray(activity.data.object)&&activity.data.object["@type"]==="TopicMemberUser"&&activity.data.result[0].path.indexOf("level")>-1&&activity.data.result[0].value==="none"){return false}return true}return false};sActivity.handleActivityRedirect=function(activity){if(!activity.data){return}var activityType=activity.data.type;var stateName="";var params={};var hash="";var object=activity.data.object&&activity.data.object.object?activity.data.object.object:activity.data.object;var target=activity.data.target;if(Array.isArray(object)){object=object[0]}console.error("activityType",activityType,activity);if(activityType==="Invite"&&target["@type"]==="User"&&object["@type"]==="Topic"){if(sAuth.user.loggedIn&&sAuth.user.id===target.id){stateName="topicsTopicIdInvitesUsers";params.topicId=object.id;params.inviteId=target.inviteId}else{stateName="topics.view";params.topicId=object.id}}else if(object["@type"]==="Topic"){stateName="topics.view";params.topicId=object.id}else if(object["@type"]==="Comment"||object["@type"]==="CommentVote"||object["@type"]==="User"&&activity.data.target&&activity.data.target["@type"]==="Topic"){if(activity.data.target){if(activity.data.target["@type"]==="Topic"||activity.data.target.topicId){stateName="topics.view";params.topicId=activity.data.target.topicId||activity.data.target.id;params.commentId=object.commentId||object.id}}}else if(object["@type"]==="Vote"||object["@type"]==="VoteList"){stateName="topics.view.votes.view";params.topicId=activity.data.target.topicId||activity.data.target.id;params.voteId=object.voteId||object.id}else if(object["@type"]==="Group"){stateName="my.groups.groupId";params.groupId=object.id}if(stateName){var link=$state.href(stateName,params);if(hash){link=link+"#"+hash}$window.location.href=link}}}]);
"use strict";app.service("sAttachment",["$http","$q","$log","cosConfig","sLocation","TopicAttachment","angularLoad",function($http,$q,$log,cosConfig,sLocation,TopicAttachment,angularLoad){var sAttachment=this;var googlePickerApiLoaded=false;var oauthToken;var createPicker=function(){return new Promise(function(resolve){var pickerCallback=function(data){if(data[google.picker.Response.ACTION]==google.picker.Action.PICKED){var doc=data[google.picker.Response.DOCUMENTS][0];var attachment={name:doc[google.picker.Document.NAME],type:doc[google.picker.Document.TYPE],source:TopicAttachment.SOURCES.googledrive,size:doc.sizeBytes||0,link:doc[google.picker.Document.URL]};return resolve(attachment)}};var picker=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCS).setOAuthToken(oauthToken).setDeveloperKey(cosConfig.attachments.googleDrive.developerKey).setCallback(pickerCallback).setOrigin(window.location.protocol+"//"+window.location.host).setSize(600,400).build();picker.setVisible(true)})};sAttachment.googleDriveSelect=function(){return new Promise(function(resolve){var onAuthApiLoad=function(){window.gapi.auth.authorize({client_id:cosConfig.attachments.googleDrive.clientId,scope:["https://www.googleapis.com/auth/drive.file"],immediate:false},function(authResult){if(authResult&&!authResult.error&&googlePickerApiLoaded){oauthToken=authResult.access_token;googlePickerApiLoaded=true;return resolve(createPicker())}return resolve()})};var onPickerApiLoad=function(){googlePickerApiLoaded=true};gapi.load("client",{callback:onAuthApiLoad});gapi.load("picker",{callback:onPickerApiLoad})}).catch(function(e){$log.error(e)})};sAttachment.dropboxSelect=function(){Dropbox.appKey=cosConfig.attachments.dropbox.appKey;return new Promise(function(resolve,reject){return Dropbox.choose({success:function(files){var attachment={name:files[0].name,type:files[0].name.split(".").pop(),source:TopicAttachment.SOURCES.dropbox,size:files[0].bytes,link:files[0].link};return resolve(attachment)},cancel:function(){reject()},linkType:"preview",multiselect:false})})};sAttachment.oneDriveSelect=function(){return new Promise(function(resolve,reject){OneDrive.open({clientId:cosConfig.attachments.oneDrive.clientId,action:"share",advanced:{redirectUri:sLocation.getAbsoluteUrl("/onedrive")},success:function(res){var attachment={name:res.value[0].name,type:res.value[0].name.split(".").pop(),source:TopicAttachment.SOURCES.onedrive,size:res.value[0].size,link:res.value[0].permissions[0].link.webUrl};resolve(attachment)},cancel:function(){},error:function(err){$log.error(err)}})})}}]);
"use strict";angular.module("citizenos").service("sAuth",["$http","$q","$log","sLocation","cosConfig",function($http,$q,$log,sLocation,cosConfig){var sAuth=this;sAuth.user={loggedIn:false,isLoading:true};var defaultSuccess=function(response){return response.data};var defaultError=function(response){return $q.reject(response)};sAuth.signUp=function(email,password,name,company,redirectSuccess){var data={email:email,password:password,name:name,company:company,redirectSuccess:redirectSuccess};var path=sLocation.getAbsoluteUrlApi("/api/auth/signup");return $http.post(path,data).then(defaultSuccess,defaultError)};sAuth.login=function(email,password){var data={email:email,password:password};var success=function(response){sAuth.user.loggedIn=true;angular.extend(sAuth.user,response.data.data)};var path=sLocation.getAbsoluteUrlApi("/api/auth/login");return $http.post(path,data).then(success,defaultError)};sAuth.loginMobiilIdInit=function(pid,phoneNumber){var data={pid:pid,phoneNumber:phoneNumber};var success=function(response){return response.data.data};var path=sLocation.getAbsoluteUrlApi("/api/auth/mobile/init");return $http.post(path,data).then(success,defaultError)};sAuth.loginMobiilIdStatus=function(token){var success=function(response){if([20002,20003].indexOf(response.data.status.code)>-1){sAuth.user.loggedIn=true;angular.extend(sAuth.user,response.data.data)}return response};var path=sLocation.getAbsoluteUrlApi("/api/auth/mobile/status");return $http.get(path,{params:{token:token}}).then(success,defaultError)};sAuth.loginSmartIdInit=function(pid,countryCode){var data={pid:pid,countryCode:countryCode};var success=function(response){return response.data.data};var path=sLocation.getAbsoluteUrlApi("/api/auth/smartid/init");return $http.post(path,data).then(success,defaultError)};sAuth.loginSmartIdStatus=function(token){var success=function(response){if([20002,20003].indexOf(response.data.status.code)>-1){sAuth.user.loggedIn=true;angular.extend(sAuth.user,response.data.data)}return response};var path=sLocation.getAbsoluteUrlApi("/api/auth/smartid/status");return $http.get(path,{params:{token:token}}).then(success,defaultError)};sAuth.loginIdCard=function(){var success=function(response){$log.debug("Auth.loginId","success");if([20002,20003].indexOf(response.data.status.code)>-1){sAuth.user.loggedIn=true;angular.extend(sAuth.user,response.data.data)}return response};return $http.get(cosConfig.features.authentication.idCard.url,{withCredentials:true}).then(function(response){if(response.data.data.token){var path=sLocation.getAbsoluteUrlApi("/api/auth/id");return $http.get(path,{params:response.data.data})}else{return response}}).then(success,defaultError)};sAuth.logout=function(){var success=function(response){angular.forEach(sAuth.user,function(value,key){if(key!=="loggedIn"){delete sAuth.user[key]}});sAuth.user.loggedIn=false;return response};var path=sLocation.getAbsoluteUrlApi("/api/auth/logout");return $http.post(path).then(success,defaultError)};sAuth.status=function(){var success=function(response){$log.debug("sAuth.status",response);angular.extend(sAuth.user,response.data.data);sAuth.user.loggedIn=true;sAuth.user.isLoading=false;return response.data.data};var error=function(response){sAuth.user.isLoading=false;return defaultError(response)};var path=sLocation.getAbsoluteUrlApi("/api/auth/status");return $http.get(path).then(success,error)};sAuth.passwordResetSend=function(email){var path=sLocation.getAbsoluteUrlApi("/api/auth/password/reset/send");return $http.post(path,{email:email}).then(defaultSuccess,defaultError)};sAuth.passwordReset=function(email,password,passwordResetCode){var path=sLocation.getAbsoluteUrlApi("/api/auth/password/reset");return $http.post(path,{email:email,password:password,passwordResetCode:passwordResetCode}).then(defaultSuccess,defaultError)};sAuth.getUrlPrefix=function(){if(sAuth.user.loggedIn){return"users"}return null};sAuth.getUrlUserId=function(){if(sAuth.user.loggedIn){return"self"}return null}}]);
angular.module("citizenos").service("sGroup",["$http","$log","$q","sLocation",function($http,$log,$q,sLocation){var sGroup=this;sGroup.list=function(){var path=sLocation.getAbsoluteUrlApi("/api/users/self/groups");return $http.get(path)};sGroup.membersList=function(groupId){var path=sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId/members",{groupId:groupId});return $http.get(path)};sGroup.topicsList=function(groupId){var path=sLocation.getAbsoluteUrlApi("/api/users/self/groups/:groupId/topics",{groupId:groupId});return $http.get(path)}}]);
"use strict";angular.module("citizenos").service("sHotkeys",["$state","$document","$log",function($state,$document,$log){var sHotkeys=this;var KEYMAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};var EVENTMAP=[];sHotkeys.keysDown=[];init();sHotkeys.add=function(keys,callback){var keysList=keys.split("+");var combo=[];for(var i=0;i<keysList.length;i++){var key=keysList[i].toLowerCase();if(_.values(KEYMAP).indexOf(key)>-1){var code=Object.keys(KEYMAP)[_.values(KEYMAP).indexOf(key)];combo.push(parseInt(code))}else{$log.error("COULD NOT ADD KEY",key);return}}EVENTMAP.push({keys:combo,callback:callback})};function keyDown(){$document.find("html").bind("keydown",function(e){if(sHotkeys.keysDown.indexOf(e.keyCode)<0){sHotkeys.keysDown.push(e.keyCode);for(var x=0;x<EVENTMAP.length;x++){if(sHotkeys.keysDown.length>=EVENTMAP[x].keys.length){var matchCount=0;var matchNeeded=EVENTMAP[x].keys.length;for(var i=0;i<sHotkeys.keysDown.length;i++){if(EVENTMAP[x].keys.indexOf(sHotkeys.keysDown[i])>-1){matchCount++;if(matchCount===matchNeeded){sHotkeys.keysDown=[];var cb=EVENTMAP[x].callback;cb()}}}}}}})}function keyUp(){$document.find("html").bind("keyup",function(e){sHotkeys.keysDown.splice(sHotkeys.keysDown.indexOf(e.keyCode,1))})}function init(){keyDown();keyUp();sHotkeys.keysDown=[];var alphabet="abcdefghijklmnopqrstuvwxyz".split("");for(var i=0;i<alphabet.length;++i){KEYMAP[alphabet[i].charCodeAt(0)-32]=alphabet[i]}for(i=1;i<20;++i){KEYMAP[111+i]="f"+i}for(i=0;i<=9;++i){KEYMAP[i+96]=i}}}]);
angular.module("citizenos").service("sLocation",["$log","$location","cosConfig",function($log,$location,cosConfig){var sLocation=this;sLocation.getBaseUrl=function(){var port;if($location.protocol()==="https"&&$location.port()!==443){port=$location.port()}if($location.protocol()==="http"&&$location.port()!==80){port=$location.port()}return $location.protocol()+"://"+$location.host()+(port?":"+port:"")};sLocation.getAbsoluteUrlApi=function(path,params,query){var baseUrlApi=cosConfig.api.baseUrl;return _getAbsoluteUrl(baseUrlApi,path,params,query)};sLocation.getAbsoluteUrl=function(path,params,query){var baseUrlApi=sLocation.getBaseUrl();return _getAbsoluteUrl(baseUrlApi,path,params,query)};sLocation.currentUrl=function(){var baseUrl=sLocation.getBaseUrl();return baseUrl+$location.url()};function _getAbsoluteUrl(baseUrl,path,params,query){if(params){Object.keys(params).forEach(function(key){path=path.replace(":"+key,params[key])})}var queryString="";if(query){Object.keys(query).forEach(function(key){queryString+=key+"="+encodeURIComponent(query[key])+"&"});if(queryString.length){queryString="?"+queryString.slice(0,-1)}}return baseUrl+path+queryString}sLocation.getLocationHash=function(){return $location.hash()}}]);
"use strict";angular.module("citizenos").service("sNotification",["$log",function($log){var sNotification=this;sNotification.levels={SUCCESS:"success",INFO:"info",ERROR:"error"};sNotification.messages={};sNotification.dialog=null;var init=function(){Object.keys(sNotification.levels).forEach(function(key){sNotification.messages[sNotification.levels[key]]=[]});sNotification.dialog=null};init();var add=function(level,key){if(sNotification.messages[level].indexOf(key)===-1){sNotification.messages[level].push(key)}};sNotification.removeAll=function(level){if(level){sNotification.messages[level]=[]}else{init()}};sNotification.addInfo=function(key){add(sNotification.levels.INFO,key)};sNotification.addError=function(key){console.log("ADD ERROR",key);add(sNotification.levels.ERROR,key)};sNotification.showDialog=function(heading,content){sNotification.dialog={heading:heading,content:content}};return sNotification}]);
"use strict";angular.module("citizenos").service("sPartner",["$http","$q","$log","sLocation","cosConfig",function($http,$q,$log,sLocation,cosConfig){$log.info("sPartner");var sPartner=this;var defaultSuccess=function(response){return response.data.data};var defaultError=function(response){return $q.reject(response)};sPartner.info=function(partnerId){var path=sLocation.getAbsoluteUrlApi("/api/partners/:partnerId").replace(":partnerId",partnerId);return $http.get(path).then(defaultSuccess,defaultError)}}]);
angular.module("citizenos").service("sSearch",["$http","$log","$q","sLocation",function($http,$log,$q,sLocation){var sSearch=this;sSearch.search=function(str){$log.debug("sSearch.search()",str);var path=sLocation.getAbsoluteUrlApi("/api/search");return $http.get(path,{params:{str:str}})};var searchV2PendingDefer;sSearch.searchV2=function(str,params){$log.debug("sSearch.searchV2()",str);var path=sLocation.getAbsoluteUrlApi("/api/v2/search");if(searchV2PendingDefer){searchV2PendingDefer.resolve("cancelled")}searchV2PendingDefer=$q.defer();return $http.get(path,{timeout:searchV2PendingDefer.promise,params:angular.extend({str:str},params)})}}]);
angular.module("citizenos").service("sTopic",["$http","$log","$q","sLocation","Topic",function($http,$log,$q,sLocation,Topic){var sTopic=this;sTopic.STATUSES=Topic.STATUSES;sTopic.VISIBILITY=Topic.VISIBILITY;sTopic.CATEGORIES=Topic.CATEGORIES;sTopic.listUnauth=function(statuses,categories,offset,limit){var path=sLocation.getAbsoluteUrlApi("/api/topics");return $http.get(path,{params:{statuses:statuses,categories:categories,offset:offset,limit:limit}})};sTopic.list=function(){var path=sLocation.getAbsoluteUrlApi("/api/users/self/topics");return $http.get(path)};sTopic.readUnauth=function(topic){var path=sLocation.getAbsoluteUrlApi("/api/topics/:topicId",{topicId:topic.id});return $http.get(path)};sTopic.create=function(topic){var path=sLocation.getAbsoluteUrlApi("/api/users/self/topics");return $http.post(path,topic)}}]);
"use strict";angular.module("citizenos").service("sTranslate",["$state","$stateParams","$translate","$log","$filter","$cookies","$q","$timeout","cosConfig","amMoment",function($state,$stateParams,$translate,$log,$filter,$cookies,$q,$timeout,cosConfig,amMoment){var sTranslate=this;sTranslate.LANGUAGES=Object.keys(cosConfig.language.list);sTranslate.currentLanguage=cosConfig.language.default;var debugLang=cosConfig.language.debug;sTranslate.setLanguage=function(language){$log.debug("sTranslate.setLanguage",language);return $q(function(resolve,reject){$translate.onReady(function(){$log.debug("sTranslate.setLanguage","onReady",language,$translate.use(),$translate.use()!==language);if(sTranslate.checkLanguageIsValid(language)&&$translate.use()!==language){sTranslate.currentLanguage=language;return resolve($translate.use(language))}return resolve($translate.use())})})};sTranslate.switchLanguage=function(language){$translate.onReady(function(){if(sTranslate.checkLanguageIsValid(language)){$stateParams.language=language;if(language==="aa"){window.location.href=$state.href($state.current.name,$stateParams)}else{$state.transitionTo($state.current.name,$stateParams)}}sTranslate.setLanguage(language)})};sTranslate.debugMode=function(){$translate.onReady(function(){if($translate.use()!==debugLang){$translate.use(debugLang)}else{$translate.use(sTranslate.currentLanguage)}})};sTranslate.checkLanguageIsValid=function(language){if(language===debugLang){return false}return sTranslate.LANGUAGES.indexOf(language)!==-1};sTranslate.getCurrentLanguage=function(){return $q(function(resolve,reject){$translate.onReady(function(){return resolve($translate.use())})})}}]);
"use strict";app.service("sUpload",["$http","$window","sLocation",function($http,$window,sLocation){var sUpload=this;sUpload.ALLOWED_FILE_TYPES=["txt","pdf","doc","docx","ddoc","bdoc","odf","odt","jpg","jpeg","img","png","rtf","xls","xlsx","ppt","pptx","pps","xlt"];sUpload.upload=function(file,folder){var path=sLocation.getAbsoluteUrlApi("/api/users/self/upload");var formData=new FormData;if(folder){formData.append("folder",folder)}formData.append("file",file);return $http({url:path,method:"POST",data:formData,headers:{"Content-Type":undefined}}).then(function(result){return result.data})};sUpload.delete=function(filepath,folder){var path=sLocation.getAbsoluteUrlApi("/api/users/self/upload");var filename=filepath.split("/").pop();return $http.delete(path,{params:{filename:filename,folder:folder}})};sUpload.download=function(topicId,attachmentId,userId){var path=sLocation.getAbsoluteUrlApi("/api/topics/:topicId/attachments/:attachmentId");if(userId){path=sLocation.getAbsoluteUrlApi("/api/users/self/topics/:topicId/attachments/:attachmentId")}path=path.replace(":topicId",topicId).replace(":attachmentId",attachmentId);$window.location.href=path+"?download=true"}}]);
"use strict";angular.module("citizenos").service("sUser",["$http","sLocation",function($http,sLocation){var sUser=this;sUser.update=function(name,email,password,company,imageUrl,language,termsVersion){var path=sLocation.getAbsoluteUrlApi("/api/users/self");var userData={name:name,email:email,company:company,imageUrl:imageUrl,language:language,termsVersion:termsVersion};if(password){userData.password=password}return $http.put(path,userData)};sUser.updateLanguage=function(language){var path=sLocation.getAbsoluteUrlApi("/api/users/self");return $http.put(path,{language:language})};sUser.updateTermsVersion=function(termsVersion){var path=sLocation.getAbsoluteUrlApi("/api/users/self");return $http.put(path,{termsVersion:termsVersion})};sUser.deleteUser=function(){var path=sLocation.getAbsoluteUrlApi("/api/users/self");return $http.delete(path)};sUser.consentsCreate=function(partnerId){var path=sLocation.getAbsoluteUrlApi("/api/users/self/consents");return $http.post(path,{partnerId:partnerId})}}]);
angular.module("citizenos").filter("cosEllipsis",function(){return function cosEllipsis(text,limit){if(!text||typeof text!=="string")return null;if(!limit){limit=128}return text.substr(0,limit)+(text.length>limit?"...":"")}});
angular.module("citizenos").filter("emailToDisplayName",function(){return function emailToDisplayName(email){if(!email||!email.indexOf("@")||email.indexOf("@")<1)return null;var displayName="";email.split("@")[0].split(/[\._-]/).forEach(function(val){displayName+=val.charAt(0).toUpperCase()+val.substr(1)+" "});return displayName.trim()}});
angular.module("citizenos").filter("wrapWithSpan",["$sanitize",function($sanitize){return function wrapWithSpan(text,value,cssClass){var valueNew='<span class=":cssClass">:value</span>'.replace(":value",$sanitize(value)).replace(":cssClass",cssClass);return text.replace(new RegExp(value,"ig"),valueNew)}}]);
angular.module("citizenos").directive("cosDisabled",["$compile","$timeout","$log",function($compile,$timeout,$log){return{restrict:"A",terminal:true,priority:599,scope:true,compile:function(tElem,tAttrs){tElem.removeAttr("cos-disabled");tElem.removeAttr("cos-disabled-tooltip");tElem.removeAttr("ng-repeat");tElem.removeAttr("ng-if");return function(scope,elem,attrs){var cosDisabled=scope.$eval(attrs.cosDisabled);var cosDisabledTooltip=attrs.cosDisabledTooltip;scope.isVisible=false;if(cosDisabledTooltip){elem.attr("tooltips","");elem.attr("tooltip-template",cosDisabledTooltip);elem.attr("tooltip-smart",true);elem.attr("tooltip-show-trigger","mouseover click");elem.attr("tooltip-show","{{isVisible}}");elem.parent().on("mouseover",function(){scope.isVisible=!scope.isVisible})}$compile(elem)(scope);var update=function(){var originalElement=elem;var tooltip;if(Node.COMMENT_NODE===elem.prop("nodeType")){tooltip=angular.element(elem[0].nextSibling);if(tooltip.prop("tagName")!=="TOOLTIP"){$log.error("cosDisabled.link","update()","A non tooltip element found where tooltip is expected!",tooltip)}}if(tooltip){originalElement=angular.element(tooltip.find("tip-cont").children())}if(!angular.isDefined(cosDisabled)||cosDisabled){originalElement.addClass("disabled");originalElement.css("pointer-events","none");originalElement.find("input").attr("disabled",true);if(originalElement[0].tagName==="INPUT"){originalElement.attr("disabled",true)}if(tooltip){tooltip.removeClass("_force-hidden")}}else{originalElement.removeClass("disabled");originalElement.css("pointer-events","auto");originalElement.find("input").removeAttr("disabled");if(originalElement[0].tagName==="INPUT"){originalElement.removeAttr("disabled")}if(tooltip){tooltip.addClass("_force-hidden")}}};var watchDerigistrationFunction=scope.$watch(function(){cosDisabled=scope.$eval(attrs.cosDisabled);return cosDisabled},function(newVal,oldVal){update()});$timeout(function(){update()});scope.$on("$destroy",function(){if(watchDerigistrationFunction){watchDerigistrationFunction()}})}}}}]);
angular.module("citizenos").directive("cosDropdown",["$document","$compile",function($document,$compile){return{restrict:"A",link:function(scope,elem,attr){var elementClickHandler=function(){elem.toggleClass("dropdown_active");elem.addClass("active_recent")};elem.on("click",elementClickHandler);var documentClickHandler=function(){if(!elem.hasClass("active_recent")){elem.removeClass("dropdown_active")}elem.removeClass("active_recent")};$document.on("click",documentClickHandler);scope.$on("$destroy",function(){elem.off("click",elementClickHandler);$document.off("click",documentClickHandler)})}}}]);
angular.module("citizenos").directive("cosEtherpad",["$window","$log",function($window,$log){return{restrict:"A",scope:{height:"@?",width:"@?"},link:function(scope,element,attrs){var $=angular.element;var minWidth;var minHeight;var valueNotPercent=function(value){return(value+"").indexOf("%")<0};if(scope.width&&valueNotPercent(scope.width)){minWidth=parseFloat(scope.width)}if(scope.height&&valueNotPercent(scope.height)){minHeight=parseFloat(scope.height)}var receiveMessageHandler=function(e){var msg=e.data;if(msg.name==="ep_resize"){var width=msg.data.width;var height=msg.data.height;if(angular.isNumber(width)&&width>minWidth){var newWidth=width+"px";if(newWidth!==element.css("width")){element.css("width",newWidth)}}if(angular.isNumber(height)&&height>minHeight){var newHeight=height+"px";if(newHeight!==element.css("height")){element.css("height",newHeight)}}}};var sendScrollMessage=_.debounce(function(){var targetWindow=element[0].contentWindow;var yOffsetExtra=0;var mobileHeader=$window.document.getElementById("mobile_header");if(mobileHeader){yOffsetExtra=parseFloat($window.getComputedStyle(mobileHeader)["height"])}var data={scroll:{top:$window.pageYOffset+yOffsetExtra,left:$window.pageXOffset},frameOffset:getFrameOffset()};targetWindow.postMessage({name:"ep_embed_floating_toolbar_scroll",data:data},"*")},100);var getFrameOffset=function(){var elem=element[0];if(!elem.getClientRects().length){return{top:0,left:0}}var rect=elem.getBoundingClientRect();var doc=elem.ownerDocument;var docElem=doc.documentElement;var win=doc.defaultView;return{top:rect.top+win.pageYOffset-docElem.clientTop,left:rect.left+win.pageXOffset-docElem.clientLeft}};$($window).on("message onmessage",receiveMessageHandler);$($window).on("scroll resize",sendScrollMessage);scope.$on("$destroy",function(){$($window).off("message onmessage",receiveMessageHandler);$($window).off("scroll resize",sendScrollMessage)})}}}]);
angular.module("citizenos").directive("cosInitials",["$log",function($log){return{restrict:"A",scope:{cosInitials:"="},template:"{{initials}}",link:function(scope,elem,attrs){var updateInitials=function(){if(!scope.cosInitials||!scope.cosInitials.length){scope.initials="";return}var parts=scope.cosInitials.split(/\s+/);if(parts.length===1){scope.initials=parts[0][0].toUpperCase()}else{scope.initials=parts[0][0].toUpperCase()+parts.pop()[0].toUpperCase()}};var unregisterWatch=scope.$watch(function(){return scope.cosInitials},function(){updateInitials()});elem.on("$destroy",function(){unregisterWatch()})}}}]);
angular.module("citizenos").directive("cosInput",function(){return{restrict:"A",replace:true,template:'<div class="input_wrap"><input ng-model="item"></div>',scope:{item:"=cosInput"}}});
angular.module("citizenos").directive("cosModal",["$compile",function($compile){return{restrict:"A",transclude:true,require:"cosModalLink",template:"<div ng-transclude></div>",replace:true,scope:{template:"@",save:"&",model:"=ngModel",cosModalTitle:"=",cosModalDescription:"=?"},controller:["$scope","$templateCache","$element",function($scope,$templateCache,$element){$scope.cosModalValue=$scope.model;if(!$scope.template){$scope.template="/views/directives/cos_modal.html"}$scope.dialog=null;this.setLink=function(link){$element.append(link)};this.setModalContent=function(content){$scope.content=content};$scope.cosModalSaveAction=function(){if($element.parent().html().indexOf("cos-toggle")>-1&&$scope.cosToggleStatus()===true){if(typeof $scope.cosModalValue==="number"){$scope.cosModalValue=0}else{$scope.cosModalValue=null}}$scope.model=$scope.cosModalValue;$scope.save();$scope.cosModalClose()};$scope.cosModalClose=function(){$scope.cosModalValue=$scope.model;$scope.dialog.remove()};this.modalOpen=function(){$scope.cosModalOpen()};$scope.cosModalOpen=function(){var template=$templateCache.get($scope.template);$scope.dialog=$compile(template)($scope);var dialogDivs=$scope.dialog.find("div");for(var i=0;i<dialogDivs.length;i++){if(angular.element(dialogDivs[i]).hasClass("cos_modal_content")){angular.element(dialogDivs[i]).replaceWith($compile($scope.content)($scope))}}$element.parent().append($scope.dialog)}}]}}]);angular.module("citizenos").directive("cosModalLink",function(){return{require:"^cosModal",link:function(scope,element,attrs,controller){element.off();element.on("click",function(e){scope.$apply(function(){controller.modalOpen()})});controller.setLink(element)}}});angular.module("citizenos").directive("cosModalContent",function(){return{require:"^cosModal",link:function(scope,element,attrs,controller){var content=angular.copy(element);controller.setModalContent(content[0].innerHTML);element.remove()}}});
angular.module("citizenos").directive("cosModalDatepicker",["$log","$compile","$templateCache","$timeout",function($log,$compile,$templateCache,$timeout){return{restrict:"A",transclude:true,template:'<div ng-transclude ng-click="cosModalOpen()"></div>',scope:{model:"=ngModel",cosModalOnSave:"&",cosModalTitle:"=?",cosModalDescription:"=?"},controller:["$scope","$element","$document","$translate",function($scope,$element,$document,$translate){$log.debug("cosModalDatepicker.controller",arguments);console.log("ON SAVE",$scope.cosModalOnSave);console.log("MODEL",$scope.model);$translate($scope.cosModalDescription).then(function(newVal){$scope.cosModalDescription=newVal});$translate($scope.cosModalTitle).then(function(newVal){$scope.cosModalTitle=newVal});$scope.cosModelValue=$scope.model?$scope.model:new Date;$scope.cosModalIsDateSelected=!!$scope.cosModelValue;$scope.datePickerMin=new Date;$scope.isModalVisible=false;$scope.cosModalOpen=function(){$scope.isModalVisible=true};$scope.cosModalClose=function(){$scope.isModalVisible=false};$scope.cosModalSaveAction=function(){$scope.model=$scope.cosModalIsDateSelected?$scope.cosModelValue.add(1,"day").subtract(1,"ms"):null;$timeout(function(){$scope.cosModalOnSave()().then(function(){$scope.cosModalClose()})})}}],link:function(scope,element,attrs){$log.debug("cosModalDatepicker.link",arguments);var $dialog;var showModal=function(){var template=$templateCache.get("/views/directives/cos_modal_datepicker.html");$dialog=$compile(template)(scope);angular.element(document.body).append($dialog)};var hideModal=function(){$dialog.remove()};scope.$watch(function(){return scope.isModalVisible},function(newVal,oldVal){if(newVal===oldVal)return;if(newVal){showModal()}else{hideModal()}})}}}]);
"use strict";angular.module("citizenos").directive("cosPagination",[function(){return{restrict:"A",replace:false,template:'             <div class="pagination" ng-if="totalPages > 1">                 <div class="pagination_items_wrap">                     <div class="page_button button_prev table_cell" ng-click="loadPrevious()"></div>                     <div class="page_button table_cell" ng-repeat="x in pages()" ng-click="select(x)" ng-class="{\'active\': x === page }">{{x}}</div>                     <div class="page_button button_next table_cell" ng-click="loadNext()"></div>                 </div>             </div>             ',scope:{totalPages:"=?",page:"=?",select:"=?"},controller:["$scope",function($scope){$scope.pages=function(){var array=[];if($scope.totalPages<=5){for(var i=1;i<=$scope.totalPages;i++){array.push(i)}}else if($scope.page<4){for(var i=1;i<6;i++){array.push(i)}}else if($scope.totalPages-$scope.page>=2){for(var i=-2;i<3;i++){array.push($scope.page+i)}}else{for(var i=-4;i<1;i++){array.push($scope.totalPages+i)}}return array};$scope.loadNext=function(){if($scope.page===$scope.totalPages){return}$scope.select($scope.page+1)};$scope.loadPrevious=function(){if($scope.page===1){return}$scope.select($scope.page-1)}}]}}]);
angular.module("citizenos").directive("required",["$timeout",function($timeout){return{restrict:"A",link:function(scope,elem,attrs){if(attrs.placeholder){$timeout(function(){elem.attr("placeholder",attrs.placeholder+" *")})}}}}]);
angular.module("citizenos").directive("cosResize",["$window","$rootScope",function($window,$rootScope){return function(scope,element){var w=angular.element($window);scope.getWindowDimensions=function(){return{w:window.innerWidth}};scope.$watch(scope.getWindowDimensions,function(newValue,oldValue){$rootScope.wWidth=newValue.w;if($rootScope.wWidth>1024){scope.app.showNav=false}},true);w.bind("resize",function(){scope.$apply()})}}]);
"use strict";angular.module("citizenos").directive("cosScroll",["$timeout",function($timeout){return{scope:{onScroll:"="},link:function(scope,elem,attrs){var definedAction=function(){if(scope.onScroll){return scope.onScroll()}};var scrollFunc=_.debounce(definedAction,100);elem.on("scroll",function(e){if(elem[0].scrollTop+elem[0].offsetHeight>=elem[0].scrollHeight){scrollFunc()}})}}}]);
"use strict";angular.module("citizenos").directive("cosStyles",["$timeout",function($timeout){return{replace:false,link:function(scope,elem,attrs){scope.$watch(attrs.cosStyles,function(newValue,oldValue){var styles=JSON.parse(attrs.cosStyles);if(typeof styles==="object"){var keys=Object.keys(styles);keys.forEach(function(prop){elem[0].style[prop]=styles[prop]})}})}}}]);
angular.module("citizenos").directive("cosToggle",[function(){return{restrict:"A",replace:false,template:'             <div class="toggle_cell" >                 <div class="toggle_widget text_on" ng-click="cosToggle()" ng-class="enabled ? \'on\' : \'off\'">                     <div class="toggle_circle"></div>                      <div class="toggle_text" ng-if="cosToggleTextOff && !enabled">                         <div class="table_cell">{{cosToggleTextOff}}</div>                     </div>                     <div class="toggle_text" ng-if="cosToggleTextOn && enabled">                         <div class="table_cell">{{cosToggleTextOn}}</div>                     </div>                 </div>             </div>             ',scope:{model:"=ngModel",value:"=?ngValue",offvalue:"=?offValue",cosToggleTextOn:"=?",cosToggleTextOff:"=?",cosToggleDatepickerToggle:"=?"},controller:["$scope","$element",function($scope,$element){$scope.enabled=false;if(!$scope.value){$scope.enabled=$scope.model}if($scope.value&&$scope.model===$scope.value){$scope.enabled=true}$scope.cosToggle=function(){if($scope.value){if($scope.model===$scope.value&&$scope.offvalue){$scope.model=$scope.offvalue}else{$scope.model=$scope.value}}else{$scope.model=!$scope.model}};$scope.switch=function(){if($scope.value&&$scope.model===$scope.value){$scope.enabled=true}else if($scope.value&&$scope.model!=$scope.value){$scope.enabled=false}else{$scope.enabled=!$scope.enabled}};$scope.$watch(function(scope){return scope.model},function(newValue,oldValue){if($scope.cosToggleDatepickerToggle&&(oldValue===true&&angular.isDate(newValue)||newValue instanceof moment)){}else if(newValue!=oldValue){$scope.switch()}})}]}}]);
angular.module("citizenos").directive("slideController",["$timeout","$swipe","$rootScope","$window","$parse",function($timeout,$swipe,$rootScope,$window){return{restrict:"EA",scope:{startSlideAt:"@",identifier:"@",class:"@"},link:function(scope,element,attrs){var getElementStyle=function(element){return $window.getComputedStyle(element[0],null)};var getElementWidth=function(element){return Number($window.getComputedStyle(element[0],null).width.replace("px",""))};var getElementMarginLeft=function(element){return Number($window.getComputedStyle(element[0],null)["margin-left"].replace("px",""))};var getElementPaddingLeft=function(element){return Number($window.getComputedStyle(element[0],null)["padding-left"].replace("px",""))};var getElementMaxDistanceLeft=function(element){return(getElementMarginLeft(element)+getElementWidth(element))*-1+$rootScope.wWidth-getElementPaddingLeft(element)};element.ready(function(){var startX,target_position,last_element_position,element_drag_speed,stop_position,ease_animation,new_element_position;var element_style=getElementStyle(element);var element_width=getElementWidth(element);var element_max_distance_left=getElementMaxDistanceLeft(element);var speeding_ticket;$swipe.bind(element,{start:function(coords){startX=coords.x;clearInterval(ease_animation);last_element_position=element_style["margin-left"].replace("px","");speeding_ticket=setInterval(function(){new_element_position=element_style["margin-left"].replace("px","");element_drag_speed=Math.abs(last_element_position-new_element_position);if(element_drag_speed>8){element_drag_speed=8}if(last_element_position-new_element_position>=0){element_drag_speed*=-1}last_element_position=element_style["margin-left"].replace("px","")},20)},move:function(coords){if(element_width>=$rootScope.wWidth){var delta=coords.x-startX;var element_position_current=getElementMarginLeft(element)+delta;if(element_position_current>element_max_distance_left&&element_position_current<0){target_position=element_position_current}else if(element_position_current<element_max_distance_left&&element_position_current<0){target_position=element_max_distance_left}else if(element_position_current>0){target_position=0}element[0].style.marginLeft=target_position+"px"}},end:function(coords){clearInterval(speeding_ticket);var elementX_current_position=Number(element_style["margin-left"].replace("px",""));if(element_drag_speed!=0&&elementX_current_position!=0&&elementX_current_position!=element_max_distance_left){ease_animation=setInterval(function(){element_drag_speed=element_drag_speed/1.1;elementX_current_position=Number(element_style["margin-left"].replace("px",""))+element_drag_speed;if(Math.abs(element_drag_speed)<.1){clearInterval(ease_animation)}else if(elementX_current_position<element_max_distance_left&&elementX_current_position<0){stop_position=element_max_distance_left;clearInterval(ease_animation)}else if(elementX_current_position>0){stop_position=0;clearInterval(ease_animation)}else{stop_position=elementX_current_position}element[0].style.marginLeft=stop_position+"px"},10)}},cancel:function(coords){clearInterval(speeding_ticket)}});var onWindowResize=function(){element[0].style.marginLeft="0px";element_max_distance_left=getElementMaxDistanceLeft(element)};var window=angular.element($window);window.bind("resize",onWindowResize);scope.$on("$destroy",function(){window.unbind("resize",onWindowResize)})})}}}]);angular.module("citizenos").directive("dimensions",["$timeout","$rootScope",function($timeout,$rootScope){$rootScope.tabLength=0;return{link:function(scope,elem){$timeout(function(){if($rootScope.tabLength<elem[0].offsetWidth){$rootScope.tabLength=elem[0].offsetWidth}$rootScope.tabFinalLength=$rootScope.tabLength+2;var numberOfElements=scope.$index+1;$rootScope.tabsTrainWidth=($rootScope.tabFinalLength+10)*numberOfElements;$rootScope.tabsVisibleAreaWidth=elem[0].parentElement.parentElement.parentElement.offsetWidth;if($rootScope.tabsTrainWidth>$rootScope.tabsVisibleAreaWidth){$rootScope.trainPosition=-$rootScope.tabsTrainWidth+$rootScope.tabsVisibleAreaWidth-10;if($rootScope.wWidth<=1024){var halfVariable=($rootScope.tabsVisibleAreaWidth/($rootScope.tabFinalLength+10)%1).toFixed(2);if(halfVariable<.18||halfVariable>.8){$rootScope.trainPosition-=50}}}},0)}}}]);angular.module("citizenos").controller("buttonsSlider",["$scope","$rootScope",function($scope,$rootScope){$scope.moveLeft=function(){if($scope.trainPosition<-$scope.tabFinalLength){$scope.trainPosition+=$scope.tabFinalLength}else{$scope.trainPosition=0}};$scope.moveRight=function(){if($scope.trainPosition>-$scope.tabsTrainWidth+$scope.tabsVisibleAreaWidth-10){$scope.trainPosition-=$scope.tabFinalLength}if($scope.trainPosition<-$scope.tabsTrainWidth+$scope.tabsVisibleAreaWidth-10){$scope.trainPosition=-$scope.tabsTrainWidth+$scope.tabsVisibleAreaWidth-10}}}]);angular.module("citizenos").directive("checkHeight",["$timeout",function($timeout){return{scope:true,link:function(scope,el,attrs){$timeout(function(){$timeout(init,false)});function init(){scope.offsetHeight=el[0].offsetHeight;scope.readMore=false;scope.maxTextHeight=200}}}}]);
"use strict";(function(angular){var Module=angular.module("datePicker",[]);Module.constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5});Module.filter("mFormat",function(){return function(m,format,tz){if(!moment.isMoment(m)){return moment(m).format(format)}return tz?moment.tz(m,tz).format(format):m.format(format)}});Module.directive("datePicker",["datePickerConfig","datePickerUtils",function datePickerDirective(datePickerConfig,datePickerUtils){return{require:"?ngModel",template:'<div ng-include="template"></div>',scope:{model:"=datePicker",minDate:"=?",maxDate:"=?"},link:function(scope,element,attrs,ngModel){function prepareViews(){scope.views=datePickerConfig.views.concat();scope.view=attrs.view||datePickerConfig.view;scope.views=scope.views.slice(scope.views.indexOf(attrs.maxView||"year"),scope.views.indexOf(attrs.minView||"minutes")+1);if(scope.views.length===1||scope.views.indexOf(scope.view)===-1){scope.view=scope.views[0]}}function getDate(name){return datePickerUtils.getDate(scope,attrs,name)}datePickerUtils.setParams(attrs.timezone);var arrowClick=false,tz=scope.tz=attrs.timezone,createMoment=datePickerUtils.createMoment,eventIsForPicker=datePickerUtils.eventIsForPicker,step=parseInt(attrs.step||datePickerConfig.step,10),partial=!!attrs.partial,minDate=getDate("minDate"),maxDate=getDate("maxDate"),pickerID=element[0].id,now=scope.now=createMoment(),selected=scope.date=createMoment(scope.model||now),autoclose=attrs.autoClose==="true";if(!scope.model){selected.minute(Math.ceil(selected.minute()/step)*step).second(0)}scope.template=attrs.template||datePickerConfig.template;scope.watchDirectChanges=attrs.watchDirectChanges!==undefined;scope.callbackOnSetDate=attrs.dateChange?datePickerUtils.findFunction(scope,attrs.dateChange):undefined;prepareViews();scope.setView=function(nextView){if(scope.views.indexOf(nextView)!==-1){scope.view=nextView}};scope.selectDate=function(date){if(attrs.disabled){return false}if(isSame(scope.date,date)){date=scope.date}date=clipDate(date);if(!date){return false}scope.date=date;var nextView=scope.views[scope.views.indexOf(scope.view)+1];if(!nextView||partial||scope.model){setDate(date)}if(nextView){scope.setView(nextView)}else if(autoclose){element.addClass("hidden");scope.$emit("hidePicker")}else{prepareViewData()}};function setDate(date){if(date){scope.model=date;if(ngModel){ngModel.$setViewValue(date)}}scope.$emit("setDate",scope.model,scope.view);if(scope.callbackOnSetDate){scope.callbackOnSetDate(attrs.datePicker,scope.date)}}function update(){var view=scope.view;datePickerUtils.setParams(tz);if(scope.model&&!arrowClick){scope.date=createMoment(scope.model);arrowClick=false}var date=scope.date;switch(view){case"year":scope.years=datePickerUtils.getVisibleYears(date);break;case"month":scope.months=datePickerUtils.getVisibleMonths(date);break;case"date":scope.weekdays=scope.weekdays||datePickerUtils.getDaysOfWeek();scope.weeks=datePickerUtils.getVisibleWeeks(date);break;case"hours":scope.hours=datePickerUtils.getVisibleHours(date);break;case"minutes":scope.minutes=datePickerUtils.getVisibleMinutes(date,step);break}prepareViewData()}function watch(){if(scope.view!=="date"){return scope.view}return scope.date?scope.date.month():null}scope.$watch(watch,update);if(scope.watchDirectChanges){scope.$watch("model",function(){arrowClick=false;update()})}function prepareViewData(){var view=scope.view,date=scope.date,classes=[],classList="",i,j;datePickerUtils.setParams(tz);if(view==="date"){var weeks=scope.weeks,week;for(i=0;i<weeks.length;i++){week=weeks[i];classes.push([]);for(j=0;j<week.length;j++){classList="";if(datePickerUtils.isSameDay(date,week[j])){classList+="selected"}if(isNow(week[j],view)){classList+=" now"}if(week[j].month()!==date.month()||!inValidRange(week[j])){classList+=" disabled"}classes[i].push(classList)}}}else{var params=datePickerConfig.viewConfig[view],dates=scope[params[0]],compareFunc=params[1];for(i=0;i<dates.length;i++){classList="";if(datePickerUtils[compareFunc](date,dates[i])){classList+="selected"}if(isNow(dates[i],view)){classList+=" now"}if(!inValidRange(dates[i])){classList+=" disabled"}classes.push(classList)}}scope.classes=classes}scope.next=function(delta){var date=moment(scope.date);delta=delta||1;switch(scope.view){case"year":case"month":date.year(date.year()+delta);break;case"date":date.month(date.month()+delta);break;case"hours":case"minutes":date.hours(date.hours()+delta);break}date=clipDate(date);if(date){scope.date=date;setDate(date);arrowClick=true;update()}};function inValidRange(date){var valid=true;if(minDate&&minDate.isAfter(date)){valid=isSame(minDate,date)}if(maxDate&&maxDate.isBefore(date)){valid&=isSame(maxDate,date)}return valid}function isSame(date1,date2){return date1.isSame(date2,datePickerConfig.momentNames[scope.view])?true:false}function clipDate(date){if(minDate&&minDate.isAfter(date)){return minDate}else if(maxDate&&maxDate.isBefore(date)){return maxDate}else{return date}}function isNow(date,view){var is=true;switch(view){case"minutes":is&=~~(now.minutes()/step)===~~(date.minutes()/step);case"hours":is&=now.hours()===date.hours();case"date":is&=now.date()===date.date();case"month":is&=now.month()===date.month();case"year":is&=now.year()===date.year()}return is}scope.prev=function(delta){return scope.next(-delta||-1)};if(pickerID){scope.$on("pickerUpdate",function(event,pickerIDs,data){if(eventIsForPicker(pickerIDs,pickerID)){var updateViews=false,updateViewData=false;if(angular.isDefined(data.minDate)){minDate=data.minDate?data.minDate:false;updateViewData=true}if(angular.isDefined(data.maxDate)){maxDate=data.maxDate?data.maxDate:false;updateViewData=true}if(angular.isDefined(data.minView)){attrs.minView=data.minView;updateViews=true}if(angular.isDefined(data.maxView)){attrs.maxView=data.maxView;updateViews=true}attrs.view=data.view||attrs.view;if(updateViews){prepareViews()}if(updateViewData){update()}}})}}}}]);angular.module("datePicker").factory("datePickerUtils",function(){var tz;var createNewDate=function(year,month,day,hour,minute){var utc=Date.UTC(year|0,month|0,day|0,hour|0,minute|0);return tz?moment.tz(utc,tz):moment(utc)};return{getVisibleMinutes:function(m,step){var year=m.year(),month=m.month(),day=m.date(),hour=m.hours(),pushedDate,offset=m.utcOffset()/60,minutes=[],minute;for(minute=0;minute<60;minute+=step){pushedDate=createNewDate(year,month,day,hour-offset,minute);minutes.push(pushedDate)}return minutes},getVisibleWeeks:function(m){m=moment(m);var startYear=m.year(),startMonth=m.month();m.date(1);var day=m.day();if(day===0){m.date(-6)}else{m.date(1-day)}var weeks=[];while(weeks.length<6){if(m.year()===startYear&&m.month()>startMonth){break}weeks.push(this.getDaysOfWeek(m));m.add(7,"d")}return weeks},getVisibleYears:function(d){var m=moment(d),year=m.year();m.year(year-year%10);year=m.year();var offset=m.utcOffset()/60,years=[],pushedDate,actualOffset;for(var i=0;i<12;i++){pushedDate=createNewDate(year,0,1,0-offset);actualOffset=pushedDate.utcOffset()/60;if(actualOffset!==offset){pushedDate=createNewDate(year,0,1,0-actualOffset);offset=actualOffset}years.push(pushedDate);year++}return years},getDaysOfWeek:function(m){m=m?m:tz?moment.tz(tz).day(0):moment().day(0);var year=m.year(),month=m.month(),day=m.date(),days=[],pushedDate,offset=m.utcOffset()/60,actualOffset;for(var i=0;i<7;i++){pushedDate=createNewDate(year,month,day,0-offset,0,false);actualOffset=pushedDate.utcOffset()/60;if(actualOffset!==offset){pushedDate=createNewDate(year,month,day,0-actualOffset,0,false)}days.push(pushedDate);day++}return days},getVisibleMonths:function(m){var year=m.year(),offset=m.utcOffset()/60,months=[],pushedDate,actualOffset;for(var month=0;month<12;month++){pushedDate=createNewDate(year,month,1,0-offset,0,false);actualOffset=pushedDate.utcOffset()/60;if(actualOffset!==offset){pushedDate=createNewDate(year,month,1,0-actualOffset,0,false)}months.push(pushedDate)}return months},getVisibleHours:function(m){var year=m.year(),month=m.month(),day=m.date(),hours=[],hour,pushedDate,actualOffset,offset=m.utcOffset()/60;for(hour=0;hour<24;hour++){pushedDate=createNewDate(year,month,day,hour-offset,0,false);actualOffset=pushedDate.utcOffset()/60;if(actualOffset!==offset){pushedDate=createNewDate(year,month,day,hour-actualOffset,0,false)}hours.push(pushedDate)}return hours},isAfter:function(model,date){return model&&model.unix()>=date.unix()},isBefore:function(model,date){return model.unix()<=date.unix()},isSameYear:function(model,date){return model&&model.year()===date.year()},isSameMonth:function(model,date){return this.isSameYear(model,date)&&model.month()===date.month()},isSameDay:function(model,date){return this.isSameMonth(model,date)&&model.date()===date.date()},isSameHour:function(model,date){return this.isSameDay(model,date)&&model.hours()===date.hours()},isSameMinutes:function(model,date){return this.isSameHour(model,date)&&model.minutes()===date.minutes()},setParams:function(zone){tz=zone},findFunction:function(scope,name){var parentScope=scope;do{parentScope=parentScope.$parent;if(angular.isFunction(parentScope[name])){return parentScope[name]}}while(parentScope.$parent);return false},findParam:function(scope,name){var parentScope=scope;do{parentScope=parentScope.$parent;if(parentScope[name]){return parentScope[name]}}while(parentScope.$parent);return false},createMoment:function(m){if(tz){return moment.tz(m,tz)}else{return moment.isMoment(m)?moment.unix(m.unix()):moment(m)}},getDate:function(scope,attrs,name){var result=false;if(scope[name]){result=this.createMoment(scope[name]);if(!result.isValid()){result=false}}return result},eventIsForPicker:function(targetIDs,pickerID){return angular.isArray(targetIDs)&&targetIDs.indexOf(pickerID)>-1||targetIDs===pickerID}}});var Module=angular.module("datePicker");var PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty";var Module=angular.module("datePicker");Module.constant("dateTimeConfig",{template:function(attrs,id){return""+"<div "+(id?'id="'+id+'" ':"")+'date-picker="'+attrs.ngModel+'" '+(attrs.view?'view="'+attrs.view+'" ':"")+(attrs.maxView?'max-view="'+attrs.maxView+'" ':"")+(attrs.maxDate?'max-date="'+attrs.maxDate+'" ':"")+(attrs.autoClose?'auto-close="'+attrs.autoClose+'" ':"")+(attrs.template?'template="'+attrs.template+'" ':"")+(attrs.minView?'min-view="'+attrs.minView+'" ':"")+(attrs.minDate?'min-date="'+attrs.minDate+'" ':"")+(attrs.partial?'partial="'+attrs.partial+'" ':"")+(attrs.step?'step="'+attrs.step+'" ':"")+(attrs.onSetDate?'date-change="'+attrs.onSetDate+'" ':"")+(attrs.ngModel?'ng-model="'+attrs.ngModel+'" ':"")+(attrs.timezone?'timezone="'+attrs.timezone+'" ':"")+'class="date-picker-date-time"></div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:false,position:"relative"});Module.directive("dateTimeAppend",function(){return{link:function(scope,element){element.bind("click",function(){element.find("input")[0].focus()})}}})})(angular);
"use strict";angular.module("citizenos").controller("LoginEsteIdFormCtrl",["$scope","$log","$state","$window","$timeout","ngDialog","sLocation","sAuth",function($scope,$log,$state,$window,$timeout,ngDialog,sLocation,sAuth){$log.debug("LoginEsteIdFormCtrl");var init=function(){$scope.formMobile={phoneNumber:null,pid:null,challengeID:null,isLoading:false};$scope.isLoadingIdCard=false};init();$scope.doLoginMobiilId=function(){$log.debug("LoginEsteIdFormCtrl.doLoginMobiilId()");$scope.formMobile.isLoading=true;sAuth.loginMobiilIdInit($scope.formMobile.pid,$scope.formMobile.phoneNumber).then(function(loginMobileIdInitResult){$scope.formMobile.challengeID=loginMobileIdInitResult.challengeID;var token=loginMobileIdInitResult.token;return pollMobiilIdLoginStatus(token,3e3,80)}).then(function(){handleLoginSuccess()},function(err){$log.error("Something failed when trying to log in with mobile",err);$scope.formMobile.isLoading=false;$scope.formMobile.challengeID=null})};$scope.doLoginIdCard=function(){$log.debug("LoginEsteIdFormCtrl.doLoginIdCard()");$scope.isLoadingIdCard=true;sAuth.loginIdCard().then(function(){handleLoginSuccess()},function(err){$log.error("Something failed when trying to log in with card",err);$scope.isLoadingIdCard=false})};var handleLoginSuccess=function(){if($state.is("partners.consent")||$state.is("partners.login")){return $window.location.href=sLocation.getAbsoluteUrlApi("/api/auth/openid/authorize")}else{if($state.params&&$state.params.redirectSuccess){return $window.location.href=$state.params.redirectSuccess}else{$window.location.reload()}}};var pollMobiilIdLoginStatus=function(token,milliseconds,retry){if(!retry)retry=80;if(!retry--)throw new Error("Too many retries");return $timeout(function(){return sAuth.loginMobiilIdStatus(token).then(function(response){var statusCode=response.data.status.code;switch(statusCode){case 20001:return $timeout(function(){return pollMobiilIdLoginStatus(token,milliseconds,retry)},milliseconds,false);case 20002:return;case 20003:return;default:$log.error("Mobile login failed",response);return $q.defer().reject(response)}})},milliseconds,false)}}]);
"use strict";angular.module("citizenos").controller("LoginFormCtrl",["$scope","$log","$state","$stateParams","$window","$document","$interval","ngDialog","sAuth","sLocation","sNotification",function($scope,$log,$state,$stateParams,$window,$document,$interval,ngDialog,sAuth,sLocation,sNotification){$log.debug("LoginFormCtrl");$scope.LOGIN_PARTNERS={facebook:"facebook",google:"google"};var init=function(){$scope.form={email:null,password:null};$scope.app.showNav=false};init();angular.extend($scope.form,$stateParams,$scope.$parent.ngDialogData);var popupCenter=function(url,title,w,h){var userAgent=navigator.userAgent,mobile=function(){return/\b(iPhone|iP[ao]d)/.test(userAgent)||/\b(iP[ao]d)/.test(userAgent)||/Android/i.test(userAgent)||/Mobile/i.test(userAgent)},screenX=typeof window.screenX!="undefined"?window.screenX:window.screenLeft,screenY=typeof window.screenY!="undefined"?window.screenY:window.screenTop,outerWidth=typeof window.outerWidth!="undefined"?window.outerWidth:document.documentElement.clientWidth,outerHeight=typeof window.outerHeight!="undefined"?window.outerHeight:document.documentElement.clientHeight-22,targetWidth=mobile()?null:w,targetHeight=mobile()?null:h,V=screenX<0?window.screen.width+screenX:screenX,left=parseInt(V+(outerWidth-targetWidth)/2,10),right=parseInt(screenY+(outerHeight-targetHeight)/2.5,10),features=[];if(targetWidth!==null){features.push("width="+targetWidth)}if(targetHeight!==null){features.push("height="+targetHeight)}features.push("left="+left);features.push("top="+right);features.push("scrollbars=1");var newWindow=window.open(url,title,features.join(","));if(window.focus){newWindow.focus()}return newWindow};$scope.doLogin=function(){$log.debug("LoginFormCtrl.doLogin()");$scope.errors=null;var success=function(response){if($state.is("partners.consent")||$state.is("partners.login")){return $window.location.href=sLocation.getAbsoluteUrlApi("/api/auth/openid/authorize")}else{if($stateParams.redirectSuccess){$window.location.href=$stateParams.redirectSuccess}else{$window.location.reload()}}};var error=function(response){var status=response.data.status;switch(status.code){case 40001:ngDialog.open({template:"/views/modals/sign_up.html",data:$scope.form,scope:$scope});break;default:$scope.errors=response.data.errors}};sAuth.login($scope.form.email,$scope.form.password).then(success,error)};$scope.doLoginPartner=function(partnerId){if($state.includes("widgets")){$scope.doLoginPartnerPopup(partnerId)}else{$scope.doLoginPartnerNoPopup(partnerId)}};$scope.doLoginPartnerPopup=function(partnerId){if(_.values($scope.LOGIN_PARTNERS).indexOf(partnerId)<0){throw new Error("LoginFormCtrl.doLoginPartner()","Invalid parameter for partnerId",partnerId)}var url=sLocation.getAbsoluteUrlApi("/api/auth/:partnerId",{partnerId:partnerId},{redirectSuccess:sLocation.getAbsoluteUrl("/auth/callback"),display:"popup"});var redirectSuccess=$stateParams.redirectSuccess||sLocation.currentUrl();var loginWindow=popupCenter(url,"CitizenOS Partner Login",470,500);if($document[0].documentMode||$window.navigator.userAgent.indexOf("Edge")>-1){var popupCheck=$interval(function(){if(loginWindow.closed){$interval.cancel(popupCheck);$window.focus();sAuth.status().then(function(user){if(user){$window.location.href=redirectSuccess}})}},250)}var messageHandler=function(message){loginWindow.close();$window.focus();$window.location.href=redirectSuccess};$window.addEventListener("message",messageHandler,false)};$scope.doLoginPartnerNoPopup=function(partnerId){if(_.values($scope.LOGIN_PARTNERS).indexOf(partnerId)<0){throw new Error("LoginFormCtrl.doLoginPartner()","Invalid parameter for partnerId",partnerId)}var url=sLocation.getAbsoluteUrlApi("/api/auth/:partnerId",{partnerId:partnerId});if($stateParams.redirectSuccess){url+="?redirectSuccess="+encodeURIComponent($stateParams.redirectSuccess)}else{var redirectSuccess=sLocation.currentUrl();url+="?redirectSuccess="+redirectSuccess+"?"}$window.location.href=url};$scope.doLoginEsteId=function(){ngDialog.open({template:"/views/modals/login_esteid.html",scope:$scope})};$scope.doLoginSmartId=function(){ngDialog.open({template:"/views/modals/login_smartid.html",scope:$scope})};$scope.doResetPassword=function(){ngDialog.open({template:"/views/modals/password_forgot.html",scope:$scope})}}]);
"use strict";angular.module("citizenos").controller("LoginSmartIdFormCtrl",["$scope","$log","$state","$window","$timeout","ngDialog","sLocation","sAuth",function($scope,$log,$state,$window,$timeout,ngDialog,sLocation,sAuth){$log.debug("LoginSmartIdFormCtrl");var init=function(){$scope.formSmartId={pid:null,countryCode:"EE",challengeID:null,isLoading:false};$scope.isLoadingIdCard=false};init();$scope.doLoginSmartId=function(){$log.debug("LoginEsteIdFormCtrl.doLoginMobiilId()");$scope.formSmartId.isLoading=true;sAuth.loginSmartIdInit($scope.formSmartId.pid,$scope.formSmartId.countryCode).then(function(loginSmartIdInitResult){$scope.formSmartId.challengeID=loginSmartIdInitResult.challengeID;var token=loginSmartIdInitResult.token;return pollSmartIdLoginStatus(token,3e3,80)}).then(function(){handleLoginSuccess()},function(err){$log.error("Something failed when trying to log in with mobile",err);$scope.formSmartId.isLoading=false;$scope.formSmartId.challengeID=null})};var handleLoginSuccess=function(){if($state.is("partners.consent")||$state.is("partners.login")){return $window.location.href=sLocation.getAbsoluteUrlApi("/api/auth/openid/authorize")}else{if($state.params&&$state.params.redirectSuccess){return $window.location.href=$state.params.redirectSuccess}else{$window.location.reload()}}};var pollSmartIdLoginStatus=function(token,milliseconds,retry){if(!retry)retry=80;if(!retry--)throw new Error("Too many retries");return $timeout(function(){return sAuth.loginSmartIdStatus(token).then(function(response){var statusCode=response.data.status.code;switch(statusCode){case 20001:return $timeout(function(){return pollSmartIdLoginStatus(token,milliseconds,retry)},milliseconds,false);case 20002:return;case 20003:return;default:$log.error("Mobile login failed",response);return $q.defer().reject(response)}})},milliseconds,false)}}]);
"use strict";angular.module("citizenos").controller("MyAccountFormCtrl",["$scope","$log","$stateParams","$filter","$document","ngDialog","sNotification","sAuth","sUser","sUpload",function($scope,$log,$stateParams,$filter,$document,ngDialog,sNotification,sAuth,sUser,sUpload){$log.debug("MyAccountFormCtrl");$scope.tabSelected="profile";$scope.form={name:null,email:null,password:null,company:null,imageUrl:null,passwordConfirm:null};$scope.imageFile=null;angular.extend($scope.form,sAuth.user);$scope.doUpdateProfile=function(){$scope.errors=null;var success=function(res){var emailChanged=sAuth.user.email!==$scope.form.email;angular.extend(sAuth.user,res.data.data);ngDialog.closeAll();if(emailChanged){sNotification.addInfo("MSG_INFO_CHECK_EMAIL_TO_VERIFY_YOUR_NEW_EMAIL_ADDRESS")}};var error=function(res){$scope.errors=res.data.errors};if($scope.form.password){if($scope.form.password!==$scope.form.passwordConfirm){$scope.errors={password:"MSG_ERROR_PASSWORD_MISMATCH"};return}}if($scope.imageFile){sUpload.upload($scope.imageFile,"users").then(function(url){$scope.form.imageUrl=url;sUser.update($scope.form.name,$scope.form.email,$scope.form.password,$scope.form.company,url).then(success,error)})}else{sUser.update($scope.form.name,$scope.form.email,$scope.form.password,$scope.form.company,$scope.form.imageUrl).then(success,error)}};$scope.uploadImage=function(){$document[0].getElementById("profileImage").click()};$scope.switchImage=function(element){$scope.imageFile=element.files[0];var reader=new FileReader;reader.onload=function(){return function(e){$scope.$apply(function(){$scope.form.imageUrl=e.target.result})}}();reader.readAsDataURL(element.files[0])};$scope.deleteProfileImage=function(){if($scope.form.imageUrl.indexOf("amazonaws")>-1){sUpload.delete($scope.form.imageUrl,"users").then(function(){sUser.update($scope.form.name,$scope.form.email,$scope.form.password,$scope.form.company,"").then(function(res){angular.extend(sAuth.user,res.data.data)},function(res){$scope.errors=res.data.errors})})}};$scope.selectTab=function(tab){$scope.tabSelected=tab}}]);
"use strict";angular.module("citizenos").controller("PasswordForgotFormCtrl",["$scope","$log","$state","ngDialog","sAuth","sNotification",function($scope,$log,$state,ngDialog,sAuth,sNotification){$log.debug("PasswordForgotFormCtrl");$scope.form={email:null};$scope.errors=null;$scope.doPasswordReset=function(){$scope.errors=null;var success=function(res){ngDialog.closeAll();sNotification.addInfo("MSG_INFO_PASSWORD_RECOVERY_EMAIL_SENT")};var error=function(res){$scope.errors=res.data.errors};sAuth.passwordResetSend($scope.form.email).then(success,error)}}]);
"use strict";angular.module("citizenos").controller("PasswordResetFormCtrl",["$scope","$log","$state","$stateParams","ngDialog","sAuth","sNotification",function($scope,$log,$state,$stateParams,ngDialog,sAuth,sNotification){$log.debug("PasswordResetFormCtrl");$scope.form={password:null};$scope.passwordResetEmail=$stateParams.email;$scope.errors=null;$scope.doPasswordReset=function(){$scope.errors=null;var success=function(){$state.go("account.login",{email:$scope.passwordResetEmail}).then(function(){sNotification.addInfo("MSG_INFO_PASSWORD_RESET_SUCCESS")})};var error=function(res){if(res.data.errors){$scope.errors=res.data.errors}};sAuth.passwordReset($stateParams.email,$scope.form.password,$stateParams.passwordResetCode).then(success,error)}}]);
"use strict";angular.module("citizenos").controller("PrivacyPolicyCtrl",["$scope","$log","$state","$stateParams","$window","$timeout","ngDialog","sAuth","sUser","cosConfig",function($scope,$log,$state,$stateParams,$window,$timeout,ngDialog,sAuth,sUser,cosConfig){$log.debug("PrivacyPolicyCtrl","$state",$state,$stateParams);$scope.reject=function(){ngDialog.openConfirm({template:"/views/modals/user_delete_confirm.html",data:$stateParams,scope:$scope,closeByEscape:false,closeByNavigation:false}).then(function(){sUser.deleteUser().then(function(){return sAuth.logout()}).then(function(){$window.location.href="/"})})};$scope.accept=function(){sUser.updateTermsVersion(cosConfig.legal.version).then(function(){$window.location.href=$stateParams.redirectSuccess})}}]);
"use strict";angular.module("citizenos").controller("SignFormCtrl",["$scope","$log","$state","$stateParams","$window","$document","$interval","ngDialog","sAuth","sLocation","sNotification",function($scope,$log,$state,$stateParams,$window,$document,$interval,ngDialog,sAuth,sLocation,sNotification){$log.debug("SignFormCtrl");$scope.form={};angular.extend($scope.form,$stateParams,$scope.$parent.ngDialogData);$scope.doSignEsteId=function(){ngDialog.open({template:"/views/modals/topic_vote_sign_esteid.html",scope:$scope})};$scope.doSignSmartId=function(){ngDialog.open({template:"/views/modals/topic_vote_sign_smartid.html",scope:$scope})}}]);
"use strict";angular.module("citizenos").controller("SignUpFormCtrl",["$scope","$log","$stateParams","$filter","ngDialog","sAuth","sNotification",function($scope,$log,$stateParams,$filter,ngDialog,sAuth,sNotification){$log.debug("SignUpFormCtrl");$scope.form={name:null,email:null,password:null,company:null,redirectSuccess:null};angular.extend($scope.form,$stateParams,$scope.$parent.ngDialogData);$scope.form.name=$scope.form.name||$filter("emailToDisplayName")($scope.form.email);$scope.errors=null;$scope.doSignUp=function(){$log.debug("SignUpFormCtrl.doSignUp()");var success=function(){ngDialog.closeAll();sNotification.addInfo("MSG_INFO_CHECK_EMAIL_TO_VERIFY_YOUR_ACCOUNT")};var error=function(res){$scope.errors=res.data.errors};sAuth.signUp($scope.form.email,$scope.form.password,$scope.form.name,$scope.form.company,$scope.form.redirectSuccess).then(success,error)}}]);
"use strict";angular.module("citizenos").controller("TopicCommentCreateFormCtrl",["$scope","$rootScope","$state","$log","$q","TopicComment",function($scope,$rootScope,$state,$log,$q,TopicComment){var init=function(){$scope.form={type:null,subject:null,text:null,errors:null};$scope.maxLengthSubject=128;$scope.maxLengthText=2048;$scope.charactersLeft=$scope.maxLength};init();var saveComment=function(parentId,type,parentVersion){var comment=new TopicComment;comment.parentId=parentId;comment.parentVersion=parentVersion;comment.type=type;comment.subject=$scope.form.subject;comment.text=$scope.form.text;$scope.form.errors=null;comment.$save({topicId:$scope.topic.id}).then(function(comment){return $state.go($state.current.name,{commentId:$scope.getCommentIdWithVersion(comment.id,comment.edits.length-1)})},function(res){$scope.form.errors=res.data.errors})};$scope.commentTextLengthCheck=function(comment,text){if(text&&text.length>$scope.maxLengthText){if(!comment.errors){comment.errors={}}comment.errors.text="VIEWS.TOPICS_TOPICID.TXT_ARGUMENT_ERROR_TEXT_TOO_LONG"}else{if(comment.errors&&comment.errors.text){comment.errors.text=null}}};$scope.commentSubjectLengthCheck=function(comment,subject){if(subject&&subject.length>$scope.maxLengthSubject){if(!comment.errors){comment.errors={}}comment.errors.subject="VIEWS.TOPICS_TOPICID.TXT_ARGUMENT_ERROR_SUBJECT_TOO_LONG"}else{if(comment.errors&&comment.errors.subject){comment.errors.subject=null}}};$scope.submitPro=function(){saveComment(null,TopicComment.COMMENT_TYPES.pro)};$scope.submitCon=function(){saveComment(null,TopicComment.COMMENT_TYPES.con)};$scope.submitReply=function(parentId,parentVersion){$scope.form.subject=null;saveComment(parentId,$scope.form.type,parentVersion)}}]);
"use strict";angular.module("citizenos").controller("TopicCommentModerateFormCtrl",["$scope","$state","$stateParams","$http","$log","ngDialog","sLocation","TopicComment",function($scope,$state,$stateParams,$http,$log,ngDialog,sLocation,TopicComment){$log.debug("TopicCommentModerateFormCtrl",$scope.ngDialogData);$scope.comment=$scope.ngDialogData.comment;$scope.reportTypes=TopicComment.COMMENT_REPORT_TYPES;$scope.form={type:null,text:null};$scope.doModerate=function(){var path=sLocation.getAbsoluteUrlApi("/api/topics/:topicId/comments/:commentId/reports/:reportId/moderate",{topicId:$scope.ngDialogData.topic.id,commentId:$scope.comment.id,reportId:$scope.ngDialogData.report.id});var config={headers:{Authorization:"Bearer "+$scope.ngDialogData.token}};$http.post(path,$scope.form,config).then(function(){return $state.go("topics.view",{language:$stateParams.language,topicId:$scope.ngDialogData.topic.id},{reload:true})},function(res){$scope.errors=res.data.errors})}}]);
"use strict";angular.module("citizenos").controller("TopicCommentReportFormCtrl",["$scope","$log","ngDialog","TopicComment",function($scope,$log,ngDialog,TopicComment){$log.debug("TopicCommentReportFormCtrl");$scope.comment=$scope.ngDialogData.comment;$scope.reportTypes=TopicComment.COMMENT_REPORT_TYPES;$scope.form={type:null,text:null,topicId:$scope.ngDialogData.topic.id,id:$scope.comment.id};$scope.doReport=function(){var topicComment=new TopicComment($scope.form);topicComment.$report().then(function(){ngDialog.closeAll()},function(res){$scope.errors=res.data.errors})}}]);
"use strict";angular.module("citizenos").controller("TopicReportFormCtrl",["$scope","$log","ngDialog","TopicReport",function($scope,$log,ngDialog,TopicReport){$log.debug("TopicReportFormCtrl",$scope.topic);$scope.reportTypes=TopicReport.TYPES;$scope.form={type:null,text:null,topicId:$scope.topic.id,errors:null,isLoading:false};$scope.doReport=function(){var topicReport=new TopicReport;topicReport.type=$scope.form.type;topicReport.text=$scope.form.text;$scope.form.errors=null;$scope.form.isLoading=true;topicReport.$save({topicId:$scope.topic.id}).then(function(report){$scope.topic.report={id:report.id};ngDialog.closeAll()},function(res){$scope.form.errors=res.data.errors;$scope.form.isLoading=false})}}]);
"use strict";angular.module("citizenos").controller("TopicReportModerateFormCtrl",["$scope","$log","ngDialog","TopicReport",function($scope,$log,ngDialog,TopicReport){$log.debug("TopicReportModerateFormCtrl",$scope.topic);$scope.reportTypes=TopicReport.TYPES;$scope.form={moderatedReasonType:null,moderatedReasonText:null,topicId:$scope.topic.id,errors:null,isLoading:false};$scope.doModerate=function(){$scope.form.errors=null;$scope.form.isLoading=true;TopicReport.moderate({topicId:$scope.topic.id,id:$scope.topic.report.id},{type:$scope.form.moderatedReasonType,text:$scope.form.moderatedReasonText}).$promise.then(function(report){$scope.topic.report=report;ngDialog.closeAll()},function(res){$scope.form.isLoading=false;$scope.form.errors=res.data.errors})}}]);
"use strict";angular.module("citizenos").controller("TopicReportResolveFormCtrl",["$scope","$log","ngDialog","TopicReport",function($scope,$log,ngDialog,TopicReport){$scope.form={isLoading:false};$scope.doResolve=function(){$scope.form.isLoading=true;TopicReport.resolve({topicId:$scope.topic.id,id:$scope.topic.report.id},{}).$promise.then(function(){delete $scope.topic.report;ngDialog.closeAll()},function(res){$scope.form.isLoading=false;$log.error("Failed to resolve the report",res)})}}]);
"use strict";angular.module("citizenos").controller("TopicReportReviewFormCtrl",["$scope","$log","ngDialog","TopicReport",function($scope,$log,ngDialog,TopicReport){$scope.form={text:null,errors:null,isLoading:false};$scope.doReview=function(){$scope.form.isLoading=true;TopicReport.review({topicId:$scope.topic.id,id:$scope.topic.report.id},{text:$scope.form.text}).$promise.then(function(){ngDialog.closeAll()},function(res){$scope.form.isLoading=false;$scope.form.errors=res.data.errors})}}]);
"use strict";angular.module("citizenos").controller("TopicVoteCreateCtrl",["$scope","$state","$log","Vote",function($scope,$state,$log,Vote){$log.debug("TopicVoteCreateCtrl");$scope.$parent.$parent.datePickerMin=new Date;$scope.$parent.$parent.voteTypes=Vote.VOTE_TYPES;$scope.$parent.$parent.voteAuthTypes=Vote.VOTE_AUTH_TYPES;var CONF={defaultOptions:{regular:[{value:"Yes",enabled:true},{value:"No",enabled:true}],multiple:[{value:null},{value:null},{value:null}]},extraOptions:{neutral:{value:"Neutral",enabled:false},veto:{value:"Veto",enabled:false}},optionsMax:10,optionsMin:2};$scope.showVoteCreate();$scope.$parent.$parent.voteForm={options:[],extraOptions:angular.copy(CONF.extraOptions),delegationIsAllowed:false,endsAt:null,voteType:null,authType:$scope.voteAuthTypes.soft,numberOfDaysLeft:0,errors:null};$scope.$parent.$parent.setVoteType=function(voteType){if(voteType==$scope.voteTypes.multiple){$scope.voteForm.voteType=voteType;$scope.voteForm.options=angular.copy(CONF.defaultOptions.multiple)}else{$scope.voteForm.voteType=$scope.voteTypes.regular;$scope.voteForm.options=angular.copy(CONF.defaultOptions.regular)}};$scope.$parent.$parent.removeOption=function(key){$scope.voteForm.options.splice(key,1)};$scope.$parent.$parent.addOption=function(){$scope.voteForm.options.push({value:null})};$scope.$parent.$parent.daysToVoteEnd=function(){if($scope.voteForm.endsAt){if($scope.voteForm.endsAt===true){$scope.voteForm.endsAt=new Date}var endDate=$scope.voteForm.endsAt;var diffTime=new Date(endDate).getTime()-(new Date).getTime();$scope.voteForm.numberOfDaysLeft=Math.ceil(diffTime/(1e3*3600*24))}return $scope.voteForm.numberOfDaysLeft};$scope.$parent.$parent.createVote=function(){var vote=new Vote({topicId:$scope.topic.id});vote.options=angular.copy($scope.voteForm.options);vote.delegationIsAllowed=$scope.voteForm.delegationIsAllowed;vote.type=$scope.voteForm.voteType;vote.authType=$scope.voteForm.authType;for(var o in $scope.voteForm.extraOptions){var option=$scope.voteForm.extraOptions[o];if(option.enabled){vote.options.push({value:option.value})}}vote.options=_.filter(vote.options,function(option){return!!option.value});var endsAt=moment($scope.voteForm.endsAt).add(1,"d").toDate();if(endsAt){vote.endsAt=endsAt}vote.$save(function(vote,putResponseHeaders){$scope.$parent.$parent.voteForm.errors=null;$state.go("topics.view.votes.view",{topicId:$scope.topic.id,voteId:vote.id},{reload:true})},function(res){console.log("SAVE ERR",res,res.data.errors);$scope.$parent.$parent.voteForm.errors=res.data.errors})}}]);
angular.module("citizenos").controller("UserConsentFormCtrl",["$scope","$rootScope","$window","$state","$stateParams","$log","sLocation","sUser",function($scope,$rootScope,$window,$state,$stateParams,$log,sLocation,sUser){$log.debug("UserConsentFormCtrl",$stateParams);$scope.doAccept=function(){$log.debug("UserConsentFormCtrl","doAccept",$stateParams);sUser.consentsCreate($scope.partner.id).then(function(){$window.location.href=sLocation.getAbsoluteUrlApi("/api/auth/openid/authorize")},function(err){$log.error("Failed to create User consent for Partner",$scope.partner.id,err)})};$scope.doCancel=function(){$log.debug("UserConsentFormCtrl","doCancel",$stateParams);$window.location.href=sLocation.getAbsoluteUrlApi("/api/auth/openid/cancel")}}]);
"use strict";angular.module("citizenos").controller("ActivitiesCtrl",["$scope","$stateParams","$document","sActivity",function($scope,$stateParams,$document,sActivity){$scope.activitiesOffset=0;$scope.activitiesLimit=25;$scope.activities=[];$scope.filter="all";$scope.activityfilters=["all","userTopics","userGroups","user","self"];var lastViewTime=null;$scope.loadActivities=function(offset,limit){$scope.activitiesOffset=offset||$scope.activitiesOffset;if(offset===0){$scope.activitiesOffset=0}$scope.activitiesLimit=limit||$scope.activitiesLimit;if($scope.activities.length&&!offset&&!limit){$scope.activitiesOffset+=$scope.activitiesLimit}var filterValue=$scope.filter;if(filterValue==="all"){filterValue=null}sActivity.getActivities($scope.activitiesOffset,$scope.activitiesLimit,filterValue).then(function(activities){$scope.app.unreadActivitiesCount=0;activities.forEach(function(activity,key){if(activity.data.type==="View"&&activity.data.object&&activity.data.object["@type"]==="Activity"){if(!lastViewTime||activity.updatedAt>lastViewTime){lastViewTime=activity.updatedAt}activities.splice(key,1)}else if(!lastViewTime||activity.updatedAt>lastViewTime){activity.isNew="-new"}});$scope.showLoadMoreActivities=!(activities.length<$scope.activitiesLimit);$scope.activities=$scope.activities.concat(activities);var element=angular.element($document[0].getElementsByClassName("lightbox_content"));if(element&&element[0]&&element[0].scrollHeight){$scope.$watch(element[0].scrollHeight,function(){if(activities.length&&element[0].clientHeight>=element[0].scrollHeight){$scope.loadActivities()}},true)}})};$scope.loadActivities();$scope.filterActivities=function(filter){$scope.filter=filter;$scope.activities=[];$scope.loadActivities(0)};$scope.showActivityDescription=function(activity){return sActivity.showActivityDescription(activity)};$scope.showActivityUpdateVersions=function(activity){return sActivity.showActivityUpdateVersions(activity)};$scope.activityRedirect=function(activity){return sActivity.handleActivityRedirect(activity)}}]);
"use strict";angular.module("citizenos").controller("ActivitiesWidgetCtrl",["$scope","$stateParams","$log","sActivity","ActivitiesResolve",function($scope,$stateParams,$log,sActivity,ActivitiesResolve){$log.debug("ActivitiesWidgetCtrl");$scope.activities=ActivitiesResolve;$scope.showActivityDescription=function(activity){return sActivity.showActivityDescription(activity)};$scope.showActivityUpdateVersions=function(activity){return sActivity.showActivityUpdateVersions(activity)};$scope.onClick=function(activity){var topic;var activityData=activity.data;var activityTarget=activityData.target;var activityObject=activityData.object;if(activityTarget&&activityTarget["@type"]==="Topic"){topic=activityTarget}else if(activityObject&&activityObject["@type"]==="Topic"){topic=activityObject}if(topic){$scope.widgetPostMessage({click:{topic:topic}})}}}]);
"use strict";angular.module("citizenos").controller("AppCtrl",["$scope","$rootScope","$log","$state","$window","$location","$timeout","$interval","$cookies","$anchorScroll","sTranslate","amMoment","sLocation","cosConfig","ngDialog","sAuth","sUser","sHotkeys","sNotification","sActivity",function($scope,$rootScope,$log,$state,$window,$location,$timeout,$interval,$cookies,$anchorScroll,sTranslate,amMoment,sLocation,cosConfig,ngDialog,sAuth,sUser,sHotkeys,sNotification,sActivity){$log.debug("AppCtrl");$scope.app={config:cosConfig,showSearch:false,showSearchResults:false,showNav:false,showSearchFiltersMobile:false,isLoading:true,unreadActivitiesCount:0};$scope.app.user=sAuth.user;sTranslate.getCurrentLanguage().then(function(language){$scope.app.language=language});$scope.app.metainfo={title:"META_DEFAULT_TITLE",description:"META_DEFAULT_DESCRIPTION",keywords:"META_DEFAULT_KEYWORDS",icon:sLocation.getAbsoluteUrl("/imgs/favicon.ico"),iconHires:sLocation.getAbsoluteUrl("/imgs/icon_hires.png"),author:null,image:sLocation.getAbsoluteUrl("/imgs/logo_dark_seo.jpg"),url:null,siteName:"CitizenOS.com",hreflang:{}};createRelUrls();$scope.app.notifications=sNotification;$scope.$watch(function(){return $scope.app.notifications.dialog},function(newVal,oldVal){if(newVal&&newVal!==oldVal){var dialog=ngDialog.open({template:"/views/modals/notification.html",data:$scope.app.notifications.dialog});dialog.closePromise.then(function(){$scope.app.notifications.dialog=null})}});sHotkeys.add("ctrl+alt+shift+t",sTranslate.debugMode);$scope.app.doShowLogin=function(){$log.debug("AppCtrl.doShowLogin()");return ngDialog.open({template:"/views/modals/login.html",scope:$scope})};$scope.app.doShowMyAccount=function(){$log.debug("AppCtrl.doShowMyAccount()");ngDialog.open({template:"/views/modals/my_account.html",scope:$scope})};$scope.app.doShowActivityModal=function(){$log.debug("AppCtrl.doShowActivityModal()");var openDias=ngDialog.getOpenDialogs();if(openDias.length){ngDialog.closeAll()}else{var dialog=ngDialog.open({template:"/views/modals/activity_modal.html",scope:$scope});$scope.app.isShowActivityModal=true;dialog.closePromise.then(function(){$scope.app.isShowActivityModal=false})}};$scope.app.doShowTopicSettings=function(){$log.debug("AppCtrl.doShowTopicSettings()");ngDialog.open({template:"/views/modals/topic_settings.html",scope:$scope})};$scope.app.doShowLanguageSelect=function(){$log.debug("AppCtrl.doShowLanguageSelect()");$scope.app.languagesArray=[];angular.forEach($scope.app.config.language.list,function(val,key){$scope.app.languagesArray.push({key:key,val:val})});ngDialog.open({template:"/views/modals/languages.html",scope:$scope})};$scope.app.doSwitchLanguage=function(language){$log.debug("AppCtrl.doSwitchLanguage()",language);if(language===$scope.app.language){return}if($scope.app.user.loggedIn&&sTranslate.checkLanguageIsValid(language)&&$scope.app.user.language!==language){sUser.updateLanguage(language).then(function(){$scope.app.user.language=language;sTranslate.switchLanguage(language)})}else{if(sTranslate.checkLanguageIsValid(language)){$cookies.put("language",language);$log.debug("langCookie",$cookies.get("language"))}sTranslate.switchLanguage(language)}};$scope.app.doLogout=function(){sAuth.logout().then(function(){$state.go("home")},function(err){$log.error("AppCtrl.doLogout()","Logout failed",err)})};$scope.app.doWidgetLogout=function(){sAuth.logout().then(function(){$state.reload()},function(err){$log.error("AppCtrl.doLogout()","Logout failed",err)})};$scope.app.scrollToAnchor=function(anchor){return $timeout(function(){if($rootScope.wWidth<=1024){$anchorScroll.yOffset=68}else{$anchorScroll.yOffset=8}$anchorScroll(anchor)},0)};$scope.app.displayEmpoweredIcon=function(){if(!/citizenos\.com/.test($location.absUrl())){return true}return false};$scope.app.closeFooterNotification=function(){var expires=new Date;expires.setDate(expires.getDate()+365);$cookies.put("COOKIE_NOTIFICATION",true,{expires:expires})};$scope.app.displayFooterNotification=function(){var show=$cookies.get("COOKIE_NOTIFICATION");if(!show){return true}return false};$rootScope.$on("ngDialog.opened",function(){sNotification.removeAll()});$rootScope.$on("ngDialog.closed",function(){sNotification.removeAll()});$rootScope.$on("$translateChangeEnd",function(){$log.debug("AppCtrl.$translateChangeSuccess",sTranslate.currentLanguage);$scope.app.language=sTranslate.currentLanguage;$timeout(function(){amMoment.changeLocale($scope.app.language)},0)});$rootScope.$on("$stateChangeSuccess",function(){$timeout(function(){$log.debug("AppCtrl.$stateChangeSuccess","prerenderReady",$state.$current.name);window.prerenderReady=true;if($window.ga){$window.ga("send",{hitType:"pageview",page:$location.url()})}$scope.app.showSearch=false;$scope.app.showSearchResults=false;$scope.app.showSearchFiltersMobile=false;$scope.app.showNav=false;$anchorScroll()})});$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){$log.debug("$stateChangeError","event",event,"toState",toState,"toParams",toParams,"fromState",fromState,"fromParams",fromParams,"error",error);if(error.status&&error.data&&error.config){var stateError="error."+error.status;$log.debug("$stateChangeError",'"resolve" failed in route definition.');$state.go(stateError,{language:fromParams.language||$scope.app.user.language},{location:false})}});function createRelUrls(){angular.forEach(sTranslate.LANGUAGES,function(language){var url=$location.url().split("/");url[1]=language;$scope.app.metainfo.hreflang[language]=sLocation.getBaseUrl()+url.join("/")})}var newActivitiesWatcher=null;$scope.$watch(function(){return $scope.app.user.loggedIn},function(loggedIn){if(loggedIn){newActivitiesWatcher=$interval(function(){sActivity.getUnreadActivities().then(function(count){$scope.app.unreadActivitiesCount=count})},3e4)}else if(newActivitiesWatcher){$interval.cancel(newActivitiesWatcher);newActivitiesWatcher=undefined;$scope.app.unreadActivitiesCount=0}})}]);
"use strict";angular.module("citizenos").controller("GroupCreateSettingsCtrl",["$scope","$state","$stateParams","$timeout","$log","$location","sSearch","Group","GroupMemberUser","GroupMemberTopic",function($scope,$state,$stateParams,$timeout,$log,$location,sSearch,Group,GroupMemberUser,GroupMemberTopic){$log.debug("GroupCreateSettingsCtrl",$state,$stateParams);$scope.levels={none:0,read:1,edit:2,admin:3};$scope.form={group:null};$scope.tabSelected=$stateParams.tab||"settings";$scope.topicList={searchFilter:"",searchOrderBy:{property:"title"}};var init=function(){$scope.form={group:null};if(!$stateParams.groupId){$scope.form.group=new Group({id:null,name:null,visibility:Group.VISIBILITY.private,permission:{level:GroupMemberUser.LEVELS.admin}})}else{$scope.form.group=angular.copy($scope.group)}$scope.memberTopics=[];$scope.members={users:[],emails:[]};$scope.Group=Group;$scope.GroupMemberTopic=GroupMemberTopic;$scope.GroupMemberUser=GroupMemberUser;$scope.searchStringUser=null;$scope.searchStringTopic=null;$scope.searchResults={};$scope.form.newMemberTopicTitle=null;$scope.form.newMemberTopicLevel=GroupMemberTopic.LEVELS.read;$scope.errors=null};init();$scope.search=function(str,type){if(str&&str.length>=2){var include=null;if(type==="topic"){include="my.topic"}else if(type==="user"){include="public.user";$scope.searchStringUser=str}sSearch.searchV2(str,{include:include,"my.topic.level":"admin"}).then(function(response){$scope.searchResults.users=[];$scope.searchResults.topics=[];if(type==="user"){response.data.data.results.public.users.rows.forEach(function(user){$scope.searchResults.users.push(user)})}if(type==="topic"){response.data.data.results.my.topics.rows.forEach(function(topic){$scope.searchResults.topics.push(topic)})}})}else{$scope.searchResults.users=[];$scope.searchResults.topics=[]}};$scope.addGroupMemberTopic=function(topic){$scope.searchStringTopic=null;$scope.searchResults.topics=[];if(!topic||!topic.id||!topic.title){return false}var member=_.find($scope.memberTopics,function(o){return o.id===topic.id});if(!member){topic.permission.level=GroupMemberTopic.LEVELS.read;$scope.memberTopics.push(topic)}};$scope.addNewGroupMemberTopic=function(title,newMemberTopicLevel){$state.go("topics.create",{groupId:$scope.group.id,title:title,groupLevel:newMemberTopicLevel})};$scope.removeGroupMemberTopic=function(topic){$scope.memberTopics.splice($scope.memberTopics.indexOf(topic),1)};$scope.updateGroupMemberTopicLevel=function(topic,level){topic.permission.level=level};$scope.doOrderTopics=function(property){if($scope.topicList.searchOrderBy.property==property){property="-"+property}$scope.topicList.searchOrderBy.property=property};$scope.addGroupMemberUser=function(member){if(member){if(_.find($scope.members.users,{userId:member.id})){$scope.searchStringUser=null;$scope.searchResults.users=[];return}else{var memberClone=angular.copy(member);memberClone.userId=member.id;memberClone.level=GroupMemberUser.LEVELS.read;$scope.members.users.push(memberClone);$scope.searchResults.users=[]}}else{if(validator.isEmail($scope.searchStringUser)){if(!_.find($scope.searchResults.results,{userId:$scope.searchStringUser})){$scope.members.emails.push({userId:$scope.searchStringUser,name:$scope.searchStringUser,level:GroupMemberUser.LEVELS.read});$scope.searchResults.users=[]}}else{$log.debug("Ignoring member, as it does not look like e-mail",$scope.searchStringUser)}}};$scope.doRemoveMemberUser=function(member){if(member.userId.indexOf("@")===-1){$scope.members.users.splice($scope.members.users.indexOf(member),1)}else{$scope.members.emails.splice($scope.members.emails.indexOf(member),1)}};$scope.updateGroupMemberUserLevel=function(member,level){if(member.userId.indexOf("@")===-1){$scope.members.users[$scope.members.users.indexOf(member)].level=level}else{$scope.members.emails[$scope.members.emails.indexOf(member)].level=level}};$scope.selectTab=function(tab){$scope.tabSelected=tab;$location.search({tab:tab})};$scope.doSaveGroup=function(){$scope.errors=null;var groupSavePromise;if(!$scope.form.group.id){groupSavePromise=$scope.form.group.$save()}else{groupSavePromise=$scope.form.group.$update()}groupSavePromise.then(function(data){var savePromises=[];angular.extend($scope.form.group,data);var groupMemberUsersToSave=[];$scope.members.users.concat($scope.members.emails).forEach(function(member){groupMemberUsersToSave.push({userId:member.userId,level:member.level})});if(groupMemberUsersToSave.length){savePromises.push(GroupMemberUser.save({groupId:$scope.form.group.id},groupMemberUsersToSave))}$scope.memberTopics.forEach(function(topic){var member={groupId:$scope.form.group.id,id:topic.id,level:topic.permission.level};var groupMemberTopic=new GroupMemberTopic(member);savePromises.push(groupMemberTopic.$save())});return Promise.all(savePromises)}).then(function(){$timeout(function(){$state.go("my.groups.groupId",{groupId:$scope.form.group.id,filter:"grouped"},{reload:true})})},function(errorResponse){if(errorResponse.data&&errorResponse.data.errors){$scope.errors=errorResponse.data.errors;$scope.tabSelected="settings"}})}}]);
"use strict";angular.module("citizenos").controller("GroupCtrl",["$rootScope","$scope","$state","$stateParams","$log","$location","ngDialog","sAuth","GroupMemberUser","GroupMemberTopic","rGroup",function($rootScope,$scope,$state,$stateParams,$log,$location,ngDialog,sAuth,GroupMemberUser,GroupMemberTopic,rGroup){$log.debug("GroupCtrl");$scope.group=rGroup;$scope.generalInfo={isVisible:true};$scope.topicList={isVisible:false,isSearchVisible:false,searchFilter:"",searchOrderBy:{property:"title"}};$scope.userList={isVisible:false,isSearchVisible:false,searchFilter:"",searchOrderBy:{property:"name"}};$scope.doDeleteGroup=function(){ngDialog.openConfirm({template:"/views/modals/group_delete_confirm.html"}).then(function(){$scope.group.$delete().then(function(){$state.go("my.groups",null,{reload:true})})},angular.noop)};$scope.GroupMemberTopic=GroupMemberTopic;var loadMemberTopicsList=function(){return GroupMemberTopic.query({groupId:$scope.group.id}).$promise.then(function(topics){$scope.group.members.topics.rows=topics;$scope.group.members.topics.count=topics.length;return topics})};var loadMemberUsersList=function(){return GroupMemberUser.query({groupId:$scope.group.id}).$promise.then(function(users){$scope.group.members.users.rows=users;$scope.group.members.users.count=users.length;return users})};$scope.doShowMemberTopicList=function(){if(!$scope.topicList.isVisible){loadMemberTopicsList().then(function(){$scope.topicList.isVisible=true;$scope.app.scrollToAnchor("topic_list")})}else{$scope.app.scrollToAnchor("topic_list")}};$scope.doToggleMemberTopicList=function(){if($scope.topicList.isVisible){$scope.topicList.isVisible=false}else{$scope.doShowMemberTopicList($scope.group)}};$scope.doUpdateMemberTopic=function(groupMemberTopic,level){$log.debug("groupMemberTopic",groupMemberTopic,level);if(groupMemberTopic.permission.levelGroup!==level){var oldLevel=groupMemberTopic.permission.levelGroup;groupMemberTopic.permission.levelGroup=level;groupMemberTopic.$update({groupId:$scope.group.id}).then(angular.noop,function(){groupMemberTopic.permission.levelGroup=oldLevel})}};$scope.doDeleteMemberTopic=function(groupMemberTopic){ngDialog.openConfirm({template:"/views/modals/group_member_topic_delete_confirm.html",data:{topic:groupMemberTopic}}).then(function(){groupMemberTopic.$delete({groupId:$scope.group.id}).then(function(){loadMemberTopicsList()})},angular.noop)};$scope.GroupMemberUser=GroupMemberUser;$scope.doShowMemberUserList=function(){if(!$scope.userList.isVisible){loadMemberUsersList().then(function(){$scope.userList.isVisible=true;$scope.app.scrollToAnchor("user_list")})}else{$scope.app.scrollToAnchor("user_list")}};$scope.doToggleMemberUserList=function(){if($scope.userList.isVisible){$scope.userList.isVisible=false}else{$scope.doShowMemberUserList()}};$scope.doUpdateMemberUser=function(groupMemberUser,level){if(groupMemberUser.level!==level){var oldLevel=groupMemberUser.level;groupMemberUser.level=level;groupMemberUser.$update({groupId:$scope.group.id}).then(angular.noop,function(){groupMemberUser.level=oldLevel})}};$scope.doDeleteMemberUser=function(groupMemberUser){ngDialog.openConfirm({template:"/views/modals/group_member_user_delete_confirm.html",data:{user:groupMemberUser}}).then(function(){groupMemberUser.$delete({groupId:$scope.group.id}).then(function(){loadMemberUsersList()})},angular.noop)};$scope.doLeaveGroup=function(){ngDialog.openConfirm({template:"/views/modals/group_member_user_leave_confirm.html",data:{group:$scope.group}}).then(function(){var groupMemberUser=new GroupMemberUser({id:sAuth.user.id});groupMemberUser.$delete({groupId:$scope.group.id}).then(function(){$state.go("my.groups",null,{reload:true})})})};if(sAuth.user.loggedIn){loadMemberTopicsList();loadMemberUsersList()}}]);
"use strict";angular.module("citizenos").controller("HomeCtrl",["$scope","$log","$state","sTopic",function($scope,$log,$state,sTopic){$log.debug("HomeCtrl",$state);$scope.FILTERS_ALL="all";var init=function(){$scope.filters={categories:{value:sTopic.CATEGORIES[$state.current.name]?$state.current.name:$scope.FILTERS_ALL,options:[$scope.FILTERS_ALL].concat(_.values(sTopic.CATEGORIES))},statuses:{value:$scope.FILTERS_ALL,options:[$scope.FILTERS_ALL].concat(_.values(sTopic.STATUSES))},limit:30,offset:0,tabSelected:"categories"};$scope.topicList=[];$scope.topicCountTotal=null;$scope.isTopicListLoading=null};init();$scope.doSetFilter=function(filter,value){filter.value=value;$scope.topicList=[];$scope.topicCountTotal=null;$scope.filters.offset=0;$scope.loadTopicList()};$scope.doClearFilters=function(){init();$scope.loadTopicList()};$scope.isFilterApplied=function(){return $scope.filters.categories.value!==$scope.FILTERS_ALL||$scope.filters.statuses.value!==$scope.FILTERS_ALL};$scope.isTutorialVisible=function(){return $scope.filters.categories.value===$scope.FILTERS_ALL&&$scope.filters.statuses.value===$scope.FILTERS_ALL&&$scope.topicList.length};$scope.loadTopicList=function(){$log.debug("HomeCtrl.loadTopicList()");if($scope.isTopicListLoading===true){$log.warn("HomeCtrl.loadTopicList()","Topic list already loading, will skip this request.");return}if($scope.topicCountTotal&&$scope.topicList.length>=$scope.topicCountTotal){$log.warn("HomeCtrl.loadTopicList()","Maximum count of topics already loaded! Skipping API call.");return}$scope.isTopicListLoading=true;sTopic.listUnauth($scope.filters.statuses.value!==$scope.FILTERS_ALL?$scope.filters.statuses.value:null,$scope.filters.categories.value!==$scope.FILTERS_ALL?$scope.filters.categories.value:null,$scope.filters.offset,$scope.filters.limit).then(function(res){$scope.topicList=$scope.topicList.concat(res.data.data.rows);$scope.topicCountTotal=res.data.data.countTotal;$scope.filters.offset+=$scope.filters.limit;$scope.isTopicListLoading=false},function(err){$log.warn("HomeCtrl.loadTopicList()","List fetch failed or was cancelled",err);$scope.isTopicListLoading=false})};$scope.loadTopicList()}]);
"use strict";angular.module("citizenos").controller("JoinCtrl",["$scope","$rootScope","$state","$stateParams","$location","$filter","$log","Topic",function($scope,$rootScope,$state,$stateParams,$location,$filter,$log,Topic){var joinTopic=new Topic;joinTopic.$join({tokenJoin:$stateParams.tokenJoin}).then(function(res){$state.go("topics.view",{topicId:res.data.id})},function(res){$log.error("Failed to join Topic ",res);var status=res.data.status;if(status.code===40100){$log.error("Failed to join",status.code,status.message);var currentUrl=$state.href($state.current.name,$stateParams);$state.go("account.login",{redirectSuccess:currentUrl})}else if(status.code===40001){$state.go("home")}else{$log.error("Failed to join Topic",res)}})}]);
"use strict";angular.module("citizenos").controller("MyCtrl",["$rootScope","$scope","$state","$stateParams","$q","$log","Group","Topic","GroupMemberTopic","rItems",function($rootScope,$scope,$state,$stateParams,$q,$log,Group,Topic,GroupMemberTopic,rItems){$log.debug("MyCtrl",$stateParams,rItems);$scope.itemList=rItems;var filters=[{id:"all",name:"VIEWS.MY.FILTERS.SHOW_ALL_MY_TOPICS",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{name:"VIEWS.MY.FILTERS.SHOW_ONLY",children:[{id:"public",name:"VIEWS.MY.FILTERS.MY_PUBLIC_TOPICS",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"private",name:"VIEWS.MY.FILTERS.MY_PRIVATE_TOPICS",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"iCreated",name:"VIEWS.MY.FILTERS.TOPICS_I_CREATED",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"inProgress",name:"VIEWS.MY.FILTERS.TOPICS_IN_PROGRESS",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"voting",name:"VIEWS.MY.FILTERS.TOPICS_IN_VOTING",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"followUp",name:"VIEWS.MY.FILTERS.TOPICS_IN_FOLLOW_UP",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"closed",name:"VIEWS.MY.FILTERS.TOPICS_CLOSED",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}},{id:"pinnedTopics",name:"VIEWS.MY.FILTERS.TOPICS_PINNED",onSelect:function(){$state.go("my.topics",{filter:this.id},{reload:true})}}]},{id:"grouped",name:"VIEWS.MY.FILTERS.TOPICS_ORDERED_BY_GROUPS",onSelect:function(){$state.go("my.groups",{filter:this.id},{reload:true})}}];var filterParam=$stateParams.filter||filters[0].id;$scope.filters={items:filters,selected:_.find(filters,{id:filterParam})||_.chain(filters).map("children").flatten().find({id:filterParam}).value()||filters[0]};$scope.$watch(function(){return $scope.itemList},function(newList){if(!newList||!newList.length)return;if($rootScope.wWidth>750){if($state.is("my.groups")||$state.is("my.topics")){var item=$scope.itemList[0];if($scope.isGroup(item)){$state.go("my.groups.groupId",{groupId:item.id,filter:"grouped"})}else{$state.go("my.topics.topicId",{topicId:item.id})}}}});$scope.isGroup=function(object){return object instanceof Group};var groupMemberTopicsVisible=[];$scope.isGroupMemberTopicsVisible=function(group){return groupMemberTopicsVisible.indexOf(group.id)>-1};$scope.doToggleGroupTopicList=function(group){var indexGroupIdVisible=groupMemberTopicsVisible.indexOf(group.id);if(indexGroupIdVisible<0){GroupMemberTopic.query({groupId:group.id}).$promise.then(function(topics){group.members.topics.rows=topics;group.members.topics.count=topics.length;groupMemberTopicsVisible.push(group.id)})}else{groupMemberTopicsVisible.splice(indexGroupIdVisible,1)}}}]);
"use strict";angular.module("citizenos").controller("PartnerCtrl",["$scope","rPartner",function($scope,rPartner){$scope.partner=rPartner}]);
"use strict";angular.module("citizenos").controller("SearchCtrl",["$scope","$state","$log","sAuth","sSearch",function($scope,$state,$log,sAuth,sSearch){$log.debug("sSearch");$scope.form={searchInput:null};$scope.searchResults={combined:[]};$scope.noResults=true;$scope.viewMoreInProgress=false;$scope.moreStr=null;$scope.combineResults=function(){$scope.searchResults.combined=[];var contexts=Object.keys($scope.searchResults);contexts.forEach(function(context){var models=Object.keys($scope.searchResults[context]);models.forEach(function(model){if($scope.searchResults[context][model].count>0){$scope.noResults=false;$scope.searchResults[context][model].rows.forEach(function(item,key){if(item.id==="viewMore"){$scope.searchResults[context][model].rows.splice(key,1)}});var currentResults=$scope.searchResults[context][model].rows;if($scope.searchResults[context][model].count>$scope.searchResults[context][model].rows.length){currentResults.push({id:"viewMore",model:model,context:context})}$scope.searchResults.combined=$scope.searchResults.combined.concat(currentResults)}})});$log.debug("combineResults",$scope.searchResults)};$scope.doSearch=function(str){if($scope.viewMoreInProgress){$scope.form.searchInput=$scope.moreStr;return}$scope.noResults=true;if(!str||str.length<3){$scope.app.showSearchResults=false;return}var include=["public.topic"];if(sAuth.user.loggedIn){include=["my.topic","my.group","public.topic"]}sSearch.searchV2(str,{include:include,limit:5}).then(function(result){$scope.searchResults=result.data.data.results;$scope.searchResults.combined=[];$scope.app.showSearchResults=true;$scope.app.showNav=false;$scope.app.showSearchFiltersMobile=false;$scope.combineResults()},function(err){$log.error("SearchCtrl","Failed to retrieve search results",err)})};$scope.goToView=function(item){if(item){var model="topic";if(item.id==="viewMore"){model="viewMore";$scope.viewMoreResults(item.context,item.model);return}if(item.hasOwnProperty("name")){model="group"}if(model=="topic"){if(sAuth.user.loggedIn){$state.go("my.topics.topicId",{topicId:item.id,filter:"all"},{reload:true})}else{$state.go("topics.view",{topicId:item.id},{reload:true})}}else if(model==="group"){$state.go("my.groups.groupId",{groupId:item.id,filter:"grouped"},{reload:true})}}};$scope.viewMoreResults=function(context,model){if($scope.viewMoreInProgress){return}else{$scope.viewMoreInProgress=true;$scope.moreStr=$scope.form.searchInput}if(context&&model&&$scope.searchResults[context][model].count>$scope.searchResults[context][model].rows.length-1){var include=context+"."+model;if(model==="topics"){include=context+".topic"}else if(model==="groups"){include=context+".group"}var page=Math.floor($scope.searchResults[context][model].rows.length/5)+1;sSearch.searchV2($scope.moreStr,{include:include,limit:5,page:page}).then(function(result){var moreResults=result.data.data.results;$scope.searchResults[context][model].count=moreResults[context][model].count;moreResults[context][model].rows.forEach(function(row){$scope.searchResults[context][model].rows.push(row)});$scope.combineResults();$scope.viewMoreInProgress=false},function(err){$log.error("SearchCtrl","Failed to retrieve search results",err);$scope.viewMoreInProgress=false})}};$scope.closeSearchArea=function(){$scope.app.showSearchResults=false;$scope.form.searchInput=null;$scope.searchResults.combined=[];$scope.app.showSearch=false};$scope.$watch(function(){return $scope.form.searchInput},function(newValue,oldValue){if(newValue&&newValue!==oldValue){$scope.doSearch(newValue)}})}]);
"use strict";angular.module("citizenos").controller("TopicAttachmentsCtrl",["$scope","$state","$stateParams","$log","$document","Topic","sNotification","sUpload","sAttachment","TopicAttachment","ngDialog",function($scope,$state,$stateParams,$log,$document,Topic,sNotification,sUpload,sAttachment,TopicAttachment,ngDialog){$log.debug("TopicAttachmentsCtrl",$state,$stateParams);$scope.form={files:[]};$scope.saveInProgress=false;$scope.init=function(){TopicAttachment.query({topicId:$scope.topic.id}).$promise.then(function(attachments){$scope.form.files=attachments})};$scope.init();$scope.uploadFile=function(){$document[0].getElementById("addFile").click()};$scope.selectFile=function(element){var attachment={name:element.files[0].name,type:element.files[0].name.split(".").pop(),source:"upload",size:element.files[0].size,file:element.files[0]};if(attachment.size>5e7){$scope.$apply(function(){sNotification.addError("MSG_ERROR_ATTACHMENT_SIZE_OVER_LIMIT")})}else if(sUpload.ALLOWED_FILE_TYPES.indexOf(attachment.type)===-1){$scope.$apply(function(){sNotification.addError("MSG_ERROR_ATTACHMENT_TYPE_NOT_ALLOWED")})}else{$scope.appendAttachment(attachment)}};$scope.dropboxSelect=function(){sAttachment.dropboxSelect().then(function(attachment){$scope.appendAttachment(attachment)})};$scope.oneDriveSelect=function(){sAttachment.oneDriveSelect().then(function(attachment){$scope.appendAttachment(attachment)})};$scope.googleDriveSelect=function(){sAttachment.googleDriveSelect().then(function(attachment){$scope.appendAttachment(attachment)})};$scope.appendAttachment=function(attachment){$scope.$apply(function(){$scope.doSaveAttachment(attachment)})};$scope.doSaveAttachment=function(attachment){if(attachment.file){return sUpload.upload(attachment.file,$scope.topic.id).then(function(fileUrl){attachment.topicId=$scope.topic.id;attachment.link=fileUrl;var topicAttachment=new TopicAttachment(attachment);topicAttachment.$save().then(function(){$scope.form.files.push(topicAttachment)}).catch(function(err){var keys=Object.keys(err.data.errors);keys.forEach(function(key){sNotification.addError(err.data.errors[key])})})})}attachment.topicId=$scope.topic.id;var topicAttachment=new TopicAttachment(attachment);if(topicAttachment.id){topicAttachment.$update()}else{topicAttachment.$save()}$scope.form.files.push(topicAttachment)};$scope.editAttachment=function(attachment){attachment.editMode=!attachment.editMode;attachment.topicId=$scope.topic.id;var topicAttachment=new TopicAttachment(attachment);if(!attachment.editMode&&attachment.id){topicAttachment.$update()}};$scope.deleteAttachment=function(key,attachment){ngDialog.openConfirm({template:"/views/modals/topic_attachment_delete_confirm.html"}).then(function(){$scope.form.files.splice(key,1);if(attachment.id){TopicAttachment.delete({attachmentId:attachment.id,topicId:$scope.topic.id})}},angular.noop)}}]);
"use strict";angular.module("citizenos").controller("TopicCommentCtrl",["$scope","$state","$stateParams","$timeout","$log","$translate","$q","ngDialog","sLocation","TopicComment",function($scope,$state,$stateParams,$timeout,$log,$translate,$q,ngDialog,sLocation,TopicComment){$log.debug("TopicCommentCtrl",$scope,$scope.topic,$stateParams.topicId);$scope.topic=$scope.topic||{id:$stateParams.topicId};var COMMENT_VERSION_SEPARATOR="_v";var COMMENT_COUNT_PER_PAGE=10;$scope.topicComments={rows:[],count:{pro:0,con:0},page:1,totalPages:0,orderBy:TopicComment.COMMENT_ORDER_BY.date,orderByTranslation:$translate.instant("VIEWS.TOPICS_TOPICID.TXT_ARGUMENT_ORDER_BY_DATE"),orderByOptions:TopicComment.COMMENT_ORDER_BY};Object.keys($scope.topicComments.orderByOptions).forEach(function(option,key){var translation=$translate.instant("VIEWS.TOPICS_TOPICID.TXT_ARGUMENT_ORDER_BY_"+option.toUpperCase());$scope.topicComments.orderByOptions[option]={value:option,translation:translation}});var _parseCommentIdAndVersion=function(commentIdWithVersion){if(!commentIdWithVersion){return{commentId:null,commentVersion:null}}var commentIdAndVersionRegex=new RegExp("^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4{1}[a-fA-F0-9]{3}-[89abAB]{1}[a-fA-F0-9]{3}-[a-fA-F0-9]{12})+"+COMMENT_VERSION_SEPARATOR+"([0-9]+)$");var commentIdWithVersionSplit=$stateParams.commentId.match(commentIdAndVersionRegex);if(!commentIdWithVersionSplit){$log.error("Invalid input for _parseCommentIdAndVersion. Provided commentId does not look like UUIDv4 with version appended",commentIdWithVersion);return{commentId:null,commentVersion:null}}return{commentId:commentIdWithVersionSplit[1],commentVersion:parseInt(commentIdWithVersionSplit[2])}};$scope.getCommentIdWithVersion=function(commentId,version){return commentId+COMMENT_VERSION_SEPARATOR+version};$scope.COMMENT_TYPES=TopicComment.COMMENT_TYPES;$scope.loadTopicComments=function(offset,limit){if(!limit){limit=COMMENT_COUNT_PER_PAGE}if(!offset){offset=0}TopicComment.query({topicId:$scope.topic.id,orderBy:$scope.topicComments.orderBy,offset:offset,limit:limit}).$promise.then(function(comments){if(!comments||!comments.length){return comments}var commentIdInParams=_parseCommentIdAndVersion($stateParams.commentId).commentId;if(commentIdInParams&&JSON.stringify(comments).indexOf(commentIdInParams)===-1){$scope.topicComments.page+=1;$scope.loadPage($scope.topicComments.page,true);return $q.reject()}else{return comments}}).then(function(comments){if(comments&&comments.length){$scope.topicComments.count=comments[0].count;$scope.topicComments.totalPages=Math.ceil($scope.topicComments.count.total/limit);$scope.topicComments.page=Math.ceil((offset+limit)/limit);$stateParams.argumentsPage=$scope.topicComments.page;var location=$stateParams.argumentsPage===1?"replace":true;$state.transitionTo($state.current.name,$stateParams,{notify:false,reload:false,location:location});if($scope.topic){$scope.topic.comments=$scope.topicComments}$scope.topicComments.rows=comments;if(_parseCommentIdAndVersion($stateParams.commentId).commentId){$timeout(function(){$scope.goToComment($stateParams.commentId)})}}else{if($stateParams.commentId){return $state.go($state.current.name,{argumentsPage:1,commentId:null},{location:"replace"})}else{$scope.topicComments.rows=[];$scope.topicComments.count={pro:0,con:0,total:0}}}})};$scope.loadPage=function(page,dontResetCommentIdParam){var offset=(page-1)*COMMENT_COUNT_PER_PAGE;if(!dontResetCommentIdParam){$stateParams.commentId=null}$scope.loadTopicComments(offset,COMMENT_COUNT_PER_PAGE)};var init=function(){var commentIdInParams=_parseCommentIdAndVersion($stateParams.commentId).commentId;if(commentIdInParams){$stateParams.argumentsPage=1}$scope.loadPage($stateParams.argumentsPage,true)};init();$scope.orderComments=function(order){$scope.topicComments.orderBy=order;$scope.topicComments.orderByTranslation=$translate.instant("VIEWS.TOPICS_TOPICID.TXT_ARGUMENT_ORDER_BY_"+order.toUpperCase());$scope.loadTopicComments()};$scope.doCommentVote=function(commentId,value){if(!$scope.app.user.loggedIn){return}var topicComment=new TopicComment({id:commentId,topicId:$scope.topic.id});topicComment.value=value;topicComment.$vote().then(function(){$scope.loadTopicComments()})};$scope.doCommentReport=function(comment){ngDialog.open({template:"/views/modals/topic_comment_report.html",data:{comment:comment,topic:{id:$scope.topic.id}}})};$scope.updateComment=function(comment,editType){if(comment.editType!==comment.type||comment.subject!==comment.editSubject||comment.text!==comment.editText){comment.subject=comment.editSubject;comment.text=comment.editText;if(editType){comment.type=editType}comment.topicId=$scope.topic.id;comment.$update().then(function(commentUpdated){return $state.go($state.current.name,{commentId:$scope.getCommentIdWithVersion(commentUpdated.id,commentUpdated.edits.length)})},function(err){$log.error("err",err)})}else{$scope.commentEditMode(comment)}};$scope.commentEditMode=function(comment){comment.editSubject=comment.subject;comment.editText=comment.text;comment.showEdit=!comment.showEdit};$scope.getParentAuthor=function(rootComment,parentId){if(parentId===rootComment.id){return rootComment.creator.name}for(var i=0;i<rootComment.replies.rows.length;i++){if(rootComment.replies.rows[i].id===parentId){return rootComment.replies.rows[i].creator.name;break}}};$scope.doShowDeleteComment=function(comment){$log.debug("TopicCommentCtrl.doShowDeleteComment()",comment);ngDialog.openConfirm({template:"/views/modals/topic_delete_comment.html",data:{comment:comment}}).then(function(){comment.topicId=$scope.topic.id;comment.$delete().then(function(deleteRes){return $state.go($state.current.name,{commentId:$scope.getCommentIdWithVersion(comment.id,comment.edits.length-1)},{reload:true})},angular.noop)})};$scope.doShowDeleteReply=function(comment){$log.debug("TopicCommentCtrl.doShowDeleteReply()",comment);ngDialog.openConfirm({template:"/views/modals/topic_delete_reply.html",data:{comment:comment}}).then(function(){comment.topicId=$scope.topic.id;comment.$delete().then(function(deleteRes){return $state.go($state.current.name,{commentId:$scope.getCommentIdWithVersion(comment.id,comment.edits.length-1)},{reload:true})},angular.noop)})};$scope.goToComment=function(commentIdWithVersion,$event){if($event){$event.preventDefault();$state.go($state.current.name,{commentId:commentIdWithVersion},{notify:false,inherit:true})}if(!commentIdWithVersion||commentIdWithVersion.indexOf(COMMENT_VERSION_SEPARATOR)<0){$log.error('Invalid input for $scope.goToComment. Expecting UUIDv4 comment ID with version. For example: "604670eb-27b4-48d0-b19b-b6cf6bde33b2_v0"',commentIdWithVersion);return}var commentElement=angular.element(document.getElementById(commentIdWithVersion));if(commentElement.length){$scope.app.scrollToAnchor(commentIdWithVersion).then(function(){commentElement.addClass("highlight");$timeout(function(){commentElement.removeClass("highlight")},500)})}else{var commentParameterValues=_parseCommentIdAndVersion(commentIdWithVersion);var commentId=commentParameterValues.commentId;var commentVersion=commentParameterValues.commentVersion||0;if(!commentId){$log.error("$scope.goToComment","No commentId and/or version provided, nothing to do here",commentIdWithVersion);return}for(var i=0;i<$scope.topicComments.rows.length;i++){if($scope.topicComments.rows[i].id===commentId){$scope.topicComments.rows[i].showEdits=true;$timeout(function(){$scope.app.scrollToAnchor(commentIdWithVersion).then(function(){var commentElement=angular.element(document.getElementById(commentIdWithVersion));commentElement.addClass("highlight");return $timeout(function(){commentElement.removeClass("highlight")},500)})},100);break}else{for(var j=0;j<$scope.topicComments.rows[i].replies.rows.length;j++){if($scope.topicComments.rows[i].replies.rows[j].id===commentId){$scope.topicComments.rows[i].showReplies=true;var replyEdits=$scope.topicComments.rows[i].replies.rows[j].edits;if(replyEdits.length&&commentVersion<=replyEdits.length-1){$scope.topicComments.rows[i].replies.rows[j].showEdits=true}$timeout(function(){$scope.app.scrollToAnchor(commentIdWithVersion).then(function(){var commentElement=angular.element(document.getElementById(commentIdWithVersion));commentElement.addClass("highlight");$state.commentId=commentIdWithVersion;$timeout(function(){commentElement.removeClass("highlight")},500)})},100);i=$scope.topicComments.rows.length;break}}}}}};$scope.getCommentUrl=function(commentIdWithVersion){return sLocation.getAbsoluteUrl("/",null,{commentId:commentIdWithVersion})};$scope.goToParentComment=function(rootComment,parent,$event){if($event){$event.preventDefault()}if(!parent.id||!parent.hasOwnProperty("version")){return}var commentIdWithVersion=$scope.getCommentIdWithVersion(parent.id,parent.version);return $state.go($state.current.name,{commentId:commentIdWithVersion},{notify:false,inherit:true}).then(function(){return $scope.goToComment(commentIdWithVersion)})};$scope.doAddComment=function(){if($scope.app.user.loggedIn){$scope.app.scrollToAnchor("post_argument_wrap");$scope.focusArgumentSubject=true}else{$scope.app.doShowLogin()}}}]);
"use strict";angular.module("citizenos").controller("TopicCtrl",["$rootScope","$scope","$state","$stateParams","$q","$log","$sce","$location","ngDialog","sAuth","sActivity","sUpload","Topic","TopicMemberGroup","TopicMemberUser","TopicInviteUser","TopicVote","Mention","TopicAttachment","rTopic",function($rootScope,$scope,$state,$stateParams,$q,$log,$sce,$location,ngDialog,sAuth,sActivity,sUpload,Topic,TopicMemberGroup,TopicMemberUser,TopicInviteUser,TopicVote,Mention,TopicAttachment,rTopic){$log.debug("TopicCtrl",$scope);var lastViewTime=null;$scope.topic=rTopic;$scope.isTopicReported=$scope.topic.report&&$scope.topic.report.moderatedReasonType;$scope.hideTopicContent=true;$scope.doShowReportOverlay=function(){ngDialog.openConfirm({template:"/views/modals/topic_reports_reportId.html",data:$stateParams,scope:$scope,closeByEscape:false}).then(function(){$scope.hideTopicContent=false},function(){$state.go("home")})};if($scope.isTopicReported){if($state.is("topics.view")||$state.is("my.topics.topicId")){$scope.doShowReportOverlay()}}else{$scope.hideTopicContent=false}if($scope.topic){$scope.topic.padUrl+="&theme=default";if(!$scope.topic.canEditDescription()&&($stateParams.editMode&&$stateParams.editMode==="true")){$scope.app.editMode=false;delete $stateParams.editMode;$state.transitionTo($state.current.name,$stateParams,{notify:false,reload:false})}}$scope.ATTACHMENT_SOURCES=TopicAttachment.SOURCES;$scope.generalInfo={isVisible:true};$scope.voteResults={isVisible:false};$scope.groupList={isVisible:false,isSearchVisible:false,searchFilter:"",searchOrderBy:{property:"name"}};$scope.userList={isVisible:false,isSearchVisible:false,searchFilter:"",searchOrderBy:{property:"name"}};$scope.activities=[];$scope.hashtagForm={hashtag:null,errors:null,bytesLeft:59};$scope.topic.padUrl=$sce.trustAsResourceUrl($scope.topic.padUrl);$scope.app.editMode=$stateParams.editMode&&$stateParams.editMode==="true"||false;$scope.showInfoEdit=$scope.app.editMode;$scope.showVoteArea=false;$scope.multipleWinners=false;$scope.showInfoWinners=false;$scope.STATUSES=Topic.STATUSES;$scope.VISIBILITY=Topic.VISIBILITY;if($scope.topic.vote&&$scope.topic.vote.options){var winnerCount=0;$scope.topic.vote.options.rows.forEach(function(option){if(option.winner){winnerCount++;if(winnerCount>1){$scope.showInfoWinners=true;$scope.multipleWinners=true}}})}$scope.activitiesOffset=0;$scope.activitiesLimit=25;$scope.showActivityDescription=function(activity){if(activity.data&&activity.data.object&&(Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]==="Comment"||activity.data.object["@type"]==="Comment"||activity.data.object.text)){return true}return false};var loadTopicMemberUserList=function(){return TopicMemberUser.query({topicId:$scope.topic.id}).$promise.then(function(users){$scope.topic.members.users.rows=users;$scope.topic.members.users.count=users.length;return users})};var loadTopicInviteUserList=function(){return TopicInviteUser.query({topicId:$scope.topic.id}).$promise.then(function(invites){$scope.topic.invites={users:{rows:[],count:0}};var levelOrder=Object.keys(TopicMemberUser.LEVELS);var inviteListOrderedByLevel=_.orderBy(invites,function(invite){return levelOrder.indexOf(invite.level)},["desc"]);$scope.topic.invites.users._rows=invites;$scope.topic.invites.users.rows=_.sortedUniqBy(inviteListOrderedByLevel,"user.id");$scope.topic.invites.users.count=invites.length;return invites})};var loadTopicMemberGroupList=function(){return TopicMemberGroup.query({topicId:$scope.topic.id}).$promise.then(function(groups){$scope.topic.members.groups.rows=groups;$scope.topic.members.groups.count=groups.length;return groups})};$scope.loadActivities=function(offset,limit){$scope.activitiesOffset=offset||$scope.activitiesOffset;$scope.activitiesLimit=limit||$scope.activitiesLimit;if($scope.activities.length&&!offset&&!limit){$scope.activitiesOffset+=$scope.activitiesLimit}if($scope.topic){sActivity.getTopicActivities($scope.topic.id,$scope.activitiesOffset,$scope.activitiesLimit).then(function(activities){activities.forEach(function(activity,key){activity.values.topicTitle=$scope.topic.title;if(activity.data.type==="View"&&activity.data.object&&activity.data.object["@type"]==="Activity"){if(!lastViewTime||activity.updatedAt>lastViewTime){lastViewTime=activity.updatedAt}activities.splice(key,1)}else if(!lastViewTime||activity.updatedAt>lastViewTime){activity.isNew="-new"}});$scope.showLoadMoreActivities=!(activities.length<$scope.activitiesLimit);$scope.activities=$scope.activities.concat(activities)})}};$scope.doToggleActivities=function(){$scope.app.activityFeed=!$scope.app.activityFeed;if($scope.app.activityFeed){$scope.showLoadMoreActivities=true;$scope.loadActivities(0)}};if($scope.app.activityFeed){$scope.showLoadMoreActivities=true;$scope.loadActivities(0)}$scope.showVoteCreate=function(){$scope.showVoteCreateForm=!$scope.showVoteCreateForm};$scope.sendToVote=function(){ngDialog.openConfirm({template:"/views/modals/topic_send_to_vote_confirm.html"}).then(function(){if(!$scope.topic.voteId&&!$scope.topic.vote){$scope.app.topics_settings=false;$state.go("topics.view.votes.create",{topicId:$scope.topic.id})}else if(($scope.topic.voteId||$scope.topic.vote&&$scope.topic.vote.id)&&$scope.topic.status!==$scope.STATUSES.voting){$log.debug("sendToVote");return new Topic({id:$scope.topic.id,status:$scope.STATUSES.voting}).$patch().then(function(topicPatched){$scope.topic.status=topicPatched.status;$scope.app.topics_settings=false;$state.go("topics.view.votes.view",{topicId:$scope.topic.id,voteId:$scope.topic.vote.id,editMode:null},{reload:true})})}return false},angular.noop)};$scope.sendToFollowUp=function(stateSuccess){ngDialog.openConfirm({template:"/views/modals/topic_send_to_followUp_confirm.html"}).then(function(){return new Topic({id:$scope.topic.id,status:$scope.STATUSES.followUp}).$patch().then(function(topicPatched){$scope.topic.status=topicPatched.status;$scope.app.topics_settings=false;var stateNext=stateSuccess||"topics.view.followUp";var stateParams=angular.extend({},$stateParams,{editMode:null});$state.go(stateNext,stateParams,{reload:true})})},angular.noop)};$scope.closeTopic=function(){ngDialog.openConfirm({template:"/views/modals/topic_close_confirm.html"}).then(function(){return new Topic({id:$scope.topic.id,status:$scope.STATUSES.closed}).$patch().then(function(topicPatched){$scope.topic.status=topicPatched.status;$scope.app.topics_settings=false;if($state.is("topics.view.votes.view")){$state.go("topics.view",{topicId:$scope.topic.id},{reload:true})}})},angular.noop)};$scope.loadTopicSocialMentions=function(){if($scope.topic.hashtag){$scope.topicSocialMentions=Mention.query({topicId:$scope.topic.id})}};$scope.loadTopicSocialMentions();$scope.app.doToggleEditMode=function(){$scope.app.editMode=!$scope.app.editMode;$scope.app.topics_settings=false;if($scope.app.editMode===true){$state.go("topics.view",{topicId:$scope.topic.id,editMode:$scope.app.editMode})}else{$state.go("topics.view",{topicId:$scope.topic.id,editMode:null},{reload:true})}};$scope.hideInfoEdit=function(){$scope.showInfoEdit=false};$scope.loadTopicAttachments=function(){$scope.topicAttachments=TopicAttachment.query({topicId:$scope.topic.id})};$scope.loadTopicAttachments();$scope.doDeleteTopic=function(){$log.debug("doDeleteTopic");ngDialog.openConfirm({template:"/views/modals/topic_delete_confirm.html"}).then(function(){$scope.topic.$delete().then(function(){$state.go("my.topics",null,{reload:true})})},angular.noop)};$scope.doLeaveTopic=function(){ngDialog.openConfirm({template:"/views/modals/topic_member_user_leave_confirm.html",data:{topic:$scope.topic}}).then(function(){var topicMemberUser=new TopicMemberUser({id:sAuth.user.id});topicMemberUser.$delete({topicId:$scope.topic.id}).then(function(){$state.go("my.topics",null,{reload:true})})})};$scope.doSetTopicStatus=function(status){if(status!==$scope.topic.status){$scope.topic.status=status;$scope.topic.$update(function(data){$scope.topic=Topic.get({topicId:$stateParams.topicId})})}};$scope.doSaveVoteEndsAt=function(){return $scope.topic.vote.$update({topicId:$scope.topic.id}).then(function(vote){return vote.$get({topicId:$scope.topic.id})})};$scope.TopicMemberGroup=TopicMemberGroup;$scope.doToggleMemberGroupList=function(){if($scope.groupList.isVisible){$scope.groupList.isVisible=false}else{$scope.doShowMemberGroupList()}};$scope.doShowMemberGroupList=function(){if($scope.groupList.isVisible){$scope.app.scrollToAnchor("group_list")}else{loadTopicMemberGroupList().then(function(){$scope.groupList.isVisible=true;$scope.app.scrollToAnchor("group_list")})}};$scope.doUpdateMemberGroup=function(topicMemberGroup,level){$log.debug("doUpdateMemberGroup",topicMemberGroup,level);if(topicMemberGroup.level!==level){var oldLevel=topicMemberGroup.level;topicMemberGroup.level=level;topicMemberGroup.$update({topicId:$scope.topic.id}).then(function(){if($scope.userList.isVisible){loadTopicMemberUserList()}},function(){topicMemberGroup.level=oldLevel})}};$scope.doDeleteMemberGroup=function(topicMemberGroup){$log.debug("doDeleteMemberGroup",topicMemberGroup);ngDialog.openConfirm({template:"/views/modals/topic_member_group_delete_confirm.html",data:{group:topicMemberGroup}}).then(function(){topicMemberGroup.$delete({topicId:$scope.topic.id}).then(function(){$scope.topic.members.groups.rows.splice($scope.topic.members.groups.rows.indexOf(topicMemberGroup),1);$scope.topic.members.groups.count=$scope.topic.members.groups.rows.length;loadTopicMemberUserList()})},angular.noop)};$scope.TopicMemberUser=TopicMemberUser;$scope.doShowMemberUserList=function(){if(!$scope.userList.isVisible){$q.all([loadTopicMemberUserList(),loadTopicInviteUserList()]).then(function(){$scope.userList.isVisible=true;$scope.app.scrollToAnchor("user_list")})}else{$scope.app.scrollToAnchor("user_list")}};$scope.doToggleMemberUserList=function(){if($scope.userList.isVisible){$scope.userList.isVisible=false}else{$scope.doShowMemberUserList()}};$scope.doUpdateMemberUser=function(topicMemberUser,level){if(topicMemberUser.level!==level){var oldLevel=topicMemberUser.level;topicMemberUser.level=level;topicMemberUser.$update({topicId:$scope.topic.id}).then(function(){topicMemberUser.levelUser=level},function(res){topicMemberUser.level=oldLevel})}};$scope.doDeleteMemberUser=function(topicMemberUser){ngDialog.openConfirm({template:"/views/modals/topic_member_user_delete_confirm.html",data:{user:topicMemberUser}}).then(function(){topicMemberUser.$delete({topicId:$scope.topic.id}).then(function(){return loadTopicMemberUserList()})},angular.noop)};$scope.doDeleteInviteUser=function(topicInviteUser){ngDialog.openConfirm({template:"/views/modals/topic_invite_user_delete_confirm.html",data:{user:topicInviteUser.user}}).then(function(isAll){var promisesToResolve=[];if(isAll){$scope.topic.invites.users._rows.forEach(function(invite){if(invite.user.id===topicInviteUser.user.id){promisesToResolve.push(invite.$delete({topicId:$scope.topic.id}))}})}else{promisesToResolve.push(topicInviteUser.$delete({topicId:$scope.topic.id}))}$q.all(promisesToResolve).then(function(){return loadTopicInviteUserList()})},angular.noop)};$scope.showActivityUpdateVersions=function(activity){if(activity.data.type==="Update"){if(activity.data.result&&(Array.isArray(activity.data.object)&&activity.data.object[0]["@type"]==="Topic"&&activity.data.result[0].path.indexOf("description")>-1||!Array.isArray(activity.data.object)&&activity.data.object["@type"]==="Topic"&&activity.data.result[0].path.indexOf("description")>-1)){return false}if(activity.data.object["@type"]==="CommentVote"&&activity.data.type==="Update"&&activity.data.resultObject&&activity.data.resultObject.value===0){return false}if(activity.data.result&&!Array.isArray(activity.data.object)&&activity.data.object["@type"]==="TopicMemberUser"&&activity.data.result[0].path.indexOf("level")>-1&&activity.data.result[0].value==="none"){return false}return true}return false};$scope.activityRedirect=function(activity){return sActivity.handleActivityRedirect(activity)};$scope.togglePin=function(){if(!$scope.app.user.loggedIn){$scope.app.doShowLogin();return}$scope.topic.togglePin().then(function(){if($state.current.name.indexOf("my")>-1){$state.reload()}})};$scope.downloadAttachment=function(attachment){return sUpload.download($scope.topic.id,attachment.id,$scope.app.user.id)};$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState){if(fromState.name==="topics.view.files"){$scope.loadTopicAttachments()}})}]);
"use strict";angular.module("citizenos").controller("TopicFollowUpCtrl",["$scope","$log","TopicEvent","ngDialog",function($scope,$log,TopicEvent,ngDialog){$log.debug("TopicFollowUpCtrl");$scope.$parent.topicEvents=null;var init=function(){$scope.$parent.eventForm={subject:null,text:null};$scope.$parent.maxLengthSubject=128;$scope.$parent.maxLengthText=2048;$scope.$parent.topicEvents=TopicEvent.query({topicId:$scope.topic.id})};init();$scope.$parent.submitEvent=function(){var topicEvent=new TopicEvent({topicId:$scope.topic.id,subject:$scope.eventForm.subject,text:$scope.eventForm.text});topicEvent.$save().then(function(){init()},function(res){$scope.eventForm.errors=res.data.errors})};$scope.$parent.deleteEvent=function(event){ngDialog.openConfirm({template:"/views/modals/topic_event_delete_confirm.html",data:{event:event}}).then(function(){event.topicId=$scope.topic.id;event.$delete().then(function(){init()})},angular.noop)}}]);
"use strict";angular.module("citizenos").controller("TopicSettingsCtrl",["$scope","$state","$stateParams","$log","$location","sSearch","sLocation","Topic","TopicInviteUser","TopicMemberUser","TopicMemberGroup","TopicVote",function($scope,$state,$stateParams,$log,$location,sSearch,sLocation,Topic,TopicInviteUser,TopicMemberUser,TopicMemberGroup,TopicVote){$log.debug("TopicSettingsCtrl",$state,$stateParams);$scope.levels={none:0,read:1,edit:2,admin:3};$scope.form={topic:null,description:null,urlJoin:null};$scope.cosToggleTextOn="public";$scope.tabSelected=$stateParams.tab||"settings";$scope.topicList={searchFilter:"",searchOrderBy:{property:"title"}};var init=function(){$scope.form={topic:null,description:null,urlJoin:null};$scope.form.topic=angular.copy($scope.topic);if($scope.topic.status===Topic.STATUSES.voting&&$scope.topic.voteId){new TopicVote({topicId:$scope.topic.id,id:$scope.topic.voteId}).$get().then(function(topicVote){$scope.topic.vote=topicVote;$scope.form.topic.vote=angular.copy(topicVote)})}$scope.form.description=angular.element($scope.topic.description).text().replace($scope.topic.title,"");$scope.memberGroups=[];$scope.members={users:[],emails:[],groups:[]};$scope.Topic=Topic;$scope.TopicMemberUser=TopicMemberUser;$scope.TopicMemberGroup=TopicMemberGroup;$scope.searchString=null;$scope.searchResults={};$scope.errors=null;$scope.generateJoinUrl()};$scope.search=function(str){$scope.searchString=str;if(str&&str.length>=2){var include=["my.group","public.user"];sSearch.searchV2(str,{include:include}).then(function(response){$scope.searchResults.users=[];$scope.searchResults.groups=[];$scope.searchResults.emails=[];$scope.searchResults.combined=[];if(response.data.data.results.public.users.rows.length){response.data.data.results.public.users.rows.forEach(function(user){$scope.searchResults.users.push(user)})}else if(validator.isEmail(str)){$scope.searchResults.emails.push($scope.searchString)}if(response.data.data.results.my.groups.rows.length){response.data.data.results.my.groups.rows.forEach(function(group){$scope.searchResults.groups.push(group)})}$scope.searchResults.combined=$scope.searchResults.users.concat($scope.searchResults.groups).concat($scope.searchResults.emails)})}else{$scope.searchResults.users=[];$scope.searchResults.emails=[];$scope.searchResults.groups=[];$scope.searchResults.combined=[]}};$scope.checkHashtag=function(){var length=0;var str=$scope.form.topic.hashtag;var hashtagMaxLength=59;if(str){length=str.length;for(var i=0;i<str.length;i++){var code=str.charCodeAt(i);if(code>127&&code<=2047)length++;else if(code>2047&&code<=65535)length+=2;if(code>=56320&&code<=57343)i++}}if(hashtagMaxLength-length<0){$scope.errors={hashtag:"MSG_ERROR_40000_TOPIC_HASHTAG"}}else if($scope.errors&&$scope.errors.hashtag){$scope.errors.hashtag=null}};$scope.doDeleteHashtag=function(){$scope.form.topic.hashtag=null};$scope.doEditVoteDeadline=function(){console.log("ENDS AT",$scope.form.topic.vote.endsAt);$scope.form.topic.vote.topicId=$scope.topic.id;return $scope.form.topic.vote.$update()};$scope.generateTokenJoin=function(){$scope.topic.$updateTokenJoin().then(function(){Topic.query().$promise.then(function(topics){if(topics){$scope.topic=_.find(topics,{id:$stateParams.topicId});$scope.form.topic.tokenJoin=$scope.topic.tokenJoin;$scope.generateJoinUrl()}})})};$scope.selectTab=function(tab){$scope.tabSelected=tab;$location.search({tab:tab})};$scope.copyInviteLink=function(){var urlInputElement=document.getElementById("url_invite_topic_input");urlInputElement.focus();urlInputElement.select();urlInputElement.setSelectionRange(0,99999);document.execCommand("copy")};$scope.generateJoinUrl=function(){if($scope.topic.tokenJoin&&$scope.topic.canUpdate()){$scope.form.urlJoin=sLocation.getAbsoluteUrl("/join/"+$scope.topic.tokenJoin)}};$scope.addTopicCategory=function(category){if($scope.form.topic.categories.indexOf(category)===-1&&$scope.form.topic.categories.length<Topic.CATEGORIES_COUNT_MAX){$scope.form.topic.categories.push(category)}};$scope.removeTopicCategory=function(category){$scope.form.topic.categories.splice($scope.form.topic.categories.indexOf(category),1)};$scope.addTopicMember=function(member){if(!member||validator.isEmail(member)){$scope.addTopicMemberUser()}if(member.hasOwnProperty("company")){$scope.addTopicMemberUser(member)}else{$scope.addTopicMemberGroup(member)}};$scope.addTopicMemberGroup=function(group){$scope.searchString=null;$scope.searchResults.users=[];$scope.searchResults.groups=[];$scope.searchResults.emails=[];$scope.searchResults.combined=[];if(!group||!group.id||!group.name){return false}var member=_.find($scope.memberGroups,function(o){return o.id===group.id});if(!member){var memberClone=angular.copy(group);memberClone.groupId=group.id;memberClone.level=TopicMemberGroup.LEVELS.read;$scope.members.groups.push(memberClone)}};$scope.removeTopicMemberGroup=function(group){$scope.members.groups.splice($scope.members.groups.indexOf(group),1)};$scope.updateTopicMemberGroupLevel=function(group,level){$scope.members.groups[$scope.members.groups.indexOf(group)].level=level};$scope.doOrderTopics=function(property){if($scope.topicList.searchOrderBy.property==property){property="-"+property}$scope.topicList.searchOrderBy.property=property};$scope.addTopicMemberUser=function(member){if(member){if(_.find($scope.members.users,{userId:member.id})){$scope.searchString=null;$scope.searchResults.users=[];$scope.searchResults.groups=[];$scope.searchResults.emails=[];$scope.searchResults.combined=[];return}else{var memberClone=angular.copy(member);memberClone.userId=member.id;memberClone.level=TopicMemberUser.LEVELS.read;$scope.members.users.push(memberClone);$scope.searchResults.groups=[];$scope.searchResults.users=[];$scope.searchResults.emails=[];$scope.searchResults.combined=[]}}else{if(validator.isEmail($scope.searchString)){if(!_.find($scope.searchResults.results,{userId:$scope.searchString})){$scope.members.emails.push({userId:$scope.searchString,name:$scope.searchString,level:TopicMemberUser.LEVELS.read});$scope.searchResults.groups=[];$scope.searchResults.users=[];$scope.searchResults.emails=[];$scope.searchResults.combined=[]}}else{$log.debug("Ignoring member, as it does not look like e-mail",$scope.searchString)}}};$scope.removeTopicMemberUser=function(member){if(member.userId.indexOf("@")===-1){$scope.members.users.splice($scope.members.users.indexOf(member),1)}else{$scope.members.emails.splice($scope.members.emails.indexOf(member),1)}};$scope.updateTopicMemberUserLevel=function(member,level){if(member.userId.indexOf("@")===-1){$scope.members.users[$scope.members.users.indexOf(member)].level=level}else{$scope.members.emails[$scope.members.emails.indexOf(member)].level=level}};$scope.doSaveTopic=function(){$scope.errors=null;if($scope.form.topic.visibility===true||$scope.form.topic.visibility==="private"){$scope.form.topic.visibility="private"}else{$scope.form.topic.visibility="public"}if($scope.form.topic.endsAt&&$scope.topic.endsAt===$scope.form.topic.endsAt){delete $scope.form.topic.endsAt}$scope.form.topic.$update().then(function(data){var savePromises=[];var topicMemberUsersToSave=[];$scope.members.users.concat($scope.members.emails).forEach(function(member){topicMemberUsersToSave.push({userId:member.userId,level:member.level})});if(topicMemberUsersToSave.length){savePromises.push(TopicInviteUser.save({topicId:$scope.topic.id},topicMemberUsersToSave))}$scope.members.groups.forEach(function(group){var member={id:group.id,topicId:$scope.topic.id,level:group.level};var topicMemberGroup=new TopicMemberGroup(member);savePromises.push(topicMemberGroup.$save())});return Promise.all(savePromises)}).then(function(){$state.go($state.current.parent,{topicId:$scope.topic.id},{reload:true})},function(errorResponse){if(errorResponse.data&&errorResponse.data.errors){$scope.errors=errorResponse.data.errors}})};init()}]);
"use strict";angular.module("citizenos").controller("TopicVoteCtrl",["$scope","$log","TopicVote","Vote","VoteDelegation","ngDialog",function($scope,$log,TopicVote,Vote,VoteDelegation,ngDialog){$log.debug("TopicVoteCtrl");$scope.topic.vote.topicId=$scope.topic.id;$scope.topic.vote.$get();$scope.$parent.$parent.showVoteArea=true;$scope.$parent.$parent.voteTypes=Vote.VOTE_TYPES;$scope.$parent.$parent.voteAuthTypes=Vote.VOTE_AUTH_TYPES;$scope.$parent.$parent.getUserHasVoted=function(){if($scope.topic.vote&&$scope.topic.vote.options){var options=$scope.topic.vote.options.rows;for(var i in options){if(options[i].selected){return true}}}return false};$scope.$parent.$parent.doVote=function(option){if(!$scope.topic.canVote())return;if($scope.topic.vote.authType===$scope.voteAuthTypes.hard){ngDialog.open({template:"/views/modals/topic_vote_sign.html",controller:"TopicVoteSignCtrl",data:{topic:$scope.topic,option:option},preCloseCallback:function(data){if(data){console.log(data);$scope.topic.vote.topicId=$scope.topic.id;$scope.topic.vote.$get().then(function(){$scope.topic.vote.options.rows.forEach(function(option){data.options.forEach(function(dOption){if(option.id===dOption.optionId){option.selected=true}})});$scope.topic.vote.downloads={bdocVote:data.bdocUri}});return true}}});return}else{var userVote=new TopicVote({id:$scope.topic.vote.id,topicId:$scope.topic.id});userVote.options=[{optionId:option.id}];userVote.$save().then(function(data){$scope.topic.vote.topicId=$scope.topic.id;$scope.topic.vote.$get()})}};$scope.$parent.$parent.doDelegate=function(){if(!$scope.topic.vote.delegation){ngDialog.open({template:"/views/modals/topic_vote_delegate.html",controller:"TopicVoteDelegateCtrl",data:{topic:$scope.topic},preCloseCallback:function(data){$log.debug(data);if(data&&data.delegateUser&&data.delegateUser.id){var delegation=new VoteDelegation({topicId:$scope.topic.id,voteId:$scope.topic.vote.id});delegation.userId=data.delegateUser.id;delegation.$save().then(function(data){$scope.topic.vote.topicId=$scope.topic.id;$scope.topic.vote.$get()})}return true}})}};$scope.$parent.$parent.doRevokeDelegation=function(){$log.debug("doDeleteTopic");ngDialog.openConfirm({template:"/views/modals/topic_vote_revoke_delegation_confirm.html",data:{user:$scope.topic.vote.delegation}}).then(function(){VoteDelegation.delete({topicId:$scope.topic.id,voteId:$scope.topic.vote.id}).$promise.then(function(){$scope.topic.vote.topicId=$scope.topic.id;$scope.topic.vote.$get()})},angular.noop)};$scope.$parent.$parent.getVoteValuePercentage=function(value){if(!$scope.topic.vote.getVoteCountTotal()||value<1||!value)return 0;return value/$scope.topic.vote.getVoteCountTotal()*100};$scope.$parent.$parent.getOptionLetter=function(index){return String.fromCharCode(65+index)}}]);
"use strict";angular.module("citizenos").controller("TopicVoteDelegateCtrl",["$scope","$log","TopicMemberUser","ngDialog",function($scope,$log,TopicMemberUser,ngDialog){$log.debug("TopicVoteDelegateCtrl",$scope.ngDialogData);var topic=$scope.ngDialogData.topic;$scope.delegateUser=null;$scope.searchResults={users:[]};$scope.searchStringUser=null;$scope.topicMembers=[];TopicMemberUser.query({topicId:topic.id}).$promise.then(function(topicMembers){$scope.topicMembers=topicMembers});$scope.search=function(str){if(str&&str.length>=2){$log.debug($scope.topicMembers);$scope.searchResults.users=_.filter($scope.topicMembers,function(member){return member.name.toLowerCase().indexOf(str.toLowerCase())>-1})}else{$scope.searchResults.users=[]}};$scope.addUser=function(member){if(member.id&&member!==$scope.delegateUser){$scope.delegateUser=member}};$scope.doRemoveDelegateUser=function(){$scope.delegateUser=null};$scope.doSaveDelegate=function(){ngDialog.closeAll({delegateUser:$scope.delegateUser})}}]);
"use strict";angular.module("citizenos").controller("TopicVoteSignCtrl",["$scope","$log","$q","$timeout","hwcrypto","ngDialog","sNotification","sAuth","TopicVote",function($scope,$log,$q,$timeout,hwcrypto,ngDialog,sNotification,sAuth,TopicVote){$log.debug("TopicVoteSignCtrl",$scope.ngDialogData);var topic=$scope.ngDialogData.topic;var option=$scope.ngDialogData.option;$scope.formMobile={pid:null,phoneNumber:null,challengeID:null,isLoading:false};$scope.formSmartId={pid:null,countryCode:"EE",challengeID:null,isLoading:false};$scope.challengeID=null;$scope.isLoadingIdCard=false;$scope.optionSelected=option;$scope.doSignWithCard=function(){$scope.isLoadingIdCard=true;hwcrypto.getCertificate({}).then(function(certificate){var userVote=new TopicVote({id:topic.vote.id,topicId:topic.id});userVote.options=[{optionId:$scope.optionSelected.id}];userVote.certificate=certificate.hex;return $q.all([certificate,userVote.$save()])}).then(function(results){var certificate=results[0];var voteResponse=results[1];var signedInfoDigest=voteResponse.signedInfoDigest;var signedInfoHashType=voteResponse.signedInfoHashType;var token=voteResponse.token;return $q.all([hwcrypto.sign(certificate,{hex:signedInfoDigest,type:signedInfoHashType},{}),token])}).then(function(results){var signature=results[0];var token=results[1];var signTopicVote=new TopicVote({id:topic.vote.id,topicId:topic.id});signTopicVote.signatureValue=signature.hex;signTopicVote.token=token;return signTopicVote.$sign()}).then(function(voteSignResult){ngDialog.closeAll({options:[{optionId:$scope.optionSelected.id}],bdocUri:voteSignResult.data.bdocUri})},function(err){$scope.isLoadingIdCard=false;var msg=null;if(err instanceof Error){msg=hwCryptoErrorToTranslationKey(err)}else{msg=err.status.message}$scope.$apply(sNotification.addError(msg))})};$scope.doSignWithMobile=function(){$log.debug("doSignWithMobile()");$scope.formMobile.isLoading=true;var userVote=new TopicVote({id:topic.vote.id,topicId:topic.id});userVote.options=[{optionId:$scope.optionSelected.id}];userVote.pid=$scope.formMobile.pid;userVote.certificate=null;userVote.phoneNumber=$scope.formMobile.phoneNumber;$scope.formMobile.challengeID=null;userVote.$save().then(function(voteInitResult){$log.debug("voteInitResult",voteInitResult);$scope.challengeID=voteInitResult.challengeID;$scope.formMobile.challengeID=voteInitResult.challengeID;var token=voteInitResult.token;return pollVoteMobileSignStatus(topic.id,topic.vote.id,token,3e3,80)}).then(function(voteStatusResult){$log.debug("voteVoteSign succeeded",arguments);ngDialog.closeAll({options:[{optionId:$scope.optionSelected.id}],bdocUri:voteStatusResult.bdocUri})},function(err){$scope.formMobile.isLoading=false})};var pollVoteMobileSignStatus=function(topicId,voteId,token,milliseconds,retry){if(!retry)retry=80;if(!retry--)throw new Error("Too many retries");var voteStatusPromise=TopicVote.status({topicId:topic.id,voteId:topic.vote.id,prefix:sAuth.getUrlPrefix(),userId:sAuth.getUrlUserId(),token:token}).$promise;return voteStatusPromise.then(function(response){var statusCode=response.status.code;switch(statusCode){case 20001:return $timeout(function(){return pollVoteMobileSignStatus(topicId,voteId,token,milliseconds,retry)},milliseconds,false);case 20002:return response.data;default:$log.error("Mobile signing failed",response);return $q.defer().reject(response)}})};$scope.doSignWithSmartId=function(){$log.debug("doSignWithSmartId()");console.log($scope.formSmartId);$scope.formSmartId.isLoading=true;var userVote=new TopicVote({id:topic.vote.id,topicId:topic.id});userVote.options=[{optionId:$scope.optionSelected.id}];userVote.pid=$scope.formSmartId.pid;userVote.certificate=null;userVote.phoneNumber=null;userVote.countryCode=$scope.formSmartId.countryCode;$scope.formSmartId.challengeID=null;userVote.$save().then(function(voteInitResult){$log.debug("voteInitSmartIdResult",voteInitResult);$scope.challengeID=voteInitResult.challengeID;$scope.formSmartId.challengeID=voteInitResult.challengeID;var token=voteInitResult.token;return pollVoteSmartIdSignStatus(topic.id,topic.vote.id,token,3e3,80)}).then(function(voteStatusResult){$log.debug("voteVoteSign succeeded",arguments);ngDialog.closeAll({options:[{optionId:$scope.optionSelected.id}],bdocUri:voteStatusResult.bdocUri})},function(err){$scope.formSmartId.isLoading=false})};var pollVoteSmartIdSignStatus=function(topicId,voteId,token,milliseconds,retry){if(!retry)retry=80;if(!retry--)throw new Error("Too many retries");var voteStatusPromise=TopicVote.status({topicId:topic.id,voteId:topic.vote.id,prefix:sAuth.getUrlPrefix(),userId:sAuth.getUrlUserId(),token:token}).$promise;return voteStatusPromise.then(function(response){var statusCode=response.status.code;switch(statusCode){case 20001:return $timeout(function(){return pollVoteSmartIdSignStatus(topicId,voteId,token,milliseconds,retry)},milliseconds,false);case 20002:return response.data;default:$log.error("Mobile signing failed",response);return $q.defer().reject(response)}})};var hwCryptoErrorToTranslationKey=function(err){var errorKeyPrefix="MSG_ERROR_HWCRYPTO_";switch(err.message){case hwcrypto.NO_CERTIFICATES:case hwcrypto.USER_CANCEL:case hwcrypto.NO_IMPLEMENTATION:return errorKeyPrefix+err.message.toUpperCase();break;case hwcrypto.INVALID_ARGUMENT:case hwcrypto.NOT_ALLOWED:case hwcrypto.TECHNICAL_ERROR:$log.error(err.message,"Technical error from HWCrypto library",err);return errorKeyPrefix+"TECHNICAL_ERROR";break;default:$log.error(err.message,"Unknown error from HWCrypto library",err);return errorKeyPrefix+"TECHNICAL_ERROR"}}}]);
//# sourceMappingURL=citizenos-fe.bundle.js.map
